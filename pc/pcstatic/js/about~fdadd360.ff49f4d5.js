(window.webpackJsonp = window.webpackJsonp || []).push([["about~fdadd360"], {
    "0106": function (t, e, i) { (function (t) { !function (t, e) { "use strict"; function n(t, e) { if (!t) throw new Error(e || "Assertion failed") } function r(t, e) { t.super_ = e; var i = function () { }; i.prototype = e.prototype, t.prototype = new i, t.prototype.constructor = t } function a(t, e, i) { if (a.isBN(t)) return t; this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== t && ("le" !== e && "be" !== e || (i = e, e = 10), this._init(t || 0, e || 10, i || "be")) } var o; "object" == typeof t ? t.exports = a : e.BN = a, a.BN = a, a.wordSize = 26; try { o = "undefined" != typeof window && void 0 !== window.Buffer ? window.Buffer : i(20).Buffer } catch (t) { } function s(t, e) { var i = t.charCodeAt(e); return i >= 65 && i <= 70 ? i - 55 : i >= 97 && i <= 102 ? i - 87 : i - 48 & 15 } function h(t, e, i) { var n = s(t, i); return i - 1 >= e && (n |= s(t, i - 1) << 4), n } function u(t, e, i, n) { for (var r = 0, a = Math.min(t.length, i), o = e; o < a; o++) { var s = t.charCodeAt(o) - 48; r *= n, r += s >= 49 ? s - 49 + 10 : s >= 17 ? s - 17 + 10 : s } return r } a.isBN = function (t) { return t instanceof a || null !== t && "object" == typeof t && t.constructor.wordSize === a.wordSize && Array.isArray(t.words) }, a.max = function (t, e) { return t.cmp(e) > 0 ? t : e }, a.min = function (t, e) { return t.cmp(e) < 0 ? t : e }, a.prototype._init = function (t, e, i) { if ("number" == typeof t) return this._initNumber(t, e, i); if ("object" == typeof t) return this._initArray(t, e, i); "hex" === e && (e = 16), n(e === (0 | e) && e >= 2 && e <= 36); var r = 0; "-" === (t = t.toString().replace(/\s+/g, ""))[0] && (r++, this.negative = 1), r < t.length && (16 === e ? this._parseHex(t, r, i) : (this._parseBase(t, e, r), "le" === i && this._initArray(this.toArray(), e, i))) }, a.prototype._initNumber = function (t, e, i) { t < 0 && (this.negative = 1, t = -t), t < 67108864 ? (this.words = [67108863 & t], this.length = 1) : t < 4503599627370496 ? (this.words = [67108863 & t, t / 67108864 & 67108863], this.length = 2) : (n(t < 9007199254740992), this.words = [67108863 & t, t / 67108864 & 67108863, 1], this.length = 3), "le" === i && this._initArray(this.toArray(), e, i) }, a.prototype._initArray = function (t, e, i) { if (n("number" == typeof t.length), t.length <= 0) return this.words = [0], this.length = 1, this; this.length = Math.ceil(t.length / 3), this.words = new Array(this.length); for (var r = 0; r < this.length; r++)this.words[r] = 0; var a, o, s = 0; if ("be" === i) for (r = t.length - 1, a = 0; r >= 0; r -= 3)o = t[r] | t[r - 1] << 8 | t[r - 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); else if ("le" === i) for (r = 0, a = 0; r < t.length; r += 3)o = t[r] | t[r + 1] << 8 | t[r + 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); return this.strip() }, a.prototype._parseHex = function (t, e, i) { this.length = Math.ceil((t.length - e) / 6), this.words = new Array(this.length); for (var n = 0; n < this.length; n++)this.words[n] = 0; var r, a = 0, o = 0; if ("be" === i) for (n = t.length - 1; n >= e; n -= 2)r = h(t, e, n) << a, this.words[o] |= 67108863 & r, a >= 18 ? (a -= 18, o += 1, this.words[o] |= r >>> 26) : a += 8; else for (n = (t.length - e) % 2 == 0 ? e + 1 : e; n < t.length; n += 2)r = h(t, e, n) << a, this.words[o] |= 67108863 & r, a >= 18 ? (a -= 18, o += 1, this.words[o] |= r >>> 26) : a += 8; this.strip() }, a.prototype._parseBase = function (t, e, i) { this.words = [0], this.length = 1; for (var n = 0, r = 1; r <= 67108863; r *= e)n++; n--, r = r / e | 0; for (var a = t.length - i, o = a % n, s = Math.min(a, a - o) + i, h = 0, l = i; l < s; l += n)h = u(t, l, l + n, e), this.imuln(r), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h); if (0 !== o) { var c = 1; for (h = u(t, l, t.length, e), l = 0; l < o; l++)c *= e; this.imuln(c), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h) } this.strip() }, a.prototype.copy = function (t) { t.words = new Array(this.length); for (var e = 0; e < this.length; e++)t.words[e] = this.words[e]; t.length = this.length, t.negative = this.negative, t.red = this.red }, a.prototype.clone = function () { var t = new a(null); return this.copy(t), t }, a.prototype._expand = function (t) { for (; this.length < t;)this.words[this.length++] = 0; return this }, a.prototype.strip = function () { for (; this.length > 1 && 0 === this.words[this.length - 1];)this.length--; return this._normSign() }, a.prototype._normSign = function () { return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this }, a.prototype.inspect = function () { return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">" }; var l = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], c = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], f = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176]; function d(t, e, i) { i.negative = e.negative ^ t.negative; var n = t.length + e.length | 0; i.length = n, n = n - 1 | 0; var r = 0 | t.words[0], a = 0 | e.words[0], o = r * a, s = 67108863 & o, h = o / 67108864 | 0; i.words[0] = s; for (var u = 1; u < n; u++) { for (var l = h >>> 26, c = 67108863 & h, f = Math.min(u, e.length - 1), d = Math.max(0, u - t.length + 1); d <= f; d++) { var p = u - d | 0; l += (o = (r = 0 | t.words[p]) * (a = 0 | e.words[d]) + c) / 67108864 | 0, c = 67108863 & o } i.words[u] = 0 | c, h = 0 | l } return 0 !== h ? i.words[u] = 0 | h : i.length--, i.strip() } a.prototype.toString = function (t, e) { var i; if (e = 0 | e || 1, 16 === (t = t || 10) || "hex" === t) { i = ""; for (var r = 0, a = 0, o = 0; o < this.length; o++) { var s = this.words[o], h = (16777215 & (s << r | a)).toString(16); i = 0 !== (a = s >>> 24 - r & 16777215) || o !== this.length - 1 ? l[6 - h.length] + h + i : h + i, (r += 2) >= 26 && (r -= 26, o--) } for (0 !== a && (i = a.toString(16) + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } if (t === (0 | t) && t >= 2 && t <= 36) { var u = c[t], d = f[t]; i = ""; var p = this.clone(); for (p.negative = 0; !p.isZero();) { var m = p.modn(d).toString(t); i = (p = p.idivn(d)).isZero() ? m + i : l[u - m.length] + m + i } for (this.isZero() && (i = "0" + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } n(!1, "Base should be between 2 and 36") }, a.prototype.toNumber = function () { var t = this.words[0]; return 2 === this.length ? t += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? t += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && n(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -t : t }, a.prototype.toJSON = function () { return this.toString(16) }, a.prototype.toBuffer = function (t, e) { return n(void 0 !== o), this.toArrayLike(o, t, e) }, a.prototype.toArray = function (t, e) { return this.toArrayLike(Array, t, e) }, a.prototype.toArrayLike = function (t, e, i) { var r = this.byteLength(), a = i || Math.max(1, r); n(r <= a, "byte array longer than desired length"), n(a > 0, "Requested array length <= 0"), this.strip(); var o, s, h = "le" === e, u = new t(a), l = this.clone(); if (h) { for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[s] = o; for (; s < a; s++)u[s] = 0 } else { for (s = 0; s < a - r; s++)u[s] = 0; for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[a - s - 1] = o } return u }, Math.clz32 ? a.prototype._countBits = function (t) { return 32 - Math.clz32(t) } : a.prototype._countBits = function (t) { var e = t, i = 0; return e >= 4096 && (i += 13, e >>>= 13), e >= 64 && (i += 7, e >>>= 7), e >= 8 && (i += 4, e >>>= 4), e >= 2 && (i += 2, e >>>= 2), i + e }, a.prototype._zeroBits = function (t) { if (0 === t) return 26; var e = t, i = 0; return 0 == (8191 & e) && (i += 13, e >>>= 13), 0 == (127 & e) && (i += 7, e >>>= 7), 0 == (15 & e) && (i += 4, e >>>= 4), 0 == (3 & e) && (i += 2, e >>>= 2), 0 == (1 & e) && i++, i }, a.prototype.bitLength = function () { var t = this.words[this.length - 1], e = this._countBits(t); return 26 * (this.length - 1) + e }, a.prototype.zeroBits = function () { if (this.isZero()) return 0; for (var t = 0, e = 0; e < this.length; e++) { var i = this._zeroBits(this.words[e]); if (t += i, 26 !== i) break } return t }, a.prototype.byteLength = function () { return Math.ceil(this.bitLength() / 8) }, a.prototype.toTwos = function (t) { return 0 !== this.negative ? this.abs().inotn(t).iaddn(1) : this.clone() }, a.prototype.fromTwos = function (t) { return this.testn(t - 1) ? this.notn(t).iaddn(1).ineg() : this.clone() }, a.prototype.isNeg = function () { return 0 !== this.negative }, a.prototype.neg = function () { return this.clone().ineg() }, a.prototype.ineg = function () { return this.isZero() || (this.negative ^= 1), this }, a.prototype.iuor = function (t) { for (; this.length < t.length;)this.words[this.length++] = 0; for (var e = 0; e < t.length; e++)this.words[e] = this.words[e] | t.words[e]; return this.strip() }, a.prototype.ior = function (t) { return n(0 == (this.negative | t.negative)), this.iuor(t) }, a.prototype.or = function (t) { return this.length > t.length ? this.clone().ior(t) : t.clone().ior(this) }, a.prototype.uor = function (t) { return this.length > t.length ? this.clone().iuor(t) : t.clone().iuor(this) }, a.prototype.iuand = function (t) { var e; e = this.length > t.length ? t : this; for (var i = 0; i < e.length; i++)this.words[i] = this.words[i] & t.words[i]; return this.length = e.length, this.strip() }, a.prototype.iand = function (t) { return n(0 == (this.negative | t.negative)), this.iuand(t) }, a.prototype.and = function (t) { return this.length > t.length ? this.clone().iand(t) : t.clone().iand(this) }, a.prototype.uand = function (t) { return this.length > t.length ? this.clone().iuand(t) : t.clone().iuand(this) }, a.prototype.iuxor = function (t) { var e, i; this.length > t.length ? (e = this, i = t) : (e = t, i = this); for (var n = 0; n < i.length; n++)this.words[n] = e.words[n] ^ i.words[n]; if (this !== e) for (; n < e.length; n++)this.words[n] = e.words[n]; return this.length = e.length, this.strip() }, a.prototype.ixor = function (t) { return n(0 == (this.negative | t.negative)), this.iuxor(t) }, a.prototype.xor = function (t) { return this.length > t.length ? this.clone().ixor(t) : t.clone().ixor(this) }, a.prototype.uxor = function (t) { return this.length > t.length ? this.clone().iuxor(t) : t.clone().iuxor(this) }, a.prototype.inotn = function (t) { n("number" == typeof t && t >= 0); var e = 0 | Math.ceil(t / 26), i = t % 26; this._expand(e), i > 0 && e--; for (var r = 0; r < e; r++)this.words[r] = 67108863 & ~this.words[r]; return i > 0 && (this.words[r] = ~this.words[r] & 67108863 >> 26 - i), this.strip() }, a.prototype.notn = function (t) { return this.clone().inotn(t) }, a.prototype.setn = function (t, e) { n("number" == typeof t && t >= 0); var i = t / 26 | 0, r = t % 26; return this._expand(i + 1), this.words[i] = e ? this.words[i] | 1 << r : this.words[i] & ~(1 << r), this.strip() }, a.prototype.iadd = function (t) { var e, i, n; if (0 !== this.negative && 0 === t.negative) return this.negative = 0, e = this.isub(t), this.negative ^= 1, this._normSign(); if (0 === this.negative && 0 !== t.negative) return t.negative = 0, e = this.isub(t), t.negative = 1, e._normSign(); this.length > t.length ? (i = this, n = t) : (i = t, n = this); for (var r = 0, a = 0; a < n.length; a++)e = (0 | i.words[a]) + (0 | n.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; for (; 0 !== r && a < i.length; a++)e = (0 | i.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; if (this.length = i.length, 0 !== r) this.words[this.length] = r, this.length++; else if (i !== this) for (; a < i.length; a++)this.words[a] = i.words[a]; return this }, a.prototype.add = function (t) { var e; return 0 !== t.negative && 0 === this.negative ? (t.negative = 0, e = this.sub(t), t.negative ^= 1, e) : 0 === t.negative && 0 !== this.negative ? (this.negative = 0, e = t.sub(this), this.negative = 1, e) : this.length > t.length ? this.clone().iadd(t) : t.clone().iadd(this) }, a.prototype.isub = function (t) { if (0 !== t.negative) { t.negative = 0; var e = this.iadd(t); return t.negative = 1, e._normSign() } if (0 !== this.negative) return this.negative = 0, this.iadd(t), this.negative = 1, this._normSign(); var i, n, r = this.cmp(t); if (0 === r) return this.negative = 0, this.length = 1, this.words[0] = 0, this; r > 0 ? (i = this, n = t) : (i = t, n = this); for (var a = 0, o = 0; o < n.length; o++)a = (e = (0 | i.words[o]) - (0 | n.words[o]) + a) >> 26, this.words[o] = 67108863 & e; for (; 0 !== a && o < i.length; o++)a = (e = (0 | i.words[o]) + a) >> 26, this.words[o] = 67108863 & e; if (0 === a && o < i.length && i !== this) for (; o < i.length; o++)this.words[o] = i.words[o]; return this.length = Math.max(this.length, o), i !== this && (this.negative = 1), this.strip() }, a.prototype.sub = function (t) { return this.clone().isub(t) }; var p = function (t, e, i) { var n, r, a, o = t.words, s = e.words, h = i.words, u = 0, l = 0 | o[0], c = 8191 & l, f = l >>> 13, d = 0 | o[1], p = 8191 & d, m = d >>> 13, v = 0 | o[2], y = 8191 & v, g = v >>> 13, b = 0 | o[3], _ = 8191 & b, w = b >>> 13, k = 0 | o[4], M = 8191 & k, x = k >>> 13, S = 0 | o[5], E = 8191 & S, D = S >>> 13, A = 0 | o[6], T = 8191 & A, C = A >>> 13, P = 0 | o[7], I = 8191 & P, O = P >>> 13, R = 0 | o[8], L = 8191 & R, j = R >>> 13, B = 0 | o[9], z = 8191 & B, N = B >>> 13, F = 0 | s[0], q = 8191 & F, H = F >>> 13, V = 0 | s[1], U = 8191 & V, W = V >>> 13, Y = 0 | s[2], K = 8191 & Y, Z = Y >>> 13, X = 0 | s[3], G = 8191 & X, J = X >>> 13, $ = 0 | s[4], Q = 8191 & $, tt = $ >>> 13, et = 0 | s[5], it = 8191 & et, nt = et >>> 13, rt = 0 | s[6], at = 8191 & rt, ot = rt >>> 13, st = 0 | s[7], ht = 8191 & st, ut = st >>> 13, lt = 0 | s[8], ct = 8191 & lt, ft = lt >>> 13, dt = 0 | s[9], pt = 8191 & dt, mt = dt >>> 13; i.negative = t.negative ^ e.negative, i.length = 19; var vt = (u + (n = Math.imul(c, q)) | 0) + ((8191 & (r = (r = Math.imul(c, H)) + Math.imul(f, q) | 0)) << 13) | 0; u = ((a = Math.imul(f, H)) + (r >>> 13) | 0) + (vt >>> 26) | 0, vt &= 67108863, n = Math.imul(p, q), r = (r = Math.imul(p, H)) + Math.imul(m, q) | 0, a = Math.imul(m, H); var yt = (u + (n = n + Math.imul(c, U) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, W) | 0) + Math.imul(f, U) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, W) | 0) + (r >>> 13) | 0) + (yt >>> 26) | 0, yt &= 67108863, n = Math.imul(y, q), r = (r = Math.imul(y, H)) + Math.imul(g, q) | 0, a = Math.imul(g, H), n = n + Math.imul(p, U) | 0, r = (r = r + Math.imul(p, W) | 0) + Math.imul(m, U) | 0, a = a + Math.imul(m, W) | 0; var gt = (u + (n = n + Math.imul(c, K) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, Z) | 0) + Math.imul(f, K) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, Z) | 0) + (r >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, n = Math.imul(_, q), r = (r = Math.imul(_, H)) + Math.imul(w, q) | 0, a = Math.imul(w, H), n = n + Math.imul(y, U) | 0, r = (r = r + Math.imul(y, W) | 0) + Math.imul(g, U) | 0, a = a + Math.imul(g, W) | 0, n = n + Math.imul(p, K) | 0, r = (r = r + Math.imul(p, Z) | 0) + Math.imul(m, K) | 0, a = a + Math.imul(m, Z) | 0; var bt = (u + (n = n + Math.imul(c, G) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, J) | 0) + Math.imul(f, G) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, J) | 0) + (r >>> 13) | 0) + (bt >>> 26) | 0, bt &= 67108863, n = Math.imul(M, q), r = (r = Math.imul(M, H)) + Math.imul(x, q) | 0, a = Math.imul(x, H), n = n + Math.imul(_, U) | 0, r = (r = r + Math.imul(_, W) | 0) + Math.imul(w, U) | 0, a = a + Math.imul(w, W) | 0, n = n + Math.imul(y, K) | 0, r = (r = r + Math.imul(y, Z) | 0) + Math.imul(g, K) | 0, a = a + Math.imul(g, Z) | 0, n = n + Math.imul(p, G) | 0, r = (r = r + Math.imul(p, J) | 0) + Math.imul(m, G) | 0, a = a + Math.imul(m, J) | 0; var _t = (u + (n = n + Math.imul(c, Q) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, tt) | 0) + Math.imul(f, Q) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, tt) | 0) + (r >>> 13) | 0) + (_t >>> 26) | 0, _t &= 67108863, n = Math.imul(E, q), r = (r = Math.imul(E, H)) + Math.imul(D, q) | 0, a = Math.imul(D, H), n = n + Math.imul(M, U) | 0, r = (r = r + Math.imul(M, W) | 0) + Math.imul(x, U) | 0, a = a + Math.imul(x, W) | 0, n = n + Math.imul(_, K) | 0, r = (r = r + Math.imul(_, Z) | 0) + Math.imul(w, K) | 0, a = a + Math.imul(w, Z) | 0, n = n + Math.imul(y, G) | 0, r = (r = r + Math.imul(y, J) | 0) + Math.imul(g, G) | 0, a = a + Math.imul(g, J) | 0, n = n + Math.imul(p, Q) | 0, r = (r = r + Math.imul(p, tt) | 0) + Math.imul(m, Q) | 0, a = a + Math.imul(m, tt) | 0; var wt = (u + (n = n + Math.imul(c, it) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, nt) | 0) + Math.imul(f, it) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, nt) | 0) + (r >>> 13) | 0) + (wt >>> 26) | 0, wt &= 67108863, n = Math.imul(T, q), r = (r = Math.imul(T, H)) + Math.imul(C, q) | 0, a = Math.imul(C, H), n = n + Math.imul(E, U) | 0, r = (r = r + Math.imul(E, W) | 0) + Math.imul(D, U) | 0, a = a + Math.imul(D, W) | 0, n = n + Math.imul(M, K) | 0, r = (r = r + Math.imul(M, Z) | 0) + Math.imul(x, K) | 0, a = a + Math.imul(x, Z) | 0, n = n + Math.imul(_, G) | 0, r = (r = r + Math.imul(_, J) | 0) + Math.imul(w, G) | 0, a = a + Math.imul(w, J) | 0, n = n + Math.imul(y, Q) | 0, r = (r = r + Math.imul(y, tt) | 0) + Math.imul(g, Q) | 0, a = a + Math.imul(g, tt) | 0, n = n + Math.imul(p, it) | 0, r = (r = r + Math.imul(p, nt) | 0) + Math.imul(m, it) | 0, a = a + Math.imul(m, nt) | 0; var kt = (u + (n = n + Math.imul(c, at) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ot) | 0) + Math.imul(f, at) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ot) | 0) + (r >>> 13) | 0) + (kt >>> 26) | 0, kt &= 67108863, n = Math.imul(I, q), r = (r = Math.imul(I, H)) + Math.imul(O, q) | 0, a = Math.imul(O, H), n = n + Math.imul(T, U) | 0, r = (r = r + Math.imul(T, W) | 0) + Math.imul(C, U) | 0, a = a + Math.imul(C, W) | 0, n = n + Math.imul(E, K) | 0, r = (r = r + Math.imul(E, Z) | 0) + Math.imul(D, K) | 0, a = a + Math.imul(D, Z) | 0, n = n + Math.imul(M, G) | 0, r = (r = r + Math.imul(M, J) | 0) + Math.imul(x, G) | 0, a = a + Math.imul(x, J) | 0, n = n + Math.imul(_, Q) | 0, r = (r = r + Math.imul(_, tt) | 0) + Math.imul(w, Q) | 0, a = a + Math.imul(w, tt) | 0, n = n + Math.imul(y, it) | 0, r = (r = r + Math.imul(y, nt) | 0) + Math.imul(g, it) | 0, a = a + Math.imul(g, nt) | 0, n = n + Math.imul(p, at) | 0, r = (r = r + Math.imul(p, ot) | 0) + Math.imul(m, at) | 0, a = a + Math.imul(m, ot) | 0; var Mt = (u + (n = n + Math.imul(c, ht) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ut) | 0) + Math.imul(f, ht) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ut) | 0) + (r >>> 13) | 0) + (Mt >>> 26) | 0, Mt &= 67108863, n = Math.imul(L, q), r = (r = Math.imul(L, H)) + Math.imul(j, q) | 0, a = Math.imul(j, H), n = n + Math.imul(I, U) | 0, r = (r = r + Math.imul(I, W) | 0) + Math.imul(O, U) | 0, a = a + Math.imul(O, W) | 0, n = n + Math.imul(T, K) | 0, r = (r = r + Math.imul(T, Z) | 0) + Math.imul(C, K) | 0, a = a + Math.imul(C, Z) | 0, n = n + Math.imul(E, G) | 0, r = (r = r + Math.imul(E, J) | 0) + Math.imul(D, G) | 0, a = a + Math.imul(D, J) | 0, n = n + Math.imul(M, Q) | 0, r = (r = r + Math.imul(M, tt) | 0) + Math.imul(x, Q) | 0, a = a + Math.imul(x, tt) | 0, n = n + Math.imul(_, it) | 0, r = (r = r + Math.imul(_, nt) | 0) + Math.imul(w, it) | 0, a = a + Math.imul(w, nt) | 0, n = n + Math.imul(y, at) | 0, r = (r = r + Math.imul(y, ot) | 0) + Math.imul(g, at) | 0, a = a + Math.imul(g, ot) | 0, n = n + Math.imul(p, ht) | 0, r = (r = r + Math.imul(p, ut) | 0) + Math.imul(m, ht) | 0, a = a + Math.imul(m, ut) | 0; var xt = (u + (n = n + Math.imul(c, ct) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ft) | 0) + Math.imul(f, ct) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ft) | 0) + (r >>> 13) | 0) + (xt >>> 26) | 0, xt &= 67108863, n = Math.imul(z, q), r = (r = Math.imul(z, H)) + Math.imul(N, q) | 0, a = Math.imul(N, H), n = n + Math.imul(L, U) | 0, r = (r = r + Math.imul(L, W) | 0) + Math.imul(j, U) | 0, a = a + Math.imul(j, W) | 0, n = n + Math.imul(I, K) | 0, r = (r = r + Math.imul(I, Z) | 0) + Math.imul(O, K) | 0, a = a + Math.imul(O, Z) | 0, n = n + Math.imul(T, G) | 0, r = (r = r + Math.imul(T, J) | 0) + Math.imul(C, G) | 0, a = a + Math.imul(C, J) | 0, n = n + Math.imul(E, Q) | 0, r = (r = r + Math.imul(E, tt) | 0) + Math.imul(D, Q) | 0, a = a + Math.imul(D, tt) | 0, n = n + Math.imul(M, it) | 0, r = (r = r + Math.imul(M, nt) | 0) + Math.imul(x, it) | 0, a = a + Math.imul(x, nt) | 0, n = n + Math.imul(_, at) | 0, r = (r = r + Math.imul(_, ot) | 0) + Math.imul(w, at) | 0, a = a + Math.imul(w, ot) | 0, n = n + Math.imul(y, ht) | 0, r = (r = r + Math.imul(y, ut) | 0) + Math.imul(g, ht) | 0, a = a + Math.imul(g, ut) | 0, n = n + Math.imul(p, ct) | 0, r = (r = r + Math.imul(p, ft) | 0) + Math.imul(m, ct) | 0, a = a + Math.imul(m, ft) | 0; var St = (u + (n = n + Math.imul(c, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, mt) | 0) + Math.imul(f, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, mt) | 0) + (r >>> 13) | 0) + (St >>> 26) | 0, St &= 67108863, n = Math.imul(z, U), r = (r = Math.imul(z, W)) + Math.imul(N, U) | 0, a = Math.imul(N, W), n = n + Math.imul(L, K) | 0, r = (r = r + Math.imul(L, Z) | 0) + Math.imul(j, K) | 0, a = a + Math.imul(j, Z) | 0, n = n + Math.imul(I, G) | 0, r = (r = r + Math.imul(I, J) | 0) + Math.imul(O, G) | 0, a = a + Math.imul(O, J) | 0, n = n + Math.imul(T, Q) | 0, r = (r = r + Math.imul(T, tt) | 0) + Math.imul(C, Q) | 0, a = a + Math.imul(C, tt) | 0, n = n + Math.imul(E, it) | 0, r = (r = r + Math.imul(E, nt) | 0) + Math.imul(D, it) | 0, a = a + Math.imul(D, nt) | 0, n = n + Math.imul(M, at) | 0, r = (r = r + Math.imul(M, ot) | 0) + Math.imul(x, at) | 0, a = a + Math.imul(x, ot) | 0, n = n + Math.imul(_, ht) | 0, r = (r = r + Math.imul(_, ut) | 0) + Math.imul(w, ht) | 0, a = a + Math.imul(w, ut) | 0, n = n + Math.imul(y, ct) | 0, r = (r = r + Math.imul(y, ft) | 0) + Math.imul(g, ct) | 0, a = a + Math.imul(g, ft) | 0; var Et = (u + (n = n + Math.imul(p, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(p, mt) | 0) + Math.imul(m, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(m, mt) | 0) + (r >>> 13) | 0) + (Et >>> 26) | 0, Et &= 67108863, n = Math.imul(z, K), r = (r = Math.imul(z, Z)) + Math.imul(N, K) | 0, a = Math.imul(N, Z), n = n + Math.imul(L, G) | 0, r = (r = r + Math.imul(L, J) | 0) + Math.imul(j, G) | 0, a = a + Math.imul(j, J) | 0, n = n + Math.imul(I, Q) | 0, r = (r = r + Math.imul(I, tt) | 0) + Math.imul(O, Q) | 0, a = a + Math.imul(O, tt) | 0, n = n + Math.imul(T, it) | 0, r = (r = r + Math.imul(T, nt) | 0) + Math.imul(C, it) | 0, a = a + Math.imul(C, nt) | 0, n = n + Math.imul(E, at) | 0, r = (r = r + Math.imul(E, ot) | 0) + Math.imul(D, at) | 0, a = a + Math.imul(D, ot) | 0, n = n + Math.imul(M, ht) | 0, r = (r = r + Math.imul(M, ut) | 0) + Math.imul(x, ht) | 0, a = a + Math.imul(x, ut) | 0, n = n + Math.imul(_, ct) | 0, r = (r = r + Math.imul(_, ft) | 0) + Math.imul(w, ct) | 0, a = a + Math.imul(w, ft) | 0; var Dt = (u + (n = n + Math.imul(y, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(y, mt) | 0) + Math.imul(g, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(g, mt) | 0) + (r >>> 13) | 0) + (Dt >>> 26) | 0, Dt &= 67108863, n = Math.imul(z, G), r = (r = Math.imul(z, J)) + Math.imul(N, G) | 0, a = Math.imul(N, J), n = n + Math.imul(L, Q) | 0, r = (r = r + Math.imul(L, tt) | 0) + Math.imul(j, Q) | 0, a = a + Math.imul(j, tt) | 0, n = n + Math.imul(I, it) | 0, r = (r = r + Math.imul(I, nt) | 0) + Math.imul(O, it) | 0, a = a + Math.imul(O, nt) | 0, n = n + Math.imul(T, at) | 0, r = (r = r + Math.imul(T, ot) | 0) + Math.imul(C, at) | 0, a = a + Math.imul(C, ot) | 0, n = n + Math.imul(E, ht) | 0, r = (r = r + Math.imul(E, ut) | 0) + Math.imul(D, ht) | 0, a = a + Math.imul(D, ut) | 0, n = n + Math.imul(M, ct) | 0, r = (r = r + Math.imul(M, ft) | 0) + Math.imul(x, ct) | 0, a = a + Math.imul(x, ft) | 0; var At = (u + (n = n + Math.imul(_, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(_, mt) | 0) + Math.imul(w, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(w, mt) | 0) + (r >>> 13) | 0) + (At >>> 26) | 0, At &= 67108863, n = Math.imul(z, Q), r = (r = Math.imul(z, tt)) + Math.imul(N, Q) | 0, a = Math.imul(N, tt), n = n + Math.imul(L, it) | 0, r = (r = r + Math.imul(L, nt) | 0) + Math.imul(j, it) | 0, a = a + Math.imul(j, nt) | 0, n = n + Math.imul(I, at) | 0, r = (r = r + Math.imul(I, ot) | 0) + Math.imul(O, at) | 0, a = a + Math.imul(O, ot) | 0, n = n + Math.imul(T, ht) | 0, r = (r = r + Math.imul(T, ut) | 0) + Math.imul(C, ht) | 0, a = a + Math.imul(C, ut) | 0, n = n + Math.imul(E, ct) | 0, r = (r = r + Math.imul(E, ft) | 0) + Math.imul(D, ct) | 0, a = a + Math.imul(D, ft) | 0; var Tt = (u + (n = n + Math.imul(M, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(M, mt) | 0) + Math.imul(x, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(x, mt) | 0) + (r >>> 13) | 0) + (Tt >>> 26) | 0, Tt &= 67108863, n = Math.imul(z, it), r = (r = Math.imul(z, nt)) + Math.imul(N, it) | 0, a = Math.imul(N, nt), n = n + Math.imul(L, at) | 0, r = (r = r + Math.imul(L, ot) | 0) + Math.imul(j, at) | 0, a = a + Math.imul(j, ot) | 0, n = n + Math.imul(I, ht) | 0, r = (r = r + Math.imul(I, ut) | 0) + Math.imul(O, ht) | 0, a = a + Math.imul(O, ut) | 0, n = n + Math.imul(T, ct) | 0, r = (r = r + Math.imul(T, ft) | 0) + Math.imul(C, ct) | 0, a = a + Math.imul(C, ft) | 0; var Ct = (u + (n = n + Math.imul(E, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(E, mt) | 0) + Math.imul(D, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(D, mt) | 0) + (r >>> 13) | 0) + (Ct >>> 26) | 0, Ct &= 67108863, n = Math.imul(z, at), r = (r = Math.imul(z, ot)) + Math.imul(N, at) | 0, a = Math.imul(N, ot), n = n + Math.imul(L, ht) | 0, r = (r = r + Math.imul(L, ut) | 0) + Math.imul(j, ht) | 0, a = a + Math.imul(j, ut) | 0, n = n + Math.imul(I, ct) | 0, r = (r = r + Math.imul(I, ft) | 0) + Math.imul(O, ct) | 0, a = a + Math.imul(O, ft) | 0; var Pt = (u + (n = n + Math.imul(T, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(T, mt) | 0) + Math.imul(C, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(C, mt) | 0) + (r >>> 13) | 0) + (Pt >>> 26) | 0, Pt &= 67108863, n = Math.imul(z, ht), r = (r = Math.imul(z, ut)) + Math.imul(N, ht) | 0, a = Math.imul(N, ut), n = n + Math.imul(L, ct) | 0, r = (r = r + Math.imul(L, ft) | 0) + Math.imul(j, ct) | 0, a = a + Math.imul(j, ft) | 0; var It = (u + (n = n + Math.imul(I, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(I, mt) | 0) + Math.imul(O, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(O, mt) | 0) + (r >>> 13) | 0) + (It >>> 26) | 0, It &= 67108863, n = Math.imul(z, ct), r = (r = Math.imul(z, ft)) + Math.imul(N, ct) | 0, a = Math.imul(N, ft); var Ot = (u + (n = n + Math.imul(L, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(L, mt) | 0) + Math.imul(j, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(j, mt) | 0) + (r >>> 13) | 0) + (Ot >>> 26) | 0, Ot &= 67108863; var Rt = (u + (n = Math.imul(z, pt)) | 0) + ((8191 & (r = (r = Math.imul(z, mt)) + Math.imul(N, pt) | 0)) << 13) | 0; return u = ((a = Math.imul(N, mt)) + (r >>> 13) | 0) + (Rt >>> 26) | 0, Rt &= 67108863, h[0] = vt, h[1] = yt, h[2] = gt, h[3] = bt, h[4] = _t, h[5] = wt, h[6] = kt, h[7] = Mt, h[8] = xt, h[9] = St, h[10] = Et, h[11] = Dt, h[12] = At, h[13] = Tt, h[14] = Ct, h[15] = Pt, h[16] = It, h[17] = Ot, h[18] = Rt, 0 !== u && (h[19] = u, i.length++), i }; function m(t, e, i) { return (new v).mulp(t, e, i) } function v(t, e) { this.x = t, this.y = e } Math.imul || (p = d), a.prototype.mulTo = function (t, e) { var i = this.length + t.length; return 10 === this.length && 10 === t.length ? p(this, t, e) : i < 63 ? d(this, t, e) : i < 1024 ? function (t, e, i) { i.negative = e.negative ^ t.negative, i.length = t.length + e.length; for (var n = 0, r = 0, a = 0; a < i.length - 1; a++) { var o = r; r = 0; for (var s = 67108863 & n, h = Math.min(a, e.length - 1), u = Math.max(0, a - t.length + 1); u <= h; u++) { var l = a - u, c = (0 | t.words[l]) * (0 | e.words[u]), f = 67108863 & c; s = 67108863 & (f = f + s | 0), r += (o = (o = o + (c / 67108864 | 0) | 0) + (f >>> 26) | 0) >>> 26, o &= 67108863 } i.words[a] = s, n = o, o = r } return 0 !== n ? i.words[a] = n : i.length--, i.strip() }(this, t, e) : m(this, t, e) }, v.prototype.makeRBT = function (t) { for (var e = new Array(t), i = a.prototype._countBits(t) - 1, n = 0; n < t; n++)e[n] = this.revBin(n, i, t); return e }, v.prototype.revBin = function (t, e, i) { if (0 === t || t === i - 1) return t; for (var n = 0, r = 0; r < e; r++)n |= (1 & t) << e - r - 1, t >>= 1; return n }, v.prototype.permute = function (t, e, i, n, r, a) { for (var o = 0; o < a; o++)n[o] = e[t[o]], r[o] = i[t[o]] }, v.prototype.transform = function (t, e, i, n, r, a) { this.permute(a, t, e, i, n, r); for (var o = 1; o < r; o <<= 1)for (var s = o << 1, h = Math.cos(2 * Math.PI / s), u = Math.sin(2 * Math.PI / s), l = 0; l < r; l += s)for (var c = h, f = u, d = 0; d < o; d++) { var p = i[l + d], m = n[l + d], v = i[l + d + o], y = n[l + d + o], g = c * v - f * y; y = c * y + f * v, v = g, i[l + d] = p + v, n[l + d] = m + y, i[l + d + o] = p - v, n[l + d + o] = m - y, d !== s && (g = h * c - u * f, f = h * f + u * c, c = g) } }, v.prototype.guessLen13b = function (t, e) { var i = 1 | Math.max(e, t), n = 1 & i, r = 0; for (i = i / 2 | 0; i; i >>>= 1)r++; return 1 << r + 1 + n }, v.prototype.conjugate = function (t, e, i) { if (!(i <= 1)) for (var n = 0; n < i / 2; n++) { var r = t[n]; t[n] = t[i - n - 1], t[i - n - 1] = r, r = e[n], e[n] = -e[i - n - 1], e[i - n - 1] = -r } }, v.prototype.normalize13b = function (t, e) { for (var i = 0, n = 0; n < e / 2; n++) { var r = 8192 * Math.round(t[2 * n + 1] / e) + Math.round(t[2 * n] / e) + i; t[n] = 67108863 & r, i = r < 67108864 ? 0 : r / 67108864 | 0 } return t }, v.prototype.convert13b = function (t, e, i, r) { for (var a = 0, o = 0; o < e; o++)a += 0 | t[o], i[2 * o] = 8191 & a, a >>>= 13, i[2 * o + 1] = 8191 & a, a >>>= 13; for (o = 2 * e; o < r; ++o)i[o] = 0; n(0 === a), n(0 == (-8192 & a)) }, v.prototype.stub = function (t) { for (var e = new Array(t), i = 0; i < t; i++)e[i] = 0; return e }, v.prototype.mulp = function (t, e, i) { var n = 2 * this.guessLen13b(t.length, e.length), r = this.makeRBT(n), a = this.stub(n), o = new Array(n), s = new Array(n), h = new Array(n), u = new Array(n), l = new Array(n), c = new Array(n), f = i.words; f.length = n, this.convert13b(t.words, t.length, o, n), this.convert13b(e.words, e.length, u, n), this.transform(o, a, s, h, n, r), this.transform(u, a, l, c, n, r); for (var d = 0; d < n; d++) { var p = s[d] * l[d] - h[d] * c[d]; h[d] = s[d] * c[d] + h[d] * l[d], s[d] = p } return this.conjugate(s, h, n), this.transform(s, h, f, a, n, r), this.conjugate(f, a, n), this.normalize13b(f, n), i.negative = t.negative ^ e.negative, i.length = t.length + e.length, i.strip() }, a.prototype.mul = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), this.mulTo(t, e) }, a.prototype.mulf = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), m(this, t, e) }, a.prototype.imul = function (t) { return this.clone().mulTo(t, this) }, a.prototype.imuln = function (t) { n("number" == typeof t), n(t < 67108864); for (var e = 0, i = 0; i < this.length; i++) { var r = (0 | this.words[i]) * t, a = (67108863 & r) + (67108863 & e); e >>= 26, e += r / 67108864 | 0, e += a >>> 26, this.words[i] = 67108863 & a } return 0 !== e && (this.words[i] = e, this.length++), this }, a.prototype.muln = function (t) { return this.clone().imuln(t) }, a.prototype.sqr = function () { return this.mul(this) }, a.prototype.isqr = function () { return this.imul(this.clone()) }, a.prototype.pow = function (t) { var e = function (t) { for (var e = new Array(t.bitLength()), i = 0; i < e.length; i++) { var n = i / 26 | 0, r = i % 26; e[i] = (t.words[n] & 1 << r) >>> r } return e }(t); if (0 === e.length) return new a(1); for (var i = this, n = 0; n < e.length && 0 === e[n]; n++, i = i.sqr()); if (++n < e.length) for (var r = i.sqr(); n < e.length; n++, r = r.sqr())0 !== e[n] && (i = i.mul(r)); return i }, a.prototype.iushln = function (t) { n("number" == typeof t && t >= 0); var e, i = t % 26, r = (t - i) / 26, a = 67108863 >>> 26 - i << 26 - i; if (0 !== i) { var o = 0; for (e = 0; e < this.length; e++) { var s = this.words[e] & a, h = (0 | this.words[e]) - s << i; this.words[e] = h | o, o = s >>> 26 - i } o && (this.words[e] = o, this.length++) } if (0 !== r) { for (e = this.length - 1; e >= 0; e--)this.words[e + r] = this.words[e]; for (e = 0; e < r; e++)this.words[e] = 0; this.length += r } return this.strip() }, a.prototype.ishln = function (t) { return n(0 === this.negative), this.iushln(t) }, a.prototype.iushrn = function (t, e, i) { var r; n("number" == typeof t && t >= 0), r = e ? (e - e % 26) / 26 : 0; var a = t % 26, o = Math.min((t - a) / 26, this.length), s = 67108863 ^ 67108863 >>> a << a, h = i; if (r -= o, r = Math.max(0, r), h) { for (var u = 0; u < o; u++)h.words[u] = this.words[u]; h.length = o } if (0 === o); else if (this.length > o) for (this.length -= o, u = 0; u < this.length; u++)this.words[u] = this.words[u + o]; else this.words[0] = 0, this.length = 1; var l = 0; for (u = this.length - 1; u >= 0 && (0 !== l || u >= r); u--) { var c = 0 | this.words[u]; this.words[u] = l << 26 - a | c >>> a, l = c & s } return h && 0 !== l && (h.words[h.length++] = l), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip() }, a.prototype.ishrn = function (t, e, i) { return n(0 === this.negative), this.iushrn(t, e, i) }, a.prototype.shln = function (t) { return this.clone().ishln(t) }, a.prototype.ushln = function (t) { return this.clone().iushln(t) }, a.prototype.shrn = function (t) { return this.clone().ishrn(t) }, a.prototype.ushrn = function (t) { return this.clone().iushrn(t) }, a.prototype.testn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26, r = 1 << e; return !(this.length <= i) && !!(this.words[i] & r) }, a.prototype.imaskn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26; if (n(0 === this.negative, "imaskn works only with positive numbers"), this.length <= i) return this; if (0 !== e && i++, this.length = Math.min(i, this.length), 0 !== e) { var r = 67108863 ^ 67108863 >>> e << e; this.words[this.length - 1] &= r } return this.strip() }, a.prototype.maskn = function (t) { return this.clone().imaskn(t) }, a.prototype.iaddn = function (t) { return n("number" == typeof t), n(t < 67108864), t < 0 ? this.isubn(-t) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < t ? (this.words[0] = t - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(t), this.negative = 1, this) : this._iaddn(t) }, a.prototype._iaddn = function (t) { this.words[0] += t; for (var e = 0; e < this.length && this.words[e] >= 67108864; e++)this.words[e] -= 67108864, e === this.length - 1 ? this.words[e + 1] = 1 : this.words[e + 1]++; return this.length = Math.max(this.length, e + 1), this }, a.prototype.isubn = function (t) { if (n("number" == typeof t), n(t < 67108864), t < 0) return this.iaddn(-t); if (0 !== this.negative) return this.negative = 0, this.iaddn(t), this.negative = 1, this; if (this.words[0] -= t, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1; else for (var e = 0; e < this.length && this.words[e] < 0; e++)this.words[e] += 67108864, this.words[e + 1] -= 1; return this.strip() }, a.prototype.addn = function (t) { return this.clone().iaddn(t) }, a.prototype.subn = function (t) { return this.clone().isubn(t) }, a.prototype.iabs = function () { return this.negative = 0, this }, a.prototype.abs = function () { return this.clone().iabs() }, a.prototype._ishlnsubmul = function (t, e, i) { var r, a, o = t.length + i; this._expand(o); var s = 0; for (r = 0; r < t.length; r++) { a = (0 | this.words[r + i]) + s; var h = (0 | t.words[r]) * e; s = ((a -= 67108863 & h) >> 26) - (h / 67108864 | 0), this.words[r + i] = 67108863 & a } for (; r < this.length - i; r++)s = (a = (0 | this.words[r + i]) + s) >> 26, this.words[r + i] = 67108863 & a; if (0 === s) return this.strip(); for (n(-1 === s), s = 0, r = 0; r < this.length; r++)s = (a = -(0 | this.words[r]) + s) >> 26, this.words[r] = 67108863 & a; return this.negative = 1, this.strip() }, a.prototype._wordDiv = function (t, e) { var i = (this.length, t.length), n = this.clone(), r = t, o = 0 | r.words[r.length - 1]; 0 !== (i = 26 - this._countBits(o)) && (r = r.ushln(i), n.iushln(i), o = 0 | r.words[r.length - 1]); var s, h = n.length - r.length; if ("mod" !== e) { (s = new a(null)).length = h + 1, s.words = new Array(s.length); for (var u = 0; u < s.length; u++)s.words[u] = 0 } var l = n.clone()._ishlnsubmul(r, 1, h); 0 === l.negative && (n = l, s && (s.words[h] = 1)); for (var c = h - 1; c >= 0; c--) { var f = 67108864 * (0 | n.words[r.length + c]) + (0 | n.words[r.length + c - 1]); for (f = Math.min(f / o | 0, 67108863), n._ishlnsubmul(r, f, c); 0 !== n.negative;)f--, n.negative = 0, n._ishlnsubmul(r, 1, c), n.isZero() || (n.negative ^= 1); s && (s.words[c] = f) } return s && s.strip(), n.strip(), "div" !== e && 0 !== i && n.iushrn(i), { div: s || null, mod: n } }, a.prototype.divmod = function (t, e, i) { return n(!t.isZero()), this.isZero() ? { div: new a(0), mod: new a(0) } : 0 !== this.negative && 0 === t.negative ? (s = this.neg().divmod(t, e), "mod" !== e && (r = s.div.neg()), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.iadd(t)), { div: r, mod: o }) : 0 === this.negative && 0 !== t.negative ? (s = this.divmod(t.neg(), e), "mod" !== e && (r = s.div.neg()), { div: r, mod: s.mod }) : 0 != (this.negative & t.negative) ? (s = this.neg().divmod(t.neg(), e), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.isub(t)), { div: s.div, mod: o }) : t.length > this.length || this.cmp(t) < 0 ? { div: new a(0), mod: this } : 1 === t.length ? "div" === e ? { div: this.divn(t.words[0]), mod: null } : "mod" === e ? { div: null, mod: new a(this.modn(t.words[0])) } : { div: this.divn(t.words[0]), mod: new a(this.modn(t.words[0])) } : this._wordDiv(t, e); var r, o, s }, a.prototype.div = function (t) { return this.divmod(t, "div", !1).div }, a.prototype.mod = function (t) { return this.divmod(t, "mod", !1).mod }, a.prototype.umod = function (t) { return this.divmod(t, "mod", !0).mod }, a.prototype.divRound = function (t) { var e = this.divmod(t); if (e.mod.isZero()) return e.div; var i = 0 !== e.div.negative ? e.mod.isub(t) : e.mod, n = t.ushrn(1), r = t.andln(1), a = i.cmp(n); return a < 0 || 1 === r && 0 === a ? e.div : 0 !== e.div.negative ? e.div.isubn(1) : e.div.iaddn(1) }, a.prototype.modn = function (t) { n(t <= 67108863); for (var e = (1 << 26) % t, i = 0, r = this.length - 1; r >= 0; r--)i = (e * i + (0 | this.words[r])) % t; return i }, a.prototype.idivn = function (t) { n(t <= 67108863); for (var e = 0, i = this.length - 1; i >= 0; i--) { var r = (0 | this.words[i]) + 67108864 * e; this.words[i] = r / t | 0, e = r % t } return this.strip() }, a.prototype.divn = function (t) { return this.clone().idivn(t) }, a.prototype.egcd = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r = new a(1), o = new a(0), s = new a(0), h = new a(1), u = 0; e.isEven() && i.isEven();)e.iushrn(1), i.iushrn(1), ++u; for (var l = i.clone(), c = e.clone(); !e.isZero();) { for (var f = 0, d = 1; 0 == (e.words[0] & d) && f < 26; ++f, d <<= 1); if (f > 0) for (e.iushrn(f); f-- > 0;)(r.isOdd() || o.isOdd()) && (r.iadd(l), o.isub(c)), r.iushrn(1), o.iushrn(1); for (var p = 0, m = 1; 0 == (i.words[0] & m) && p < 26; ++p, m <<= 1); if (p > 0) for (i.iushrn(p); p-- > 0;)(s.isOdd() || h.isOdd()) && (s.iadd(l), h.isub(c)), s.iushrn(1), h.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), r.isub(s), o.isub(h)) : (i.isub(e), s.isub(r), h.isub(o)) } return { a: s, b: h, gcd: i.iushln(u) } }, a.prototype._invmp = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r, o = new a(1), s = new a(0), h = i.clone(); e.cmpn(1) > 0 && i.cmpn(1) > 0;) { for (var u = 0, l = 1; 0 == (e.words[0] & l) && u < 26; ++u, l <<= 1); if (u > 0) for (e.iushrn(u); u-- > 0;)o.isOdd() && o.iadd(h), o.iushrn(1); for (var c = 0, f = 1; 0 == (i.words[0] & f) && c < 26; ++c, f <<= 1); if (c > 0) for (i.iushrn(c); c-- > 0;)s.isOdd() && s.iadd(h), s.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), o.isub(s)) : (i.isub(e), s.isub(o)) } return (r = 0 === e.cmpn(1) ? o : s).cmpn(0) < 0 && r.iadd(t), r }, a.prototype.gcd = function (t) { if (this.isZero()) return t.abs(); if (t.isZero()) return this.abs(); var e = this.clone(), i = t.clone(); e.negative = 0, i.negative = 0; for (var n = 0; e.isEven() && i.isEven(); n++)e.iushrn(1), i.iushrn(1); for (; ;) { for (; e.isEven();)e.iushrn(1); for (; i.isEven();)i.iushrn(1); var r = e.cmp(i); if (r < 0) { var a = e; e = i, i = a } else if (0 === r || 0 === i.cmpn(1)) break; e.isub(i) } return i.iushln(n) }, a.prototype.invm = function (t) { return this.egcd(t).a.umod(t) }, a.prototype.isEven = function () { return 0 == (1 & this.words[0]) }, a.prototype.isOdd = function () { return 1 == (1 & this.words[0]) }, a.prototype.andln = function (t) { return this.words[0] & t }, a.prototype.bincn = function (t) { n("number" == typeof t); var e = t % 26, i = (t - e) / 26, r = 1 << e; if (this.length <= i) return this._expand(i + 1), this.words[i] |= r, this; for (var a = r, o = i; 0 !== a && o < this.length; o++) { var s = 0 | this.words[o]; a = (s += a) >>> 26, s &= 67108863, this.words[o] = s } return 0 !== a && (this.words[o] = a, this.length++), this }, a.prototype.isZero = function () { return 1 === this.length && 0 === this.words[0] }, a.prototype.cmpn = function (t) { var e, i = t < 0; if (0 !== this.negative && !i) return -1; if (0 === this.negative && i) return 1; if (this.strip(), this.length > 1) e = 1; else { i && (t = -t), n(t <= 67108863, "Number is too big"); var r = 0 | this.words[0]; e = r === t ? 0 : r < t ? -1 : 1 } return 0 !== this.negative ? 0 | -e : e }, a.prototype.cmp = function (t) { if (0 !== this.negative && 0 === t.negative) return -1; if (0 === this.negative && 0 !== t.negative) return 1; var e = this.ucmp(t); return 0 !== this.negative ? 0 | -e : e }, a.prototype.ucmp = function (t) { if (this.length > t.length) return 1; if (this.length < t.length) return -1; for (var e = 0, i = this.length - 1; i >= 0; i--) { var n = 0 | this.words[i], r = 0 | t.words[i]; if (n !== r) { n < r ? e = -1 : n > r && (e = 1); break } } return e }, a.prototype.gtn = function (t) { return 1 === this.cmpn(t) }, a.prototype.gt = function (t) { return 1 === this.cmp(t) }, a.prototype.gten = function (t) { return this.cmpn(t) >= 0 }, a.prototype.gte = function (t) { return this.cmp(t) >= 0 }, a.prototype.ltn = function (t) { return -1 === this.cmpn(t) }, a.prototype.lt = function (t) { return -1 === this.cmp(t) }, a.prototype.lten = function (t) { return this.cmpn(t) <= 0 }, a.prototype.lte = function (t) { return this.cmp(t) <= 0 }, a.prototype.eqn = function (t) { return 0 === this.cmpn(t) }, a.prototype.eq = function (t) { return 0 === this.cmp(t) }, a.red = function (t) { return new M(t) }, a.prototype.toRed = function (t) { return n(!this.red, "Already a number in reduction context"), n(0 === this.negative, "red works only with positives"), t.convertTo(this)._forceRed(t) }, a.prototype.fromRed = function () { return n(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this) }, a.prototype._forceRed = function (t) { return this.red = t, this }, a.prototype.forceRed = function (t) { return n(!this.red, "Already a number in reduction context"), this._forceRed(t) }, a.prototype.redAdd = function (t) { return n(this.red, "redAdd works only with red numbers"), this.red.add(this, t) }, a.prototype.redIAdd = function (t) { return n(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, t) }, a.prototype.redSub = function (t) { return n(this.red, "redSub works only with red numbers"), this.red.sub(this, t) }, a.prototype.redISub = function (t) { return n(this.red, "redISub works only with red numbers"), this.red.isub(this, t) }, a.prototype.redShl = function (t) { return n(this.red, "redShl works only with red numbers"), this.red.shl(this, t) }, a.prototype.redMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.mul(this, t) }, a.prototype.redIMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.imul(this, t) }, a.prototype.redSqr = function () { return n(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this) }, a.prototype.redISqr = function () { return n(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this) }, a.prototype.redSqrt = function () { return n(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this) }, a.prototype.redInvm = function () { return n(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this) }, a.prototype.redNeg = function () { return n(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this) }, a.prototype.redPow = function (t) { return n(this.red && !t.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, t) }; var y = { k256: null, p224: null, p192: null, p25519: null }; function g(t, e) { this.name = t, this.p = new a(e, 16), this.n = this.p.bitLength(), this.k = new a(1).iushln(this.n).isub(this.p), this.tmp = this._tmp() } function b() { g.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f") } function _() { g.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001") } function w() { g.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff") } function k() { g.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed") } function M(t) { if ("string" == typeof t) { var e = a._prime(t); this.m = e.p, this.prime = e } else n(t.gtn(1), "modulus must be greater than 1"), this.m = t, this.prime = null } function x(t) { M.call(this, t), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new a(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv) } g.prototype._tmp = function () { var t = new a(null); return t.words = new Array(Math.ceil(this.n / 13)), t }, g.prototype.ireduce = function (t) { var e, i = t; do { this.split(i, this.tmp), e = (i = (i = this.imulK(i)).iadd(this.tmp)).bitLength() } while (e > this.n); var n = e < this.n ? -1 : i.ucmp(this.p); return 0 === n ? (i.words[0] = 0, i.length = 1) : n > 0 ? i.isub(this.p) : void 0 !== i.strip ? i.strip() : i._strip(), i }, g.prototype.split = function (t, e) { t.iushrn(this.n, 0, e) }, g.prototype.imulK = function (t) { return t.imul(this.k) }, r(b, g), b.prototype.split = function (t, e) { for (var i = Math.min(t.length, 9), n = 0; n < i; n++)e.words[n] = t.words[n]; if (e.length = i, t.length <= 9) return t.words[0] = 0, void (t.length = 1); var r = t.words[9]; for (e.words[e.length++] = 4194303 & r, n = 10; n < t.length; n++) { var a = 0 | t.words[n]; t.words[n - 10] = (4194303 & a) << 4 | r >>> 22, r = a } r >>>= 22, t.words[n - 10] = r, 0 === r && t.length > 10 ? t.length -= 10 : t.length -= 9 }, b.prototype.imulK = function (t) { t.words[t.length] = 0, t.words[t.length + 1] = 0, t.length += 2; for (var e = 0, i = 0; i < t.length; i++) { var n = 0 | t.words[i]; e += 977 * n, t.words[i] = 67108863 & e, e = 64 * n + (e / 67108864 | 0) } return 0 === t.words[t.length - 1] && (t.length--, 0 === t.words[t.length - 1] && t.length--), t }, r(_, g), r(w, g), r(k, g), k.prototype.imulK = function (t) { for (var e = 0, i = 0; i < t.length; i++) { var n = 19 * (0 | t.words[i]) + e, r = 67108863 & n; n >>>= 26, t.words[i] = r, e = n } return 0 !== e && (t.words[t.length++] = e), t }, a._prime = function (t) { if (y[t]) return y[t]; var e; if ("k256" === t) e = new b; else if ("p224" === t) e = new _; else if ("p192" === t) e = new w; else { if ("p25519" !== t) throw new Error("Unknown prime " + t); e = new k } return y[t] = e, e }, M.prototype._verify1 = function (t) { n(0 === t.negative, "red works only with positives"), n(t.red, "red works only with red numbers") }, M.prototype._verify2 = function (t, e) { n(0 == (t.negative | e.negative), "red works only with positives"), n(t.red && t.red === e.red, "red works only with red numbers") }, M.prototype.imod = function (t) { return this.prime ? this.prime.ireduce(t)._forceRed(this) : t.umod(this.m)._forceRed(this) }, M.prototype.neg = function (t) { return t.isZero() ? t.clone() : this.m.sub(t)._forceRed(this) }, M.prototype.add = function (t, e) { this._verify2(t, e); var i = t.add(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i._forceRed(this) }, M.prototype.iadd = function (t, e) { this._verify2(t, e); var i = t.iadd(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i }, M.prototype.sub = function (t, e) { this._verify2(t, e); var i = t.sub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i._forceRed(this) }, M.prototype.isub = function (t, e) { this._verify2(t, e); var i = t.isub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i }, M.prototype.shl = function (t, e) { return this._verify1(t), this.imod(t.ushln(e)) }, M.prototype.imul = function (t, e) { return this._verify2(t, e), this.imod(t.imul(e)) }, M.prototype.mul = function (t, e) { return this._verify2(t, e), this.imod(t.mul(e)) }, M.prototype.isqr = function (t) { return this.imul(t, t.clone()) }, M.prototype.sqr = function (t) { return this.mul(t, t) }, M.prototype.sqrt = function (t) { if (t.isZero()) return t.clone(); var e = this.m.andln(3); if (n(e % 2 == 1), 3 === e) { var i = this.m.add(new a(1)).iushrn(2); return this.pow(t, i) } for (var r = this.m.subn(1), o = 0; !r.isZero() && 0 === r.andln(1);)o++, r.iushrn(1); n(!r.isZero()); var s = new a(1).toRed(this), h = s.redNeg(), u = this.m.subn(1).iushrn(1), l = this.m.bitLength(); for (l = new a(2 * l * l).toRed(this); 0 !== this.pow(l, u).cmp(h);)l.redIAdd(h); for (var c = this.pow(l, r), f = this.pow(t, r.addn(1).iushrn(1)), d = this.pow(t, r), p = o; 0 !== d.cmp(s);) { for (var m = d, v = 0; 0 !== m.cmp(s); v++)m = m.redSqr(); n(v < p); var y = this.pow(c, new a(1).iushln(p - v - 1)); f = f.redMul(y), c = y.redSqr(), d = d.redMul(c), p = v } return f }, M.prototype.invm = function (t) { var e = t._invmp(this.m); return 0 !== e.negative ? (e.negative = 0, this.imod(e).redNeg()) : this.imod(e) }, M.prototype.pow = function (t, e) { if (e.isZero()) return new a(1).toRed(this); if (0 === e.cmpn(1)) return t.clone(); var i = new Array(16); i[0] = new a(1).toRed(this), i[1] = t; for (var n = 2; n < i.length; n++)i[n] = this.mul(i[n - 1], t); var r = i[0], o = 0, s = 0, h = e.bitLength() % 26; for (0 === h && (h = 26), n = e.length - 1; n >= 0; n--) { for (var u = e.words[n], l = h - 1; l >= 0; l--) { var c = u >> l & 1; r !== i[0] && (r = this.sqr(r)), 0 !== c || 0 !== o ? (o <<= 1, o |= c, (4 === ++s || 0 === n && 0 === l) && (r = this.mul(r, i[o]), s = 0, o = 0)) : s = 0 } h = 26 } return r }, M.prototype.convertTo = function (t) { var e = t.umod(this.m); return e === t ? e.clone() : e }, M.prototype.convertFrom = function (t) { var e = t.clone(); return e.red = null, e }, a.mont = function (t) { return new x(t) }, r(x, M), x.prototype.convertTo = function (t) { return this.imod(t.ushln(this.shift)) }, x.prototype.convertFrom = function (t) { var e = this.imod(t.mul(this.rinv)); return e.red = null, e }, x.prototype.imul = function (t, e) { if (t.isZero() || e.isZero()) return t.words[0] = 0, t.length = 1, t; var i = t.imul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), a = r; return r.cmp(this.m) >= 0 ? a = r.isub(this.m) : r.cmpn(0) < 0 && (a = r.iadd(this.m)), a._forceRed(this) }, x.prototype.mul = function (t, e) { if (t.isZero() || e.isZero()) return new a(0)._forceRed(this); var i = t.mul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), o = r; return r.cmp(this.m) >= 0 ? o = r.isub(this.m) : r.cmpn(0) < 0 && (o = r.iadd(this.m)), o._forceRed(this) }, x.prototype.invm = function (t) { return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this) } }(t, this) }).call(this, i("62e4")(t)) }, "018a": function (t, e, i) { "use strict"; var n; var r = i("9054").codes, a = r.ERR_MISSING_ARGS, o = r.ERR_STREAM_DESTROYED; function s(t) { if (t) throw t } function h(t, e, r, a) { a = function (t) { var e = !1; return function () { e || (e = !0, t.apply(void 0, arguments)) } }(a); var s = !1; t.on("close", (function () { s = !0 })), void 0 === n && (n = i("65ab")), n(t, { readable: e, writable: r }, (function (t) { if (t) return a(t); s = !0, a() })); var h = !1; return function (e) { if (!s && !h) return h = !0, function (t) { return t.setHeader && "function" == typeof t.abort }(t) ? t.abort() : "function" == typeof t.destroy ? t.destroy() : void a(e || new o("pipe")) } } function u(t) { t() } function l(t, e) { return t.pipe(e) } function c(t) { return t.length ? "function" != typeof t[t.length - 1] ? s : t.pop() : s } t.exports = function () { for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++)e[i] = arguments[i]; var n, r = c(e); if (Array.isArray(e[0]) && (e = e[0]), e.length < 2) throw new a("streams"); var o = e.map((function (t, i) { var a = i < e.length - 1; return h(t, a, i > 0, (function (t) { n || (n = t), t && o.forEach(u), a || (o.forEach(u), r(n)) })) })); return e.reduce(l) } }, "027d": function (t, e, i) { t.exports = i("faa1").EventEmitter }, "087f": function (t, e, i) { var n = i("3fb5"), r = i("b672"), a = i("8707").Buffer, o = [1518500249, 1859775393, -1894007588, -899497514], s = new Array(80); function h() { this.init(), this._w = s, r.call(this, 64, 56) } function u(t) { return t << 30 | t >>> 2 } function l(t, e, i, n) { return 0 === t ? e & i | ~e & n : 2 === t ? e & i | e & n | i & n : e ^ i ^ n } n(h, r), h.prototype.init = function () { return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this }, h.prototype._update = function (t) { for (var e, i = this._w, n = 0 | this._a, r = 0 | this._b, a = 0 | this._c, s = 0 | this._d, h = 0 | this._e, c = 0; c < 16; ++c)i[c] = t.readInt32BE(4 * c); for (; c < 80; ++c)i[c] = i[c - 3] ^ i[c - 8] ^ i[c - 14] ^ i[c - 16]; for (var f = 0; f < 80; ++f) { var d = ~~(f / 20), p = 0 | ((e = n) << 5 | e >>> 27) + l(d, r, a, s) + h + i[f] + o[d]; h = s, s = a, a = u(r), r = n, n = p } this._a = n + this._a | 0, this._b = r + this._b | 0, this._c = a + this._c | 0, this._d = s + this._d | 0, this._e = h + this._e | 0 }, h.prototype._hash = function () { var t = a.allocUnsafe(20); return t.writeInt32BE(0 | this._a, 0), t.writeInt32BE(0 | this._b, 4), t.writeInt32BE(0 | this._c, 8), t.writeInt32BE(0 | this._d, 12), t.writeInt32BE(0 | this._e, 16), t }, t.exports = h }, "0960": function (t, e, i) { t.exports = i("b19a") }, "0b16": function (t, e, i) { "use strict"; var n = i("1985"), r = i("35e8"); function a() { this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null } e.parse = b, e.resolve = function (t, e) { return b(t, !1, !0).resolve(e) }, e.resolveObject = function (t, e) { return t ? b(t, !1, !0).resolveObject(e) : e }, e.format = function (t) { r.isString(t) && (t = b(t)); return t instanceof a ? t.format() : a.prototype.format.call(t) }, e.Url = a; var o = /^([a-z0-9.+-]+:)/i, s = /:[0-9]*$/, h = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, u = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"]), l = ["'"].concat(u), c = ["%", "/", "?", ";", "#"].concat(l), f = ["/", "?", "#"], d = /^[+a-z0-9A-Z_-]{0,63}$/, p = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, m = { javascript: !0, "javascript:": !0 }, v = { javascript: !0, "javascript:": !0 }, y = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, "http:": !0, "https:": !0, "ftp:": !0, "gopher:": !0, "file:": !0 }, g = i("b383"); function b(t, e, i) { if (t && r.isObject(t) && t instanceof a) return t; var n = new a; return n.parse(t, e, i), n } a.prototype.parse = function (t, e, i) { if (!r.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t); var a = t.indexOf("?"), s = -1 !== a && a < t.indexOf("#") ? "?" : "#", u = t.split(s); u[0] = u[0].replace(/\\/g, "/"); var b = t = u.join(s); if (b = b.trim(), !i && 1 === t.split("#").length) { var _ = h.exec(b); if (_) return this.path = b, this.href = b, this.pathname = _[1], _[2] ? (this.search = _[2], this.query = e ? g.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this } var w = o.exec(b); if (w) { var k = (w = w[0]).toLowerCase(); this.protocol = k, b = b.substr(w.length) } if (i || w || b.match(/^\/\/[^@\/]+@[^@\/]+/)) { var M = "//" === b.substr(0, 2); !M || w && v[w] || (b = b.substr(2), this.slashes = !0) } if (!v[w] && (M || w && !y[w])) { for (var x, S, E = -1, D = 0; D < f.length; D++) { -1 !== (A = b.indexOf(f[D])) && (-1 === E || A < E) && (E = A) } -1 !== (S = -1 === E ? b.lastIndexOf("@") : b.lastIndexOf("@", E)) && (x = b.slice(0, S), b = b.slice(S + 1), this.auth = decodeURIComponent(x)), E = -1; for (D = 0; D < c.length; D++) { var A; -1 !== (A = b.indexOf(c[D])) && (-1 === E || A < E) && (E = A) } -1 === E && (E = b.length), this.host = b.slice(0, E), b = b.slice(E), this.parseHost(), this.hostname = this.hostname || ""; var T = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1]; if (!T) for (var C = this.hostname.split(/\./), P = (D = 0, C.length); D < P; D++) { var I = C[D]; if (I && !I.match(d)) { for (var O = "", R = 0, L = I.length; R < L; R++)I.charCodeAt(R) > 127 ? O += "x" : O += I[R]; if (!O.match(d)) { var j = C.slice(0, D), B = C.slice(D + 1), z = I.match(p); z && (j.push(z[1]), B.unshift(z[2])), B.length && (b = "/" + B.join(".") + b), this.hostname = j.join("."); break } } } this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), T || (this.hostname = n.toASCII(this.hostname)); var N = this.port ? ":" + this.port : "", F = this.hostname || ""; this.host = F + N, this.href += this.host, T && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== b[0] && (b = "/" + b)) } if (!m[k]) for (D = 0, P = l.length; D < P; D++) { var q = l[D]; if (-1 !== b.indexOf(q)) { var H = encodeURIComponent(q); H === q && (H = escape(q)), b = b.split(q).join(H) } } var V = b.indexOf("#"); -1 !== V && (this.hash = b.substr(V), b = b.slice(0, V)); var U = b.indexOf("?"); if (-1 !== U ? (this.search = b.substr(U), this.query = b.substr(U + 1), e && (this.query = g.parse(this.query)), b = b.slice(0, U)) : e && (this.search = "", this.query = {}), b && (this.pathname = b), y[k] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) { N = this.pathname || ""; var W = this.search || ""; this.path = N + W } return this.href = this.format(), this }, a.prototype.format = function () { var t = this.auth || ""; t && (t = (t = encodeURIComponent(t)).replace(/%3A/i, ":"), t += "@"); var e = this.protocol || "", i = this.pathname || "", n = this.hash || "", a = !1, o = ""; this.host ? a = t + this.host : this.hostname && (a = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (a += ":" + this.port)), this.query && r.isObject(this.query) && Object.keys(this.query).length && (o = g.stringify(this.query)); var s = this.search || o && "?" + o || ""; return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || y[e]) && !1 !== a ? (a = "//" + (a || ""), i && "/" !== i.charAt(0) && (i = "/" + i)) : a || (a = ""), n && "#" !== n.charAt(0) && (n = "#" + n), s && "?" !== s.charAt(0) && (s = "?" + s), e + a + (i = i.replace(/[?#]/g, (function (t) { return encodeURIComponent(t) }))) + (s = s.replace("#", "%23")) + n }, a.prototype.resolve = function (t) { return this.resolveObject(b(t, !1, !0)).format() }, a.prototype.resolveObject = function (t) { if (r.isString(t)) { var e = new a; e.parse(t, !1, !0), t = e } for (var i = new a, n = Object.keys(this), o = 0; o < n.length; o++) { var s = n[o]; i[s] = this[s] } if (i.hash = t.hash, "" === t.href) return i.href = i.format(), i; if (t.slashes && !t.protocol) { for (var h = Object.keys(t), u = 0; u < h.length; u++) { var l = h[u]; "protocol" !== l && (i[l] = t[l]) } return y[i.protocol] && i.hostname && !i.pathname && (i.path = i.pathname = "/"), i.href = i.format(), i } if (t.protocol && t.protocol !== i.protocol) { if (!y[t.protocol]) { for (var c = Object.keys(t), f = 0; f < c.length; f++) { var d = c[f]; i[d] = t[d] } return i.href = i.format(), i } if (i.protocol = t.protocol, t.host || v[t.protocol]) i.pathname = t.pathname; else { for (var p = (t.pathname || "").split("/"); p.length && !(t.host = p.shift());); t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== p[0] && p.unshift(""), p.length < 2 && p.unshift(""), i.pathname = p.join("/") } if (i.search = t.search, i.query = t.query, i.host = t.host || "", i.auth = t.auth, i.hostname = t.hostname || t.host, i.port = t.port, i.pathname || i.search) { var m = i.pathname || "", g = i.search || ""; i.path = m + g } return i.slashes = i.slashes || t.slashes, i.href = i.format(), i } var b = i.pathname && "/" === i.pathname.charAt(0), _ = t.host || t.pathname && "/" === t.pathname.charAt(0), w = _ || b || i.host && t.pathname, k = w, M = i.pathname && i.pathname.split("/") || [], x = (p = t.pathname && t.pathname.split("/") || [], i.protocol && !y[i.protocol]); if (x && (i.hostname = "", i.port = null, i.host && ("" === M[0] ? M[0] = i.host : M.unshift(i.host)), i.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === p[0] ? p[0] = t.host : p.unshift(t.host)), t.host = null), w = w && ("" === p[0] || "" === M[0])), _) i.host = t.host || "" === t.host ? t.host : i.host, i.hostname = t.hostname || "" === t.hostname ? t.hostname : i.hostname, i.search = t.search, i.query = t.query, M = p; else if (p.length) M || (M = []), M.pop(), M = M.concat(p), i.search = t.search, i.query = t.query; else if (!r.isNullOrUndefined(t.search)) { if (x) i.hostname = i.host = M.shift(), (T = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@")) && (i.auth = T.shift(), i.host = i.hostname = T.shift()); return i.search = t.search, i.query = t.query, r.isNull(i.pathname) && r.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")), i.href = i.format(), i } if (!M.length) return i.pathname = null, i.search ? i.path = "/" + i.search : i.path = null, i.href = i.format(), i; for (var S = M.slice(-1)[0], E = (i.host || t.host || M.length > 1) && ("." === S || ".." === S) || "" === S, D = 0, A = M.length; A >= 0; A--)"." === (S = M[A]) ? M.splice(A, 1) : ".." === S ? (M.splice(A, 1), D++) : D && (M.splice(A, 1), D--); if (!w && !k) for (; D--; D)M.unshift(".."); !w || "" === M[0] || M[0] && "/" === M[0].charAt(0) || M.unshift(""), E && "/" !== M.join("/").substr(-1) && M.push(""); var T, C = "" === M[0] || M[0] && "/" === M[0].charAt(0); x && (i.hostname = i.host = C ? "" : M.length ? M.shift() : "", (T = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@")) && (i.auth = T.shift(), i.host = i.hostname = T.shift())); return (w = w || i.host && M.length) && !C && M.unshift(""), M.length ? i.pathname = M.join("/") : (i.pathname = null, i.path = null), r.isNull(i.pathname) && r.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")), i.auth = t.auth || i.auth, i.slashes = i.slashes || t.slashes, i.href = i.format(), i }, a.prototype.parseHost = function () { var t = this.host, e = s.exec(t); e && (":" !== (e = e[0]) && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t) } }, "0f2c": function (t, e, i) { var n = i("2aee"), r = i("f460"), a = i("83d5"), o = i("0106"), s = i("a958"), h = i("98e6"), u = i("5291"), l = i("8707").Buffer; t.exports = function (t, e, i) { var c; c = t.padding ? t.padding : i ? 1 : 4; var f, d = n(t), p = d.modulus.byteLength(); if (e.length > p || new o(e).cmp(d.modulus) >= 0) throw new Error("decryption error"); f = i ? u(new o(e), d) : s(e, d); var m = l.alloc(p - f.length); if (f = l.concat([m, f], p), 4 === c) return function (t, e) { var i = t.modulus.byteLength(), n = h("sha1").update(l.alloc(0)).digest(), o = n.length; if (0 !== e[0]) throw new Error("decryption error"); var s = e.slice(1, o + 1), u = e.slice(o + 1), c = a(s, r(u, o)), f = a(u, r(c, i - o - 1)); if (function (t, e) { t = l.from(t), e = l.from(e); var i = 0, n = t.length; t.length !== e.length && (i++, n = Math.min(t.length, e.length)); var r = -1; for (; ++r < n;)i += t[r] ^ e[r]; return i }(n, f.slice(0, o))) throw new Error("decryption error"); var d = o; for (; 0 === f[d];)d++; if (1 !== f[d++]) throw new Error("decryption error"); return f.slice(d) }(d, f); if (1 === c) return function (t, e, i) { var n = e.slice(0, 2), r = 2, a = 0; for (; 0 !== e[r++];)if (r >= e.length) { a++; break } var o = e.slice(2, r - 1); ("0002" !== n.toString("hex") && !i || "0001" !== n.toString("hex") && i) && a++; o.length < 8 && a++; if (a) throw new Error("decryption error"); return e.slice(r) }(0, f, i); if (3 === c) return f; throw new Error("unknown padding") } }, "11dc": function (t, e, i) { "use strict"; (function (e, n) { var r = i("8707").Buffer, a = e.crypto || e.msCrypto; a && a.getRandomValues ? t.exports = function (t, e) { if (t > 4294967295) throw new RangeError("requested too many random bytes"); var i = r.allocUnsafe(t); if (t > 0) if (t > 65536) for (var o = 0; o < t; o += 65536)a.getRandomValues(i.slice(o, o + 65536)); else a.getRandomValues(i); if ("function" == typeof e) return n.nextTick((function () { e(null, i) })); return i } : t.exports = function () { throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11") } }).call(this, i("c8ba"), i("4362")) }, "17b2": function (t, e, i) { "use strict"; const n = i("cfab"), r = {}; for (const [t, e] of Object.entries(n)) void 0 === r[e] && (r[e] = t); t.exports = Object.freeze(r) }, 1985: function (t, e, i) { (function (t, n) { var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function (a) { e && e.nodeType, t && t.nodeType; var o = "object" == typeof n && n; o.global !== o && o.window !== o && o.self; var s, h = 2147483647, u = /^xn--/, l = /[^\x20-\x7E]/, c = /[\x2E\u3002\uFF0E\uFF61]/g, f = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, d = Math.floor, p = String.fromCharCode; function m(t) { throw new RangeError(f[t]) } function v(t, e) { for (var i = t.length, n = []; i--;)n[i] = e(t[i]); return n } function y(t, e) { var i = t.split("@"), n = ""; return i.length > 1 && (n = i[0] + "@", t = i[1]), n + v((t = t.replace(c, ".")).split("."), e).join(".") } function g(t) { for (var e, i, n = [], r = 0, a = t.length; r < a;)(e = t.charCodeAt(r++)) >= 55296 && e <= 56319 && r < a ? 56320 == (64512 & (i = t.charCodeAt(r++))) ? n.push(((1023 & e) << 10) + (1023 & i) + 65536) : (n.push(e), r--) : n.push(e); return n } function b(t) { return v(t, (function (t) { var e = ""; return t > 65535 && (e += p((t -= 65536) >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += p(t) })).join("") } function _(t, e) { return t + 22 + 75 * (t < 26) - ((0 != e) << 5) } function w(t, e, i) { var n = 0; for (t = i ? d(t / 700) : t >> 1, t += d(t / e); t > 455; n += 36)t = d(t / 35); return d(n + 36 * t / (t + 38)) } function k(t) { var e, i, n, r, a, o, s, u, l, c, f, p = [], v = t.length, y = 0, g = 128, _ = 72; for ((i = t.lastIndexOf("-")) < 0 && (i = 0), n = 0; n < i; ++n)t.charCodeAt(n) >= 128 && m("not-basic"), p.push(t.charCodeAt(n)); for (r = i > 0 ? i + 1 : 0; r < v;) { for (a = y, o = 1, s = 36; r >= v && m("invalid-input"), ((u = (f = t.charCodeAt(r++)) - 48 < 10 ? f - 22 : f - 65 < 26 ? f - 65 : f - 97 < 26 ? f - 97 : 36) >= 36 || u > d((h - y) / o)) && m("overflow"), y += u * o, !(u < (l = s <= _ ? 1 : s >= _ + 26 ? 26 : s - _)); s += 36)o > d(h / (c = 36 - l)) && m("overflow"), o *= c; _ = w(y - a, e = p.length + 1, 0 == a), d(y / e) > h - g && m("overflow"), g += d(y / e), y %= e, p.splice(y++, 0, g) } return b(p) } function M(t) { var e, i, n, r, a, o, s, u, l, c, f, v, y, b, k, M = []; for (v = (t = g(t)).length, e = 128, i = 0, a = 72, o = 0; o < v; ++o)(f = t[o]) < 128 && M.push(p(f)); for (n = r = M.length, r && M.push("-"); n < v;) { for (s = h, o = 0; o < v; ++o)(f = t[o]) >= e && f < s && (s = f); for (s - e > d((h - i) / (y = n + 1)) && m("overflow"), i += (s - e) * y, e = s, o = 0; o < v; ++o)if ((f = t[o]) < e && ++i > h && m("overflow"), f == e) { for (u = i, l = 36; !(u < (c = l <= a ? 1 : l >= a + 26 ? 26 : l - a)); l += 36)k = u - c, b = 36 - c, M.push(p(_(c + k % b, 0))), u = d(k / b); M.push(p(_(u, 0))), a = w(i, y, n == r), i = 0, ++n } ++i, ++e } return M.join("") } s = { version: "1.4.1", ucs2: { decode: g, encode: b }, decode: k, encode: M, toASCII: function (t) { return y(t, (function (t) { return l.test(t) ? "xn--" + M(t) : t })) }, toUnicode: function (t) { return y(t, (function (t) { return u.test(t) ? k(t.slice(4).toLowerCase()) : t })) } }, void 0 === (r = function () { return s }.call(e, i, e, t)) || (t.exports = r) }() }).call(this, i("62e4")(t), i("c8ba")) }, "1c13": function (t, e, i) { "use strict"; (function (e) { const n = i("2612"); function r(t) { return parseInt(t.toString("hex"), 16) } function a(t) { let i = t.toString(16); return i.length % 2 == 1 && (i = "0" + i), e.from(i, "hex") } t.exports = { numberToBuffer: a, bufferToNumber: r, varintBufferEncode: function (t) { return e.from(n.encode(r(t))) }, varintBufferDecode: function (t) { return a(n.decode(t)) }, varintEncode: function (t) { return e.from(n.encode(t)) } } }).call(this, i("b639").Buffer) }, "206d": function (t, e, i) { (function (e) { var n, r, a = i("8707").Buffer, o = i("7d2a"), s = i("9f9d"), h = i("e07b"), u = i("8be6"), l = e.crypto && e.crypto.subtle, c = { sha: "SHA-1", "sha-1": "SHA-1", sha1: "SHA-1", sha256: "SHA-256", "sha-256": "SHA-256", sha384: "SHA-384", "sha-384": "SHA-384", "sha-512": "SHA-512", sha512: "SHA-512" }, f = []; function d() { return r || (r = e.process && e.process.nextTick ? e.process.nextTick : e.queueMicrotask ? e.queueMicrotask : e.setImmediate ? e.setImmediate : e.setTimeout) } function p(t, e, i, n, r) { return l.importKey("raw", t, { name: "PBKDF2" }, !1, ["deriveBits"]).then((function (t) { return l.deriveBits({ name: "PBKDF2", salt: e, iterations: i, hash: { name: r } }, t, n << 3) })).then((function (t) { return a.from(t) })) } t.exports = function (t, i, r, m, v, y) { "function" == typeof v && (y = v, v = void 0); var g = c[(v = v || "sha1").toLowerCase()]; if (g && "function" == typeof e.Promise) { if (o(r, m), t = u(t, s, "Password"), i = u(i, s, "Salt"), "function" != typeof y) throw new Error("No callback provided to pbkdf2"); !function (t, e) { t.then((function (t) { d()((function () { e(null, t) })) }), (function (t) { d()((function () { e(t) })) })) }(function (t) { if (e.process && !e.process.browser) return Promise.resolve(!1); if (!l || !l.importKey || !l.deriveBits) return Promise.resolve(!1); if (void 0 !== f[t]) return f[t]; var i = p(n = n || a.alloc(8), n, 10, 128, t).then((function () { return !0 })).catch((function () { return !1 })); return f[t] = i, i }(g).then((function (e) { return e ? p(t, i, r, m, g) : h(t, i, r, m, v) })), y) } else d()((function () { var e; try { e = h(t, i, r, m, v) } catch (t) { return y(t) } y(null, e) })) } }).call(this, i("c8ba")) }, 2330: function (t, e, i) { t.exports = i("3a89")(i("4673")) }, 2416: function (t, e, i) { (function (e) { const n = i("6fde"); function r() { this.state = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.blockSize = null, this.count = 0, this.squeezing = !1 } r.prototype.initialize = function (t, e) { for (let t = 0; t < 50; ++t)this.state[t] = 0; this.blockSize = t / 8, this.count = 0, this.squeezing = !1 }, r.prototype.absorb = function (t) { for (let e = 0; e < t.length; ++e)this.state[~~(this.count / 4)] ^= t[e] << this.count % 4 * 8, this.count += 1, this.count === this.blockSize && (n.p1600(this.state), this.count = 0) }, r.prototype.absorbLastFewBits = function (t) { this.state[~~(this.count / 4)] ^= t << this.count % 4 * 8, 0 != (128 & t) && this.count === this.blockSize - 1 && n.p1600(this.state), this.state[~~((this.blockSize - 1) / 4)] ^= 128 << (this.blockSize - 1) % 4 * 8, n.p1600(this.state), this.count = 0, this.squeezing = !0 }, r.prototype.squeeze = function (t) { this.squeezing || this.absorbLastFewBits(1); const i = e.alloc(t); for (let e = 0; e < t; ++e)i[e] = this.state[~~(this.count / 4)] >>> this.count % 4 * 8 & 255, this.count += 1, this.count === this.blockSize && (n.p1600(this.state), this.count = 0); return i }, r.prototype.copy = function (t) { for (let e = 0; e < 50; ++e)t.state[e] = this.state[e]; t.blockSize = this.blockSize, t.count = this.count, t.squeezing = this.squeezing }, t.exports = r }).call(this, i("b639").Buffer) }, "27bf": function (t, e, i) { "use strict"; t.exports = o; var n = i("b19a"), r = Object.create(i("3a7c")); function a(t, e) { var i = this._transformState; i.transforming = !1; var n = i.writecb; if (!n) return this.emit("error", new Error("write callback called multiple times")); i.writechunk = null, i.writecb = null, null != e && this.push(e), n(t); var r = this._readableState; r.reading = !1, (r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark) } function o(t) { if (!(this instanceof o)) return new o(t); n.call(this, t), this._transformState = { afterTransform: a.bind(this), needTransform: !1, transforming: !1, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = !0, this._readableState.sync = !1, t && ("function" == typeof t.transform && (this._transform = t.transform), "function" == typeof t.flush && (this._flush = t.flush)), this.on("prefinish", s) } function s() { var t = this; "function" == typeof this._flush ? this._flush((function (e, i) { h(t, e, i) })) : h(this, null, null) } function h(t, e, i) { if (e) return t.emit("error", e); if (null != i && t.push(i), t._writableState.length) throw new Error("Calling transform done when ws.length != 0"); if (t._transformState.transforming) throw new Error("Calling transform done when still transforming"); return t.push(null) } r.inherits = i("3fb5"), r.inherits(o, n), o.prototype.push = function (t, e) { return this._transformState.needTransform = !1, n.prototype.push.call(this, t, e) }, o.prototype._transform = function (t, e, i) { throw new Error("_transform() is not implemented") }, o.prototype._write = function (t, e, i) { var n = this._transformState; if (n.writecb = i, n.writechunk = t, n.writeencoding = e, !n.transforming) { var r = this._readableState; (n.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark) } }, o.prototype._read = function (t) { var e = this._transformState; null !== e.writechunk && e.writecb && !e.transforming ? (e.transforming = !0, this._transform(e.writechunk, e.writeencoding, e.afterTransform)) : e.needTransform = !0 }, o.prototype._destroy = function (t, e) { var i = this; n.prototype._destroy.call(this, t, (function (t) { e(t), i.emit("close") })) } }, "2aee": function (t, e, i) { var n = i("4111"), r = i("d70e"), a = i("4dd0"), o = i("fda6"), s = i("a099"), h = i("8707").Buffer; function u(t) { var e; "object" != typeof t || h.isBuffer(t) || (e = t.passphrase, t = t.key), "string" == typeof t && (t = h.from(t)); var i, u, l = a(t, e), c = l.tag, f = l.data; switch (c) { case "CERTIFICATE": u = n.certificate.decode(f, "der").tbsCertificate.subjectPublicKeyInfo; case "PUBLIC KEY": switch (u || (u = n.PublicKey.decode(f, "der")), i = u.algorithm.algorithm.join(".")) { case "1.2.840.113549.1.1.1": return n.RSAPublicKey.decode(u.subjectPublicKey.data, "der"); case "1.2.840.10045.2.1": return u.subjectPrivateKey = u.subjectPublicKey, { type: "ec", data: u }; case "1.2.840.10040.4.1": return u.algorithm.params.pub_key = n.DSAparam.decode(u.subjectPublicKey.data, "der"), { type: "dsa", data: u.algorithm.params }; default: throw new Error("unknown key id " + i) }case "ENCRYPTED PRIVATE KEY": f = function (t, e) { var i = t.algorithm.decrypt.kde.kdeparams.salt, n = parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(), 10), a = r[t.algorithm.decrypt.cipher.algo.join(".")], u = t.algorithm.decrypt.cipher.iv, l = t.subjectPrivateKey, c = parseInt(a.split("-")[1], 10) / 8, f = s.pbkdf2Sync(e, i, n, c, "sha1"), d = o.createDecipheriv(a, f, u), p = []; return p.push(d.update(l)), p.push(d.final()), h.concat(p) }(f = n.EncryptedPrivateKey.decode(f, "der"), e); case "PRIVATE KEY": switch (i = (u = n.PrivateKey.decode(f, "der")).algorithm.algorithm.join(".")) { case "1.2.840.113549.1.1.1": return n.RSAPrivateKey.decode(u.subjectPrivateKey, "der"); case "1.2.840.10045.2.1": return { curve: u.algorithm.curve, privateKey: n.ECPrivateKey.decode(u.subjectPrivateKey, "der").privateKey }; case "1.2.840.10040.4.1": return u.algorithm.params.priv_key = n.DSAparam.decode(u.subjectPrivateKey, "der"), { type: "dsa", params: u.algorithm.params }; default: throw new Error("unknown key id " + i) }case "RSA PUBLIC KEY": return n.RSAPublicKey.decode(f, "der"); case "RSA PRIVATE KEY": return n.RSAPrivateKey.decode(f, "der"); case "DSA PRIVATE KEY": return { type: "dsa", params: n.DSAPrivateKey.decode(f, "der") }; case "EC PRIVATE KEY": return { curve: (f = n.ECPrivateKey.decode(f, "der")).parameters.value, privateKey: f.privateKey }; default: throw new Error("unknown key type " + c) } } t.exports = u, u.signature = n.signature }, "2c63": function (t, e, i) { t.exports = i("dc14") }, "320c": function (t, e, i) {
        "use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n = Object.getOwnPropertySymbols, r = Object.prototype.hasOwnProperty, a = Object.prototype.propertyIsEnumerable; function o(t) { if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(t) } t.exports = function () { try { if (!Object.assign) return !1; var t = new String("abc"); if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1; for (var e = {}, i = 0; i < 10; i++)e["_" + String.fromCharCode(i)] = i; if ("0123456789" !== Object.getOwnPropertyNames(e).map((function (t) { return e[t] })).join("")) return !1; var n = {}; return "abcdefghijklmnopqrst".split("").forEach((function (t) { n[t] = t })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("") } catch (t) { return !1 } }() ? Object.assign : function (t, e) { for (var i, s, h = o(t), u = 1; u < arguments.length; u++) { for (var l in i = Object(arguments[u])) r.call(i, l) && (h[l] = i[l]); if (n) { s = n(i); for (var c = 0; c < s.length; c++)a.call(i, s[c]) && (h[s[c]] = i[s[c]]) } } return h }
    }, "33fb": function (t, e, i) { var n = function () { throw "This swarm.js function isn't available on the browser." }, r = { readFile: n }, a = { download: n, safeDownloadArchived: n, directoryTree: n }, o = { platform: n, arch: n }, s = { join: n, slice: n }, h = { spawn: n }, u = { lookup: n }, l = i("aaa4"), c = i("73f30"), f = i("69dc"), d = i("e2aa"), p = i("aad6"); t.exports = p({ fs: r, files: a, os: o, path: s, child_process: h, defaultArchives: {}, mimetype: u, request: l, downloadUrl: null, bytes: c, hash: f, pick: d }) }, "354e": function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"), r = i("61e0"), a = i("2612"), o = i("479a"); function s(t) { e.decode(t) } e.names = o.names, e.codes = o.codes, e.defaultLengths = o.defaultLengths, e.toHexString = function (t) { if (!n.isBuffer(t)) throw new Error("must be passed a buffer"); return t.toString("hex") }, e.fromHexString = function (t) { return n.from(t, "hex") }, e.toB58String = function (t) { if (!n.isBuffer(t)) throw new Error("must be passed a buffer"); return r.encode("base58btc", t).toString().slice(1) }, e.fromB58String = function (t) { let e = t; return n.isBuffer(t) && (e = t.toString()), r.decode("z" + e) }, e.decode = function (t) { if (!n.isBuffer(t)) throw new Error("multihash must be a Buffer"); if (t.length < 2) throw new Error("multihash too short. must be > 2 bytes."); const i = a.decode(t); if (!e.isValidCode(i)) throw new Error("multihash unknown function code: 0x" + i.toString(16)); t = t.slice(a.decode.bytes); const r = a.decode(t); if (r < 0) throw new Error("multihash invalid length: " + r); if ((t = t.slice(a.decode.bytes)).length !== r) throw new Error("multihash length inconsistent: 0x" + t.toString("hex")); return { code: i, name: o.codes[i], length: r, digest: t } }, e.encode = function (t, i, r) { if (!t || void 0 === i) throw new Error("multihash encode requires at least two args: digest, code"); const o = e.coerceCode(i); if (!n.isBuffer(t)) throw new Error("digest should be a Buffer"); if (null == r && (r = t.length), r && t.length !== r) throw new Error("digest length should be equal to specified length."); return n.concat([n.from(a.encode(o)), n.from(a.encode(r)), t]) }, e.coerceCode = function (t) { let i = t; if ("string" == typeof t) { if (void 0 === o.names[t]) throw new Error("Unrecognized hash function named: " + t); i = o.names[t] } if ("number" != typeof i) throw new Error("Hash function code should be a number. Got: " + i); if (void 0 === o.codes[i] && !e.isAppCode(i)) throw new Error("Unrecognized function code: " + i); return i }, e.isAppCode = function (t) { return t > 0 && t < 16 }, e.isValidCode = function (t) { return !!e.isAppCode(t) || !!o.codes[t] }, e.validate = s, e.prefix = function (t) { return s(t), t.slice(0, 2) } }, "35e8": function (t, e, i) { "use strict"; t.exports = { isString: function (t) { return "string" == typeof t }, isObject: function (t) { return "object" == typeof t && null !== t }, isNull: function (t) { return null === t }, isNullOrUndefined: function (t) { return null == t } } }, 3667: function (t, e, i) {
        /*!
         * v2.1.4-104-gc868b3a
         * 
         */
        var n; "undefined" != typeof self && self, n = function () { return function (t) { var e = {}; function i(n) { if (e[n]) return e[n].exports; var r = e[n] = { i: n, l: !1, exports: {} }; return t[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports } return i.m = t, i.c = e, i.d = function (t, e, n) { i.o(t, e) || Object.defineProperty(t, e, { configurable: !1, enumerable: !0, get: n }) }, i.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return i.d(e, "a", e), e }, i.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = "", i(i.s = 7) }([function (t, e, i) { "use strict"; i.d(e, "j", (function () { return r })), i.d(e, "d", (function () { return a })), i.d(e, "c", (function () { return o })), i.d(e, "h", (function () { return s })), i.d(e, "b", (function () { return h })), i.d(e, "k", (function () { return u })), i.d(e, "e", (function () { return l })), i.d(e, "g", (function () { return c })), i.d(e, "i", (function () { return f })), i.d(e, "a", (function () { return d })), i.d(e, "f", (function () { return p })); var n = i(1), r = u((function (t, e) { var i = e.length; return u((function (n) { for (var r = 0; r < n.length; r++)e[i + r] = n[r]; return e.length = i + n.length, t.apply(this, e) })) })); function a(t, e) { return function () { return t.call(this, e.apply(this, arguments)) } } function o(t) { return function (e) { return e[t] } } u((function (t) { var e = Object(n.c)(t); function i(t, e) { return [h(t, e)] } return u((function (t) { return Object(n.f)(i, t, e)[0] })) })); var s = u((function (t) { return u((function (e) { for (var i, n = 0; n < o("length")(t); n++)if (i = h(e, t[n])) return i })) })); function h(t, e) { return e.apply(void 0, t) } function u(t) { var e = t.length - 1, i = Array.prototype.slice; if (0 === e) return function () { return t.call(this, i.call(arguments)) }; if (1 === e) return function () { return t.call(this, arguments[0], i.call(arguments, 1)) }; var n = Array(t.length); return function () { for (var r = 0; r < e; r++)n[r] = arguments[r]; return n[e] = i.call(arguments, e), t.apply(this, n) } } function l(t) { return function (e, i) { return t(i, e) } } function c(t, e) { return function (i) { return t(i) && e(i) } } function f() { } function d() { return !0 } function p(t) { return function () { return t } } }, function (t, e, i) { "use strict"; i.d(e, "d", (function () { return r })), i.d(e, "g", (function () { return a })), i.d(e, "l", (function () { return o })), i.d(e, "c", (function () { return s })), i.d(e, "h", (function () { return h })), i.d(e, "i", (function () { return u })), i.d(e, "j", (function () { return l })), i.d(e, "f", (function () { return c })), i.d(e, "m", (function () { return f })), i.d(e, "a", (function () { return d })), i.d(e, "b", (function () { return p })), i.d(e, "k", (function () { return m })), i.d(e, "e", (function () { return v })); var n = i(0); function r(t, e) { return [t, e] } var a = Object(n.c)(0), o = Object(n.c)(1); function s(t) { return m(t.reduce(Object(n.e)(r), null)) } var h = Object(n.k)(s); function u(t) { return c((function (t, e) { return t.unshift(e), t }), [], t) } function l(t, e) { return e ? r(t(a(e)), l(t, o(e))) : null } function c(t, e, i) { return i ? t(c(t, e, o(i)), a(i)) : e } function f(t, e, i) { return function t(i, n) { return i ? e(a(i)) ? (n(a(i)), o(i)) : r(a(i), t(o(i), n)) : null }(t, i || n.i) } function d(t, e) { return !e || t(a(e)) && d(t, o(e)) } function p(t, e) { t && (a(t).apply(null, e), p(o(t), e)) } function m(t) { return function t(e, i) { return e ? t(o(e), r(a(e), i)) : i }(t, null) } function v(t, e) { return e && (t(a(e)) ? a(e) : v(t, o(e))) } }, function (t, e, i) { "use strict"; i.d(e, "c", (function () { return a })), i.d(e, "e", (function () { return o })), i.d(e, "d", (function () { return s })), i.d(e, "a", (function () { return h })), i.d(e, "b", (function () { return u })); var n = i(1), r = i(0); function a(t, e) { return e && e.constructor === t } var o = Object(r.c)("length"), s = Object(r.j)(a, String); function h(t) { return void 0 !== t } function u(t, e) { return e instanceof Object && Object(n.a)((function (t) { return t in e }), t) } }, function (t, e, i) { "use strict"; i.d(e, "f", (function () { return r })), i.d(e, "d", (function () { return a })), i.d(e, "g", (function () { return o })), i.d(e, "e", (function () { return s })), i.d(e, "b", (function () { return h })), i.d(e, "h", (function () { return u })), i.d(e, "i", (function () { return l })), i.d(e, "c", (function () { return c })), i.d(e, "m", (function () { return f })), i.d(e, "n", (function () { return d })), i.d(e, "a", (function () { return p })), i.d(e, "j", (function () { return m })), i.d(e, "l", (function () { return v })), i.d(e, "k", (function () { return y })), i.d(e, "o", (function () { return g })); var n = 1, r = n++, a = n++, o = n++, s = n++, h = "fail", u = n++, l = n++, c = "start", f = "data", d = "end", p = n++, m = n++, v = n++, y = n++; function g(t, e, i) { try { var n = JSON.parse(e) } catch (t) { } return { statusCode: t, body: e, jsonBody: n, thrown: i } } }, function (t, e, i) { "use strict"; i.d(e, "b", (function () { return r })), i.d(e, "a", (function () { return a })), i.d(e, "c", (function () { return o })); var n = i(0); function r(t, e) { return { key: t, node: e } } var a = Object(n.c)("key"), o = Object(n.c)("node") }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return h })); var n = i(1), r = i(0), a = i(2), o = i(8), s = i(9); function h(t) { var e = Object(n.h)("resume", "pause", "pipe"), i = Object(r.j)(a.b, e); return t ? i(t) || Object(a.d)(t) ? Object(o.a)(s.a, t) : Object(o.a)(s.a, t.url, t.method, t.body, t.headers, t.withCredentials, t.cached) : Object(s.a)() } h.drop = function () { return h.drop } }, function (t, e, i) { "use strict"; i.d(e, "b", (function () { return h })), i.d(e, "a", (function () { return s })); var n = i(3), r = i(4), a = i(2), o = i(1), s = {}; function h(t) { var e = t(n.f).emit, i = t(n.d).emit, h = t(n.i).emit, u = t(n.h).emit; function l(t, e, i) { Object(r.c)(Object(o.g)(t))[e] = i } function c(t, i, n) { t && l(t, i, n); var a = Object(o.d)(Object(r.b)(i, n), t); return e(a), a } var f = {}; return f[n.l] = function (t, e) { if (!t) return h(e), c(t, s, e); var i = function (t, e) { var i = Object(r.c)(Object(o.g)(t)); return Object(a.c)(Array, i) ? c(t, Object(a.e)(i), e) : t }(t, e), n = Object(o.l)(i), u = Object(r.a)(Object(o.g)(i)); return l(n, u, e), Object(o.d)(Object(r.b)(u, e), n) }, f[n.k] = function (t) { return i(t), Object(o.l)(t) || u(Object(r.c)(Object(o.g)(t))) }, f[n.j] = c, f } }, function (t, e, i) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var n = i(5); e.default = n.a }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return r })); var n = i(2); function r(t, e, i, r, a, o, s) { return a = a ? JSON.parse(JSON.stringify(a)) : {}, r ? (Object(n.d)(r) || (r = JSON.stringify(r), a["Content-Type"] = a["Content-Type"] || "application/json"), a["Content-Length"] = a["Content-Length"] || r.length) : r = null, t(i || "GET", function (t, e) { return !1 === e && (-1 === t.indexOf("?") ? t += "?" : t += "&", t += "_=" + (new Date).getTime()), t }(e, s), r, a, o || !1) } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return c })); var n = i(10), r = i(12), a = i(6), o = i(13), s = i(14), h = i(16), u = i(17), l = i(18); function c(t, e, i, c, f) { var d = Object(n.a)(); return e && Object(l.b)(d, Object(l.a)(), t, e, i, c, f), Object(u.a)(d), Object(r.a)(d, Object(a.b)(d)), Object(o.a)(d, s.a), Object(h.a)(d, e) } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return a })); var n = i(11), r = i(0); function a() { var t = {}, e = a("newListener"), i = a("removeListener"); function a(r) { return t[r] = Object(n.a)(r, e, i), t[r] } function o(e) { return t[e] || a(e) } return ["emit", "on", "un"].forEach((function (t) { o[t] = Object(r.k)((function (e, i) { Object(r.b)(i, o(e)[t]) })) })), o } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return o })); var n = i(1), r = i(2), a = i(0); function o(t, e, i) { var o, s; function h(t) { return function (e) { return e.id === t } } return { on: function (i, r) { var a = { listener: i, id: r || i }; return e && e.emit(t, i, a.id), o = Object(n.d)(a, o), s = Object(n.d)(i, s), this }, emit: function () { Object(n.b)(s, arguments) }, un: function (e) { var r; o = Object(n.m)(o, h(e), (function (t) { r = t })), r && (s = Object(n.m)(s, (function (t) { return t === r.listener })), i && i.emit(t, r.listener, r.id)) }, listeners: function () { return s }, hasListener: function (t) { var e = t ? h(t) : a.a; return Object(r.a)(Object(n.e)(e, o)) } } } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return o })); var n = i(4), r = i(3), a = i(1); function o(t, e) { var i, o = {}; function s(t) { return function (e) { i = t(i, e) } } for (var h in e) t(h).on(s(e[h]), o); t(r.g).on((function (t) { var e = Object(a.g)(i), r = Object(n.a)(e), o = Object(a.l)(i); o && (Object(n.c)(Object(a.g)(o))[r] = t) })), t(r.e).on((function () { var t = Object(a.g)(i), e = Object(n.a)(t), r = Object(a.l)(i); r && delete Object(n.c)(Object(a.g)(r))[e] })), t(r.a).on((function () { for (var i in e) t(i).un(o) })) } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return o })); var n = i(3), r = i(1), a = i(4); function o(t, e) { var i = { node: t(n.d), path: t(n.f) }; function o(e, i, n) { var o = t(e).emit; i.on((function (t) { var e = n(t); !1 !== e && function (t, e, i) { var n = Object(r.k)(i); t(e, Object(r.i)(Object(r.l)(Object(r.j)(a.a, n))), Object(r.i)(Object(r.j)(a.c, n))) }(o, Object(a.c)(e), t) }), e), t("removeListener").on((function (n) { n === e && (t(n).listeners() || i.un(e)) })) } t("newListener").on((function (t) { var n = /(node|path):(.*)/.exec(t); if (n) { var r = i[n[1]]; r.hasListener(t) || o(t, r, e(n[2])) } })) } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return u })); var n = i(0), r = i(1), a = i(4), o = i(2), s = i(6), h = i(15), u = Object(h.a)((function (t, e, i, h, u) { var l = Object(n.d)(a.a, r.g), c = Object(n.d)(a.c, r.g); function f(t, e) { return e[1] ? Object(n.g)(t, r.g) : t } function d(t) { return t === n.a ? n.a : Object(n.g)((function (t) { return l(t) !== s.a }), Object(n.d)(t, r.l)) } function p() { return function (t) { return l(t) === s.a } } function m(t, e, i, n, a) { var s = t(i); if (s) { var h = function (t, e, i) { return Object(r.f)((function (t, e) { return e(t, i) }), e, t) }(e, n, s); return a(i.substr(Object(o.e)(s[0])), h) } } function v(t, e) { return Object(n.j)(m, t, e) } var y = Object(n.h)(v(t, Object(r.h)(f, (function (t, e) { var i = e[3]; if (!i) return t; var a = Object(n.j)(o.b, Object(r.c)(i.split(/\W+/))), s = Object(n.d)(a, c); return Object(n.g)(s, t) }), (function (t, e) { var i = e[2], r = i && "*" !== i ? function (t) { return String(l(t)) === i } : n.a; return Object(n.g)(r, t) }), d)), v(e, Object(r.h)((function (t) { if (t === n.a) return n.a; var e = p(), i = t, r = d((function (t) { return a(t) })), a = Object(n.h)(e, i, r); return a }))), v(i, Object(r.h)()), v(h, Object(r.h)(f, p)), v(u, Object(r.h)((function (t) { return function (e) { var i = t(e); return !0 === i ? Object(r.g)(e) : i } }))), (function (t) { throw Error('"' + t + '" could not be tokenised') })); function g(t, e) { return e } function b(t, e) { return y(t, e, t ? b : g) } return function (t) { try { return b(t, n.a) } catch (e) { throw Error('Could not compile "' + t + '" because ' + e.message) } } })) }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return m })); var n, r, a, o, s, h, u, l, c, f, d, p = i(0), m = (n = Object(p.k)((function (t) { return t.unshift(/^/), (e = RegExp(t.map(Object(p.c)("source")).join(""))).exec.bind(e); var e })), o = n(r = /(\$?)/, /([\w-_]+|\*)/, a = /(?:{([\w ]*?)})?/), s = n(r, /\["([^"]+)"\]/, a), h = n(r, /\[(\d+|\*)\]/, a), u = n(r, /()/, /{([\w ]*?)}/), l = n(/\.\./), c = n(/\./), f = n(r, /!/), d = n(/$/), function (t) { return t(Object(p.h)(o, s, h, u), l, c, f, d) }) }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return s })); var n = i(3), r = i(0), a = i(2), o = i(5); function s(t, e) { var i, s = /^(node|path):./, h = t(n.h), u = t(n.e).emit, l = t(n.g).emit, c = Object(r.k)((function (e, n) { if (i[e]) Object(r.b)(n, i[e]); else { var a = t(e), o = n[0]; s.test(e) ? f(a, p(o)) : a.on(o) } return i })); function f(t, e, n) { n = n || e; var a = d(e); return t.on((function () { var e = !1; i.forget = function () { e = !0 }, Object(r.b)(arguments, a), delete i.forget, e && t.un(n) }), n), i } function d(t) { return function () { try { return t.apply(i, arguments) } catch (t) { setTimeout((function () { throw new Error(t.message) })) } } } function p(t) { return function () { var e = t.apply(this, arguments); Object(a.a)(e) && (e === o.a.drop ? u() : l(e)) } } function m(e, i, n) { var r; r = "node" === e ? p(n) : n, f(function (e, i) { return t(e + ":" + i) }(e, i), r, n) } function v(t, e, n) { return Object(a.d)(e) ? m(t, e, n) : function (t, e) { for (var i in e) m(t, i, e[i]) }(t, e), i } return t(n.i).on((function (t) { i.root = Object(r.f)(t) })), t(n.c).on((function (t, e) { i.header = function (t) { return t ? e[t] : e } })), i = { on: c, addListener: c, removeListener: function (e, n, r) { if ("done" === e) h.un(n); else if ("node" === e || "path" === e) t.un(e + ":" + n, r); else { var a = n; t(e).un(a) } return i }, emit: t.emit, node: Object(r.j)(v, "node"), path: Object(r.j)(v, "path"), done: Object(r.j)(f, h), start: Object(r.j)((function (e, n) { return t(e).on(d(n), n), i }), n.c), fail: t(n.b).on, abort: t(n.a).emit, header: r.i, root: r.i, source: e } } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return r })); var n = i(3); function r(t) { var e, i, r, a, o = t(n.j).emit, s = t(n.l).emit, h = t(n.k).emit, u = t(n.b).emit, l = /[\\"\n]/g, c = 0, f = c++, d = c++, p = c++, m = c++, v = c++, y = c++, g = c++, b = c++, _ = c++, w = c++, k = c++, M = c++, x = c++, S = c++, E = c++, D = c++, A = c++, T = c++, C = c++, P = c++, I = 65536, O = "", R = !1, L = !1, j = f, B = [], z = null, N = 0, F = 0, q = 0, H = 0, V = 1; function U(t) { void 0 !== a && (s(a), h(), a = void 0), e = Error(t + "\nLn: " + V + "\nCol: " + H + "\nChr: " + i), u(Object(n.o)(void 0, void 0, e)) } function W(t) { return "\r" === t || "\n" === t || " " === t || "\t" === t } t(n.m).on((function (t) { if (!e) { if (L) return U("Cannot write after close"); var n, u = 0; for (i = t[0]; i && (u > 0 && (r = i), i = t[u++]);)switch (q++, "\n" === i ? (V++, H = 0) : H++, j) { case f: if ("{" === i) j = p; else if ("[" === i) j = v; else if (!W(i)) return U("Non-whitespace before {[."); continue; case b: case p: if (W(i)) continue; if (j === b) B.push(_); else { if ("}" === i) { s({}), h(), j = B.pop() || d; continue } B.push(m) } if ('"' !== i) return U('Malformed object key should start with " '); j = g; continue; case _: case m: if (W(i)) continue; if (":" === i) j === m ? (B.push(m), void 0 !== a && (s({}), o(a), a = void 0), F++) : void 0 !== a && (o(a), a = void 0), j = d; else if ("}" === i) void 0 !== a && (s(a), h(), a = void 0), h(), F--, j = B.pop() || d; else { if ("," !== i) return U("Bad object"); j === m && B.push(m), void 0 !== a && (s(a), h(), a = void 0), j = b } continue; case v: case d: if (W(i)) continue; if (j === v) { if (s([]), F++, j = d, "]" === i) { h(), F--, j = B.pop() || d; continue } B.push(y) } if ('"' === i) j = g; else if ("{" === i) j = p; else if ("[" === i) j = v; else if ("t" === i) j = w; else if ("f" === i) j = x; else if ("n" === i) j = A; else if ("-" === i) O += i; else if ("0" === i) O += i, j = 20; else { if (-1 === "123456789".indexOf(i)) return U("Bad value"); O += i, j = 20 } continue; case y: if ("," === i) B.push(y), void 0 !== a && (s(a), h(), a = void 0), j = d; else { if ("]" !== i) { if (W(i)) continue; return U("Bad array") } void 0 !== a && (s(a), h(), a = void 0), h(), F--, j = B.pop() || d } continue; case g: void 0 === a && (a = ""); var c = u - 1; t: for (; ;) { for (; N > 0;)if (z += i, i = t.charAt(u++), 4 === N ? (a += String.fromCharCode(parseInt(z, 16)), N = 0, c = u - 1) : N++, !i) break t; if ('"' === i && !R) { j = B.pop() || d, a += t.substring(c, u - 1); break } if (!("\\" !== i || R || (R = !0, a += t.substring(c, u - 1), i = t.charAt(u++)))) break; if (R) { if (R = !1, "n" === i ? a += "\n" : "r" === i ? a += "\r" : "t" === i ? a += "\t" : "f" === i ? a += "\f" : "b" === i ? a += "\b" : "u" === i ? (N = 1, z = "") : a += i, i = t.charAt(u++), c = u - 1, i) continue; break } l.lastIndex = u; var Y = l.exec(t); if (!Y) { u = t.length + 1, a += t.substring(c, u - 1); break } if (u = Y.index + 1, !(i = t.charAt(Y.index))) { a += t.substring(c, u - 1); break } } continue; case w: if (!i) continue; if ("r" !== i) return U("Invalid true started with t" + i); j = k; continue; case k: if (!i) continue; if ("u" !== i) return U("Invalid true started with tr" + i); j = M; continue; case M: if (!i) continue; if ("e" !== i) return U("Invalid true started with tru" + i); s(!0), h(), j = B.pop() || d; continue; case x: if (!i) continue; if ("a" !== i) return U("Invalid false started with f" + i); j = S; continue; case S: if (!i) continue; if ("l" !== i) return U("Invalid false started with fa" + i); j = E; continue; case E: if (!i) continue; if ("s" !== i) return U("Invalid false started with fal" + i); j = D; continue; case D: if (!i) continue; if ("e" !== i) return U("Invalid false started with fals" + i); s(!1), h(), j = B.pop() || d; continue; case A: if (!i) continue; if ("u" !== i) return U("Invalid null started with n" + i); j = T; continue; case T: if (!i) continue; if ("l" !== i) return U("Invalid null started with nu" + i); j = C; continue; case C: if (!i) continue; if ("l" !== i) return U("Invalid null started with nul" + i); s(null), h(), j = B.pop() || d; continue; case P: if ("." !== i) return U("Leading zero not followed by ."); O += i, j = 20; continue; case 20: if (-1 !== "0123456789".indexOf(i)) O += i; else if ("." === i) { if (-1 !== O.indexOf(".")) return U("Invalid number has two dots"); O += i } else if ("e" === i || "E" === i) { if (-1 !== O.indexOf("e") || -1 !== O.indexOf("E")) return U("Invalid number has two exponential"); O += i } else if ("+" === i || "-" === i) { if ("e" !== r && "E" !== r) return U("Invalid symbol in number"); O += i } else O && (s(parseFloat(O)), h(), O = ""), u--, j = B.pop() || d; continue; default: return U("Unknown state: " + j) }q >= I && (n = 0, void 0 !== a && a.length > 65536 && (U("Max buffer length exceeded: textNode"), n = Math.max(n, a.length)), O.length > 65536 && (U("Max buffer length exceeded: numberNode"), n = Math.max(n, O.length)), I = 65536 - n + q) } })), t(n.n).on((function () { if (j === f) return s({}), h(), void (L = !0); j === d && 0 === F || U("Unexpected end"), void 0 !== a && (s(a), h(), a = void 0), L = !0 })) } }, function (t, e, i) { "use strict"; i.d(e, "a", (function () { return h })), i.d(e, "b", (function () { return u })); var n = i(19), r = i(3), a = i(2), o = i(20), s = i(0); function h() { return new XMLHttpRequest } function u(t, e, i, h, u, l, c) { var f = t(r.m).emit, d = t(r.b).emit, p = 0, m = !0; function v() { if ("2" === String(e.status)[0]) { var t = e.responseText, i = (" " + t.substr(p)).substr(1); i && f(i), p = Object(a.e)(t) } } function y(e) { try { m && t(r.c).emit(e.status, Object(o.a)(e.getAllResponseHeaders())), m = !1 } catch (t) { } } t(r.a).on((function () { e.onreadystatechange = null, e.abort() })), "onprogress" in e && (e.onprogress = v), e.onreadystatechange = function () { switch (e.readyState) { case 2: case 3: return y(e); case 4: y(e), "2" === String(e.status)[0] ? (v(), t(r.n).emit()) : d(Object(r.o)(e.status, e.responseText)) } }; try { for (var g in e.open(i, h, !0), l) e.setRequestHeader(g, l[g]); Object(n.a)(window.location, Object(n.b)(h)) || e.setRequestHeader("X-Requested-With", "XMLHttpRequest"), e.withCredentials = c, e.send(u) } catch (t) { window.setTimeout(Object(s.j)(d, Object(r.o)(void 0, void 0, t)), 0) } } }, function (t, e, i) { "use strict"; function n(t, e) { function i(e) { return String(e.port || { "http:": 80, "https:": 443 }[e.protocol || t.protocol]) } return !!(e.protocol && e.protocol !== t.protocol || e.host && e.host !== t.host || e.host && i(e) !== i(t)) } function r(t) { var e = /(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t) || []; return { protocol: e[1] || "", host: e[2] || "", port: e[3] || "" } } i.d(e, "a", (function () { return n })), i.d(e, "b", (function () { return r })) }, function (t, e, i) { "use strict"; function n(t) { var e = {}; return t && t.split("\r\n").forEach((function (t) { var i = t.indexOf(": "); e[t.substring(0, i)] = t.substring(i + 2) })), e } i.d(e, "a", (function () { return n })) }]).default }, t.exports = n()
    }, "3a89": function (t, e) { const i = "Impossible case. Please create issue.", n = "The tweak was out of range or the resulted private key is invalid", r = "The tweak was out of range or equal to zero", a = "Unknow error on context randomization", o = "Private Key is invalid", s = "Public Key could not be parsed", h = "Public Key serialization error", u = "The sum of the public keys is not valid", l = "Signature could not be parsed", c = "The nonce generation function failed, or the private key was invalid", f = "Public key could not be recover", d = "Scalar was invalid (zero or overflow)"; function p(t, e) { if (!t) throw new Error(e) } function m(t, e, i) { if (p(e instanceof Uint8Array, `Expected ${t} to be an Uint8Array`), void 0 !== i) if (Array.isArray(i)) { const n = `Expected ${t} to be an Uint8Array with length [${i.join(", ")}]`; p(i.includes(e.length), n) } else { const n = `Expected ${t} to be an Uint8Array with length ${i}`; p(e.length === i, n) } } function v(t) { p("Boolean" === g(t), "Expected compressed to be a Boolean") } function y(t = (t => new Uint8Array(t)), e) { return "function" == typeof t && (t = t(e)), m("output", t, e), t } function g(t) { return Object.prototype.toString.call(t).slice(8, -1) } t.exports = t => ({ contextRandomize(e) { switch (p(null === e || e instanceof Uint8Array, "Expected seed to be an Uint8Array or null"), null !== e && m("seed", e, 32), t.contextRandomize(e)) { case 1: throw new Error(a) } }, privateKeyVerify: e => (m("private key", e, 32), 0 === t.privateKeyVerify(e)), privateKeyNegate(e) { switch (m("private key", e, 32), t.privateKeyNegate(e)) { case 0: return e; case 1: throw new Error(i) } }, privateKeyTweakAdd(e, i) { switch (m("private key", e, 32), m("tweak", i, 32), t.privateKeyTweakAdd(e, i)) { case 0: return e; case 1: throw new Error(n) } }, privateKeyTweakMul(e, i) { switch (m("private key", e, 32), m("tweak", i, 32), t.privateKeyTweakMul(e, i)) { case 0: return e; case 1: throw new Error(r) } }, publicKeyVerify: e => (m("public key", e, [33, 65]), 0 === t.publicKeyVerify(e)), publicKeyCreate(e, i = !0, n) { switch (m("private key", e, 32), v(i), n = y(n, i ? 33 : 65), t.publicKeyCreate(n, e)) { case 0: return n; case 1: throw new Error(o); case 2: throw new Error(h) } }, publicKeyConvert(e, i = !0, n) { switch (m("public key", e, [33, 65]), v(i), n = y(n, i ? 33 : 65), t.publicKeyConvert(n, e)) { case 0: return n; case 1: throw new Error(s); case 2: throw new Error(h) } }, publicKeyNegate(e, n = !0, r) { switch (m("public key", e, [33, 65]), v(n), r = y(r, n ? 33 : 65), t.publicKeyNegate(r, e)) { case 0: return r; case 1: throw new Error(s); case 2: throw new Error(i); case 3: throw new Error(h) } }, publicKeyCombine(e, i = !0, n) { p(Array.isArray(e), "Expected public keys to be an Array"), p(e.length > 0, "Expected public keys array will have more than zero items"); for (const t of e) m("public key", t, [33, 65]); switch (v(i), n = y(n, i ? 33 : 65), t.publicKeyCombine(n, e)) { case 0: return n; case 1: throw new Error(s); case 2: throw new Error(u); case 3: throw new Error(h) } }, publicKeyTweakAdd(e, i, r = !0, a) { switch (m("public key", e, [33, 65]), m("tweak", i, 32), v(r), a = y(a, r ? 33 : 65), t.publicKeyTweakAdd(a, e, i)) { case 0: return a; case 1: throw new Error(s); case 2: throw new Error(n) } }, publicKeyTweakMul(e, i, n = !0, a) { switch (m("public key", e, [33, 65]), m("tweak", i, 32), v(n), a = y(a, n ? 33 : 65), t.publicKeyTweakMul(a, e, i)) { case 0: return a; case 1: throw new Error(s); case 2: throw new Error(r) } }, signatureNormalize(e) { switch (m("signature", e, 64), t.signatureNormalize(e)) { case 0: return e; case 1: throw new Error(l) } }, signatureExport(e, n) { m("signature", e, 64); const r = { output: n = y(n, 72), outputlen: 72 }; switch (t.signatureExport(r, e)) { case 0: return n.slice(0, r.outputlen); case 1: throw new Error(l); case 2: throw new Error(i) } }, signatureImport(e, n) { switch (m("signature", e), n = y(n, 64), t.signatureImport(n, e)) { case 0: return n; case 1: throw new Error(l); case 2: throw new Error(i) } }, ecdsaSign(e, n, r = {}, a) { m("message", e, 32), m("private key", n, 32), p("Object" === g(r), "Expected options to be an Object"), void 0 !== r.data && m("options.data", r.data), void 0 !== r.noncefn && p("Function" === g(r.noncefn), "Expected options.noncefn to be a Function"); const o = { signature: a = y(a, 64), recid: null }; switch (t.ecdsaSign(o, e, n, r.data, r.noncefn)) { case 0: return o; case 1: throw new Error(c); case 2: throw new Error(i) } }, ecdsaVerify(e, i, n) { switch (m("signature", e, 64), m("message", i, 32), m("public key", n, [33, 65]), t.ecdsaVerify(e, i, n)) { case 0: return !0; case 3: return !1; case 1: throw new Error(l); case 2: throw new Error(s) } }, ecdsaRecover(e, n, r, a = !0, o) { switch (m("signature", e, 64), p("Number" === g(n) && n >= 0 && n <= 3, "Expected recovery id to be a Number within interval [0, 3]"), m("message", r, 32), v(a), o = y(o, a ? 33 : 65), t.ecdsaRecover(o, e, n, r)) { case 0: return o; case 1: throw new Error(l); case 2: throw new Error(f); case 3: throw new Error(i) } }, ecdh(e, i, n = {}, r) { switch (m("public key", e, [33, 65]), m("private key", i, 32), p("Object" === g(n), "Expected options to be an Object"), void 0 !== n.data && m("options.data", n.data), void 0 !== n.hashfn ? (p("Function" === g(n.hashfn), "Expected options.hashfn to be a Function"), void 0 !== n.xbuf && m("options.xbuf", n.xbuf, 32), void 0 !== n.ybuf && m("options.ybuf", n.ybuf, 32), m("output", r)) : r = y(r, 32), t.ecdh(r, e, i, n.data, n.hashfn, n.xbuf, n.ybuf)) { case 0: return r; case 1: throw new Error(s); case 2: throw new Error(d) } } }) }, "3ae1": function (t, e, i) { "use strict"; const n = i("d105"), r = i("42a71"), a = i("615a"), o = i("ab7e"), s = i("e2f5"), h = [["base1", "1", "", "1"], ["base2", "0", r, "01"], ["base8", "7", r, "01234567"], ["base10", "9", r, "0123456789"], ["base16", "f", a, "0123456789abcdef"], ["base32", "b", o, "abcdefghijklmnopqrstuvwxyz234567"], ["base32pad", "c", o, "abcdefghijklmnopqrstuvwxyz234567="], ["base32hex", "v", o, "0123456789abcdefghijklmnopqrstuv"], ["base32hexpad", "t", o, "0123456789abcdefghijklmnopqrstuv="], ["base32z", "h", o, "ybndrfg8ejkmcpqxot1uwisza345h769"], ["base58flickr", "Z", r, "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"], ["base58btc", "z", r, "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"], ["base64", "m", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"], ["base64pad", "M", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="], ["base64url", "u", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"], ["base64urlpad", "U", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]], u = h.reduce((t, e) => (t[e[0]] = new n(e[0], e[1], e[2], e[3]), t), {}), l = h.reduce((t, e) => (t[e[1]] = u[e[0]], t), {}); t.exports = { names: u, codes: l } }, "3c43": function (t, e) { e.endianness = function () { return "LE" }, e.hostname = function () { return "undefined" != typeof location ? location.hostname : "" }, e.loadavg = function () { return [] }, e.uptime = function () { return 0 }, e.freemem = function () { return Number.MAX_VALUE }, e.totalmem = function () { return Number.MAX_VALUE }, e.cpus = function () { return [] }, e.type = function () { return "Browser" }, e.release = function () { return "undefined" != typeof navigator ? navigator.appVersion : "" }, e.networkInterfaces = e.getNetworkInterfaces = function () { return {} }, e.arch = function () { return "javascript" }, e.platform = function () { return "browser" }, e.tmpdir = e.tmpDir = function () { return "/tmp" }, e.EOL = "\n", e.homedir = function () { return "/" } }, 4111: function (t, e, i) { "use strict"; var n = i("7f7a"); e.certificate = i("56b5"); var r = n.define("RSAPrivateKey", (function () { this.seq().obj(this.key("version").int(), this.key("modulus").int(), this.key("publicExponent").int(), this.key("privateExponent").int(), this.key("prime1").int(), this.key("prime2").int(), this.key("exponent1").int(), this.key("exponent2").int(), this.key("coefficient").int()) })); e.RSAPrivateKey = r; var a = n.define("RSAPublicKey", (function () { this.seq().obj(this.key("modulus").int(), this.key("publicExponent").int()) })); e.RSAPublicKey = a; var o = n.define("SubjectPublicKeyInfo", (function () { this.seq().obj(this.key("algorithm").use(s), this.key("subjectPublicKey").bitstr()) })); e.PublicKey = o; var s = n.define("AlgorithmIdentifier", (function () { this.seq().obj(this.key("algorithm").objid(), this.key("none").null_().optional(), this.key("curve").objid().optional(), this.key("params").seq().obj(this.key("p").int(), this.key("q").int(), this.key("g").int()).optional()) })), h = n.define("PrivateKeyInfo", (function () { this.seq().obj(this.key("version").int(), this.key("algorithm").use(s), this.key("subjectPrivateKey").octstr()) })); e.PrivateKey = h; var u = n.define("EncryptedPrivateKeyInfo", (function () { this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(), this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(), this.key("kdeparams").seq().obj(this.key("salt").octstr(), this.key("iters").int())), this.key("cipher").seq().obj(this.key("algo").objid(), this.key("iv").octstr()))), this.key("subjectPrivateKey").octstr()) })); e.EncryptedPrivateKey = u; var l = n.define("DSAPrivateKey", (function () { this.seq().obj(this.key("version").int(), this.key("p").int(), this.key("q").int(), this.key("g").int(), this.key("pub_key").int(), this.key("priv_key").int()) })); e.DSAPrivateKey = l, e.DSAparam = n.define("DSAparam", (function () { this.int() })); var c = n.define("ECPrivateKey", (function () { this.seq().obj(this.key("version").int(), this.key("privateKey").octstr(), this.key("parameters").optional().explicit(0).use(f), this.key("publicKey").optional().explicit(1).bitstr()) })); e.ECPrivateKey = c; var f = n.define("ECParameters", (function () { this.choice({ namedCurve: this.objid() }) })); e.signature = n.define("signature", (function () { this.seq().obj(this.key("r").int(), this.key("s").int()) })) }, "429b": function (t, e, i) { t.exports = i("faa1").EventEmitter }, 4673: function (t, e, i) { const n = new (0, i("3337").ec)("secp256k1"), r = n.curve, a = r.n.constructor; function o(t) { const e = t[0]; switch (e) { case 2: case 3: return 33 !== t.length ? null : function (t, e) { let i = new a(e); if (i.cmp(r.p) >= 0) return null; i = i.toRed(r.red); let o = i.redSqr().redIMul(i).redIAdd(r.b).redSqrt(); return 3 === t !== o.isOdd() && (o = o.redNeg()), n.keyPair({ pub: { x: i, y: o } }) }(e, t.subarray(1, 33)); case 4: case 6: case 7: return 65 !== t.length ? null : function (t, e, i) { let o = new a(e), s = new a(i); if (o.cmp(r.p) >= 0 || s.cmp(r.p) >= 0) return null; if (o = o.toRed(r.red), s = s.toRed(r.red), (6 === t || 7 === t) && s.isOdd() !== (7 === t)) return null; const h = o.redSqr().redIMul(o); return s.redSqr().redISub(h.redIAdd(r.b)).isZero() ? n.keyPair({ pub: { x: o, y: s } }) : null }(e, t.subarray(1, 33), t.subarray(33, 65)); default: return null } } function s(t, e) { const i = e.encode(null, 33 === t.length); for (let e = 0; e < t.length; ++e)t[e] = i[e] } t.exports = { contextRandomize: () => 0, privateKeyVerify(t) { const e = new a(t); return e.cmp(r.n) < 0 && !e.isZero() ? 0 : 1 }, privateKeyNegate(t) { const e = new a(t), i = r.n.sub(e).umod(r.n).toArrayLike(Uint8Array, "be", 32); return t.set(i), 0 }, privateKeyTweakAdd(t, e) { const i = new a(e); if (i.cmp(r.n) >= 0) return 1; if (i.iadd(new a(t)), i.cmp(r.n) >= 0 && i.isub(r.n), i.isZero()) return 1; const n = i.toArrayLike(Uint8Array, "be", 32); return t.set(n), 0 }, privateKeyTweakMul(t, e) { let i = new a(e); if (i.cmp(r.n) >= 0 || i.isZero()) return 1; i.imul(new a(t)), i.cmp(r.n) >= 0 && (i = i.umod(r.n)); const n = i.toArrayLike(Uint8Array, "be", 32); return t.set(n), 0 }, publicKeyVerify: t => null === o(t) ? 1 : 0, publicKeyCreate(t, e) { const i = new a(e); if (i.cmp(r.n) >= 0 || i.isZero()) return 1; return s(t, n.keyFromPrivate(e).getPublic()), 0 }, publicKeyConvert(t, e) { const i = o(e); if (null === i) return 1; return s(t, i.getPublic()), 0 }, publicKeyNegate(t, e) { const i = o(e); if (null === i) return 1; const n = i.getPublic(); return n.y = n.y.redNeg(), s(t, n), 0 }, publicKeyCombine(t, e) { const i = new Array(e.length); for (let t = 0; t < e.length; ++t)if (i[t] = o(e[t]), null === i[t]) return 1; let n = i[0].getPublic(); for (let t = 1; t < i.length; ++t)n = n.add(i[t].pub); return n.isInfinity() ? 2 : (s(t, n), 0) }, publicKeyTweakAdd(t, e, i) { const n = o(e); if (null === n) return 1; if ((i = new a(i)).cmp(r.n) >= 0) return 2; const h = n.getPublic().add(r.g.mul(i)); return h.isInfinity() ? 2 : (s(t, h), 0) }, publicKeyTweakMul(t, e, i) { const n = o(e); if (null === n) return 1; if ((i = new a(i)).cmp(r.n) >= 0 || i.isZero()) return 2; return s(t, n.getPublic().mul(i)), 0 }, signatureNormalize(t) { const e = new a(t.subarray(0, 32)), i = new a(t.subarray(32, 64)); return e.cmp(r.n) >= 0 || i.cmp(r.n) >= 0 ? 1 : (1 === i.cmp(n.nh) && t.set(r.n.sub(i).toArrayLike(Uint8Array, "be", 32), 32), 0) }, signatureExport(t, e) { const i = e.subarray(0, 32), n = e.subarray(32, 64); if (new a(i).cmp(r.n) >= 0) return 1; if (new a(n).cmp(r.n) >= 0) return 1; const { output: o } = t; let s = o.subarray(4, 37); s[0] = 0, s.set(i, 1); let h = 33, u = 0; for (; h > 1 && 0 === s[u] && !(128 & s[u + 1]); --h, ++u); if (s = s.subarray(u), 128 & s[0]) return 1; if (h > 1 && 0 === s[0] && !(128 & s[1])) return 1; let l = o.subarray(39, 72); l[0] = 0, l.set(n, 1); let c = 33, f = 0; for (; c > 1 && 0 === l[f] && !(128 & l[f + 1]); --c, ++f); return l = l.subarray(f), 128 & l[0] || c > 1 && 0 === l[0] && !(128 & l[1]) ? 1 : (t.outputlen = 6 + h + c, o[0] = 48, o[1] = t.outputlen - 2, o[2] = 2, o[3] = s.length, o.set(s, 4), o[4 + h] = 2, o[5 + h] = l.length, o.set(l, 6 + h), 0) }, signatureImport(t, e) { if (e.length < 8) return 1; if (e.length > 72) return 1; if (48 !== e[0]) return 1; if (e[1] !== e.length - 2) return 1; if (2 !== e[2]) return 1; const i = e[3]; if (0 === i) return 1; if (5 + i >= e.length) return 1; if (2 !== e[4 + i]) return 1; const n = e[5 + i]; if (0 === n) return 1; if (6 + i + n !== e.length) return 1; if (128 & e[4]) return 1; if (i > 1 && 0 === e[4] && !(128 & e[5])) return 1; if (128 & e[i + 6]) return 1; if (n > 1 && 0 === e[i + 6] && !(128 & e[i + 7])) return 1; let o = e.subarray(4, 4 + i); if (33 === o.length && 0 === o[0] && (o = o.subarray(1)), o.length > 32) return 1; let s = e.subarray(6 + i); if (33 === s.length && 0 === s[0] && (s = s.slice(1)), s.length > 32) throw new Error("S length is too long"); let h = new a(o); h.cmp(r.n) >= 0 && (h = new a(0)); let u = new a(e.subarray(6 + i)); return u.cmp(r.n) >= 0 && (u = new a(0)), t.set(h.toArrayLike(Uint8Array, "be", 32), 0), t.set(u.toArrayLike(Uint8Array, "be", 32), 32), 0 }, ecdsaSign(t, e, i, o, s) { if (s) { const t = s; s = n => { const r = t(e, i, null, o, n); if (!(r instanceof Uint8Array && 32 === r.length)) throw new Error("This is the way"); return new a(r) } } const h = new a(i); if (h.cmp(r.n) >= 0 || h.isZero()) return 1; let u; try { u = n.sign(e, i, { canonical: !0, k: s, pers: o }) } catch (t) { return 1 } return t.signature.set(u.r.toArrayLike(Uint8Array, "be", 32), 0), t.signature.set(u.s.toArrayLike(Uint8Array, "be", 32), 32), t.recid = u.recoveryParam, 0 }, ecdsaVerify(t, e, i) { const s = { r: t.subarray(0, 32), s: t.subarray(32, 64) }, h = new a(s.r), u = new a(s.s); if (h.cmp(r.n) >= 0 || u.cmp(r.n) >= 0) return 1; if (1 === u.cmp(n.nh) || h.isZero() || u.isZero()) return 3; const l = o(i); if (null === l) return 2; const c = l.getPublic(); return n.verify(e, s, c) ? 0 : 3 }, ecdsaRecover(t, e, i, o) { const h = { r: e.slice(0, 32), s: e.slice(32, 64) }, u = new a(h.r), l = new a(h.s); if (u.cmp(r.n) >= 0 || l.cmp(r.n) >= 0) return 1; if (u.isZero() || l.isZero()) return 2; let c; try { c = n.recoverPubKey(o, h, i) } catch (t) { return 2 } return s(t, c), 0 }, ecdh(t, e, i, s, h, u, l) { const c = o(e); if (null === c) return 1; const f = new a(i); if (f.cmp(r.n) >= 0 || f.isZero()) return 2; const d = c.getPublic().mul(f); if (void 0 === h) { const e = d.encode(null, !0), i = n.hash().update(e).digest(); for (let e = 0; e < 32; ++e)t[e] = i[e] } else { u || (u = new Uint8Array(32)); const e = d.getX().toArray("be", 32); for (let t = 0; t < 32; ++t)u[t] = e[t]; l || (l = new Uint8Array(32)); const i = d.getY().toArray("be", 32); for (let t = 0; t < 32; ++t)l[t] = i[t]; const n = h(u, l, s); if (!(n instanceof Uint8Array && n.length === t.length)) return 2; t.set(n) } return 0 } } }, 4681: function (t, e, i) { "use strict"; var n = i("966d"); function r(t, e) { t.emit("error", e) } t.exports = { destroy: function (t, e) { var i = this, a = this._readableState && this._readableState.destroyed, o = this._writableState && this._writableState.destroyed; return a || o ? (e ? e(t) : !t || this._writableState && this._writableState.errorEmitted || n.nextTick(r, this, t), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(t || null, (function (t) { !e && t ? (n.nextTick(r, i, t), i._writableState && (i._writableState.errorEmitted = !0)) : e && e(t) })), this) }, undestroy: function () { this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1) } } }, "479a": function (t, e, i) { "use strict"; e.names = Object.freeze({ identity: 0, sha1: 17, "sha2-256": 18, "sha2-512": 19, "dbl-sha2-256": 86, "sha3-224": 23, "sha3-256": 22, "sha3-384": 21, "sha3-512": 20, "shake-128": 24, "shake-256": 25, "keccak-224": 26, "keccak-256": 27, "keccak-384": 28, "keccak-512": 29, "murmur3-128": 34, "murmur3-32": 35, md4: 212, md5: 213, "blake2b-8": 45569, "blake2b-16": 45570, "blake2b-24": 45571, "blake2b-32": 45572, "blake2b-40": 45573, "blake2b-48": 45574, "blake2b-56": 45575, "blake2b-64": 45576, "blake2b-72": 45577, "blake2b-80": 45578, "blake2b-88": 45579, "blake2b-96": 45580, "blake2b-104": 45581, "blake2b-112": 45582, "blake2b-120": 45583, "blake2b-128": 45584, "blake2b-136": 45585, "blake2b-144": 45586, "blake2b-152": 45587, "blake2b-160": 45588, "blake2b-168": 45589, "blake2b-176": 45590, "blake2b-184": 45591, "blake2b-192": 45592, "blake2b-200": 45593, "blake2b-208": 45594, "blake2b-216": 45595, "blake2b-224": 45596, "blake2b-232": 45597, "blake2b-240": 45598, "blake2b-248": 45599, "blake2b-256": 45600, "blake2b-264": 45601, "blake2b-272": 45602, "blake2b-280": 45603, "blake2b-288": 45604, "blake2b-296": 45605, "blake2b-304": 45606, "blake2b-312": 45607, "blake2b-320": 45608, "blake2b-328": 45609, "blake2b-336": 45610, "blake2b-344": 45611, "blake2b-352": 45612, "blake2b-360": 45613, "blake2b-368": 45614, "blake2b-376": 45615, "blake2b-384": 45616, "blake2b-392": 45617, "blake2b-400": 45618, "blake2b-408": 45619, "blake2b-416": 45620, "blake2b-424": 45621, "blake2b-432": 45622, "blake2b-440": 45623, "blake2b-448": 45624, "blake2b-456": 45625, "blake2b-464": 45626, "blake2b-472": 45627, "blake2b-480": 45628, "blake2b-488": 45629, "blake2b-496": 45630, "blake2b-504": 45631, "blake2b-512": 45632, "blake2s-8": 45633, "blake2s-16": 45634, "blake2s-24": 45635, "blake2s-32": 45636, "blake2s-40": 45637, "blake2s-48": 45638, "blake2s-56": 45639, "blake2s-64": 45640, "blake2s-72": 45641, "blake2s-80": 45642, "blake2s-88": 45643, "blake2s-96": 45644, "blake2s-104": 45645, "blake2s-112": 45646, "blake2s-120": 45647, "blake2s-128": 45648, "blake2s-136": 45649, "blake2s-144": 45650, "blake2s-152": 45651, "blake2s-160": 45652, "blake2s-168": 45653, "blake2s-176": 45654, "blake2s-184": 45655, "blake2s-192": 45656, "blake2s-200": 45657, "blake2s-208": 45658, "blake2s-216": 45659, "blake2s-224": 45660, "blake2s-232": 45661, "blake2s-240": 45662, "blake2s-248": 45663, "blake2s-256": 45664, "Skein256-8": 45825, "Skein256-16": 45826, "Skein256-24": 45827, "Skein256-32": 45828, "Skein256-40": 45829, "Skein256-48": 45830, "Skein256-56": 45831, "Skein256-64": 45832, "Skein256-72": 45833, "Skein256-80": 45834, "Skein256-88": 45835, "Skein256-96": 45836, "Skein256-104": 45837, "Skein256-112": 45838, "Skein256-120": 45839, "Skein256-128": 45840, "Skein256-136": 45841, "Skein256-144": 45842, "Skein256-152": 45843, "Skein256-160": 45844, "Skein256-168": 45845, "Skein256-176": 45846, "Skein256-184": 45847, "Skein256-192": 45848, "Skein256-200": 45849, "Skein256-208": 45850, "Skein256-216": 45851, "Skein256-224": 45852, "Skein256-232": 45853, "Skein256-240": 45854, "Skein256-248": 45855, "Skein256-256": 45856, "Skein512-8": 45857, "Skein512-16": 45858, "Skein512-24": 45859, "Skein512-32": 45860, "Skein512-40": 45861, "Skein512-48": 45862, "Skein512-56": 45863, "Skein512-64": 45864, "Skein512-72": 45865, "Skein512-80": 45866, "Skein512-88": 45867, "Skein512-96": 45868, "Skein512-104": 45869, "Skein512-112": 45870, "Skein512-120": 45871, "Skein512-128": 45872, "Skein512-136": 45873, "Skein512-144": 45874, "Skein512-152": 45875, "Skein512-160": 45876, "Skein512-168": 45877, "Skein512-176": 45878, "Skein512-184": 45879, "Skein512-192": 45880, "Skein512-200": 45881, "Skein512-208": 45882, "Skein512-216": 45883, "Skein512-224": 45884, "Skein512-232": 45885, "Skein512-240": 45886, "Skein512-248": 45887, "Skein512-256": 45888, "Skein512-264": 45889, "Skein512-272": 45890, "Skein512-280": 45891, "Skein512-288": 45892, "Skein512-296": 45893, "Skein512-304": 45894, "Skein512-312": 45895, "Skein512-320": 45896, "Skein512-328": 45897, "Skein512-336": 45898, "Skein512-344": 45899, "Skein512-352": 45900, "Skein512-360": 45901, "Skein512-368": 45902, "Skein512-376": 45903, "Skein512-384": 45904, "Skein512-392": 45905, "Skein512-400": 45906, "Skein512-408": 45907, "Skein512-416": 45908, "Skein512-424": 45909, "Skein512-432": 45910, "Skein512-440": 45911, "Skein512-448": 45912, "Skein512-456": 45913, "Skein512-464": 45914, "Skein512-472": 45915, "Skein512-480": 45916, "Skein512-488": 45917, "Skein512-496": 45918, "Skein512-504": 45919, "Skein512-512": 45920, "Skein1024-8": 45921, "Skein1024-16": 45922, "Skein1024-24": 45923, "Skein1024-32": 45924, "Skein1024-40": 45925, "Skein1024-48": 45926, "Skein1024-56": 45927, "Skein1024-64": 45928, "Skein1024-72": 45929, "Skein1024-80": 45930, "Skein1024-88": 45931, "Skein1024-96": 45932, "Skein1024-104": 45933, "Skein1024-112": 45934, "Skein1024-120": 45935, "Skein1024-128": 45936, "Skein1024-136": 45937, "Skein1024-144": 45938, "Skein1024-152": 45939, "Skein1024-160": 45940, "Skein1024-168": 45941, "Skein1024-176": 45942, "Skein1024-184": 45943, "Skein1024-192": 45944, "Skein1024-200": 45945, "Skein1024-208": 45946, "Skein1024-216": 45947, "Skein1024-224": 45948, "Skein1024-232": 45949, "Skein1024-240": 45950, "Skein1024-248": 45951, "Skein1024-256": 45952, "Skein1024-264": 45953, "Skein1024-272": 45954, "Skein1024-280": 45955, "Skein1024-288": 45956, "Skein1024-296": 45957, "Skein1024-304": 45958, "Skein1024-312": 45959, "Skein1024-320": 45960, "Skein1024-328": 45961, "Skein1024-336": 45962, "Skein1024-344": 45963, "Skein1024-352": 45964, "Skein1024-360": 45965, "Skein1024-368": 45966, "Skein1024-376": 45967, "Skein1024-384": 45968, "Skein1024-392": 45969, "Skein1024-400": 45970, "Skein1024-408": 45971, "Skein1024-416": 45972, "Skein1024-424": 45973, "Skein1024-432": 45974, "Skein1024-440": 45975, "Skein1024-448": 45976, "Skein1024-456": 45977, "Skein1024-464": 45978, "Skein1024-472": 45979, "Skein1024-480": 45980, "Skein1024-488": 45981, "Skein1024-496": 45982, "Skein1024-504": 45983, "Skein1024-512": 45984, "Skein1024-520": 45985, "Skein1024-528": 45986, "Skein1024-536": 45987, "Skein1024-544": 45988, "Skein1024-552": 45989, "Skein1024-560": 45990, "Skein1024-568": 45991, "Skein1024-576": 45992, "Skein1024-584": 45993, "Skein1024-592": 45994, "Skein1024-600": 45995, "Skein1024-608": 45996, "Skein1024-616": 45997, "Skein1024-624": 45998, "Skein1024-632": 45999, "Skein1024-640": 46e3, "Skein1024-648": 46001, "Skein1024-656": 46002, "Skein1024-664": 46003, "Skein1024-672": 46004, "Skein1024-680": 46005, "Skein1024-688": 46006, "Skein1024-696": 46007, "Skein1024-704": 46008, "Skein1024-712": 46009, "Skein1024-720": 46010, "Skein1024-728": 46011, "Skein1024-736": 46012, "Skein1024-744": 46013, "Skein1024-752": 46014, "Skein1024-760": 46015, "Skein1024-768": 46016, "Skein1024-776": 46017, "Skein1024-784": 46018, "Skein1024-792": 46019, "Skein1024-800": 46020, "Skein1024-808": 46021, "Skein1024-816": 46022, "Skein1024-824": 46023, "Skein1024-832": 46024, "Skein1024-840": 46025, "Skein1024-848": 46026, "Skein1024-856": 46027, "Skein1024-864": 46028, "Skein1024-872": 46029, "Skein1024-880": 46030, "Skein1024-888": 46031, "Skein1024-896": 46032, "Skein1024-904": 46033, "Skein1024-912": 46034, "Skein1024-920": 46035, "Skein1024-928": 46036, "Skein1024-936": 46037, "Skein1024-944": 46038, "Skein1024-952": 46039, "Skein1024-960": 46040, "Skein1024-968": 46041, "Skein1024-976": 46042, "Skein1024-984": 46043, "Skein1024-992": 46044, "Skein1024-1000": 46045, "Skein1024-1008": 46046, "Skein1024-1016": 46047, "Skein1024-1024": 46048 }), e.codes = Object.freeze({ 0: "identity", 17: "sha1", 18: "sha2-256", 19: "sha2-512", 86: "dbl-sha2-256", 23: "sha3-224", 22: "sha3-256", 21: "sha3-384", 20: "sha3-512", 24: "shake-128", 25: "shake-256", 26: "keccak-224", 27: "keccak-256", 28: "keccak-384", 29: "keccak-512", 34: "murmur3-128", 35: "murmur3-32", 212: "md4", 213: "md5", 45569: "blake2b-8", 45570: "blake2b-16", 45571: "blake2b-24", 45572: "blake2b-32", 45573: "blake2b-40", 45574: "blake2b-48", 45575: "blake2b-56", 45576: "blake2b-64", 45577: "blake2b-72", 45578: "blake2b-80", 45579: "blake2b-88", 45580: "blake2b-96", 45581: "blake2b-104", 45582: "blake2b-112", 45583: "blake2b-120", 45584: "blake2b-128", 45585: "blake2b-136", 45586: "blake2b-144", 45587: "blake2b-152", 45588: "blake2b-160", 45589: "blake2b-168", 45590: "blake2b-176", 45591: "blake2b-184", 45592: "blake2b-192", 45593: "blake2b-200", 45594: "blake2b-208", 45595: "blake2b-216", 45596: "blake2b-224", 45597: "blake2b-232", 45598: "blake2b-240", 45599: "blake2b-248", 45600: "blake2b-256", 45601: "blake2b-264", 45602: "blake2b-272", 45603: "blake2b-280", 45604: "blake2b-288", 45605: "blake2b-296", 45606: "blake2b-304", 45607: "blake2b-312", 45608: "blake2b-320", 45609: "blake2b-328", 45610: "blake2b-336", 45611: "blake2b-344", 45612: "blake2b-352", 45613: "blake2b-360", 45614: "blake2b-368", 45615: "blake2b-376", 45616: "blake2b-384", 45617: "blake2b-392", 45618: "blake2b-400", 45619: "blake2b-408", 45620: "blake2b-416", 45621: "blake2b-424", 45622: "blake2b-432", 45623: "blake2b-440", 45624: "blake2b-448", 45625: "blake2b-456", 45626: "blake2b-464", 45627: "blake2b-472", 45628: "blake2b-480", 45629: "blake2b-488", 45630: "blake2b-496", 45631: "blake2b-504", 45632: "blake2b-512", 45633: "blake2s-8", 45634: "blake2s-16", 45635: "blake2s-24", 45636: "blake2s-32", 45637: "blake2s-40", 45638: "blake2s-48", 45639: "blake2s-56", 45640: "blake2s-64", 45641: "blake2s-72", 45642: "blake2s-80", 45643: "blake2s-88", 45644: "blake2s-96", 45645: "blake2s-104", 45646: "blake2s-112", 45647: "blake2s-120", 45648: "blake2s-128", 45649: "blake2s-136", 45650: "blake2s-144", 45651: "blake2s-152", 45652: "blake2s-160", 45653: "blake2s-168", 45654: "blake2s-176", 45655: "blake2s-184", 45656: "blake2s-192", 45657: "blake2s-200", 45658: "blake2s-208", 45659: "blake2s-216", 45660: "blake2s-224", 45661: "blake2s-232", 45662: "blake2s-240", 45663: "blake2s-248", 45664: "blake2s-256", 45825: "Skein256-8", 45826: "Skein256-16", 45827: "Skein256-24", 45828: "Skein256-32", 45829: "Skein256-40", 45830: "Skein256-48", 45831: "Skein256-56", 45832: "Skein256-64", 45833: "Skein256-72", 45834: "Skein256-80", 45835: "Skein256-88", 45836: "Skein256-96", 45837: "Skein256-104", 45838: "Skein256-112", 45839: "Skein256-120", 45840: "Skein256-128", 45841: "Skein256-136", 45842: "Skein256-144", 45843: "Skein256-152", 45844: "Skein256-160", 45845: "Skein256-168", 45846: "Skein256-176", 45847: "Skein256-184", 45848: "Skein256-192", 45849: "Skein256-200", 45850: "Skein256-208", 45851: "Skein256-216", 45852: "Skein256-224", 45853: "Skein256-232", 45854: "Skein256-240", 45855: "Skein256-248", 45856: "Skein256-256", 45857: "Skein512-8", 45858: "Skein512-16", 45859: "Skein512-24", 45860: "Skein512-32", 45861: "Skein512-40", 45862: "Skein512-48", 45863: "Skein512-56", 45864: "Skein512-64", 45865: "Skein512-72", 45866: "Skein512-80", 45867: "Skein512-88", 45868: "Skein512-96", 45869: "Skein512-104", 45870: "Skein512-112", 45871: "Skein512-120", 45872: "Skein512-128", 45873: "Skein512-136", 45874: "Skein512-144", 45875: "Skein512-152", 45876: "Skein512-160", 45877: "Skein512-168", 45878: "Skein512-176", 45879: "Skein512-184", 45880: "Skein512-192", 45881: "Skein512-200", 45882: "Skein512-208", 45883: "Skein512-216", 45884: "Skein512-224", 45885: "Skein512-232", 45886: "Skein512-240", 45887: "Skein512-248", 45888: "Skein512-256", 45889: "Skein512-264", 45890: "Skein512-272", 45891: "Skein512-280", 45892: "Skein512-288", 45893: "Skein512-296", 45894: "Skein512-304", 45895: "Skein512-312", 45896: "Skein512-320", 45897: "Skein512-328", 45898: "Skein512-336", 45899: "Skein512-344", 45900: "Skein512-352", 45901: "Skein512-360", 45902: "Skein512-368", 45903: "Skein512-376", 45904: "Skein512-384", 45905: "Skein512-392", 45906: "Skein512-400", 45907: "Skein512-408", 45908: "Skein512-416", 45909: "Skein512-424", 45910: "Skein512-432", 45911: "Skein512-440", 45912: "Skein512-448", 45913: "Skein512-456", 45914: "Skein512-464", 45915: "Skein512-472", 45916: "Skein512-480", 45917: "Skein512-488", 45918: "Skein512-496", 45919: "Skein512-504", 45920: "Skein512-512", 45921: "Skein1024-8", 45922: "Skein1024-16", 45923: "Skein1024-24", 45924: "Skein1024-32", 45925: "Skein1024-40", 45926: "Skein1024-48", 45927: "Skein1024-56", 45928: "Skein1024-64", 45929: "Skein1024-72", 45930: "Skein1024-80", 45931: "Skein1024-88", 45932: "Skein1024-96", 45933: "Skein1024-104", 45934: "Skein1024-112", 45935: "Skein1024-120", 45936: "Skein1024-128", 45937: "Skein1024-136", 45938: "Skein1024-144", 45939: "Skein1024-152", 45940: "Skein1024-160", 45941: "Skein1024-168", 45942: "Skein1024-176", 45943: "Skein1024-184", 45944: "Skein1024-192", 45945: "Skein1024-200", 45946: "Skein1024-208", 45947: "Skein1024-216", 45948: "Skein1024-224", 45949: "Skein1024-232", 45950: "Skein1024-240", 45951: "Skein1024-248", 45952: "Skein1024-256", 45953: "Skein1024-264", 45954: "Skein1024-272", 45955: "Skein1024-280", 45956: "Skein1024-288", 45957: "Skein1024-296", 45958: "Skein1024-304", 45959: "Skein1024-312", 45960: "Skein1024-320", 45961: "Skein1024-328", 45962: "Skein1024-336", 45963: "Skein1024-344", 45964: "Skein1024-352", 45965: "Skein1024-360", 45966: "Skein1024-368", 45967: "Skein1024-376", 45968: "Skein1024-384", 45969: "Skein1024-392", 45970: "Skein1024-400", 45971: "Skein1024-408", 45972: "Skein1024-416", 45973: "Skein1024-424", 45974: "Skein1024-432", 45975: "Skein1024-440", 45976: "Skein1024-448", 45977: "Skein1024-456", 45978: "Skein1024-464", 45979: "Skein1024-472", 45980: "Skein1024-480", 45981: "Skein1024-488", 45982: "Skein1024-496", 45983: "Skein1024-504", 45984: "Skein1024-512", 45985: "Skein1024-520", 45986: "Skein1024-528", 45987: "Skein1024-536", 45988: "Skein1024-544", 45989: "Skein1024-552", 45990: "Skein1024-560", 45991: "Skein1024-568", 45992: "Skein1024-576", 45993: "Skein1024-584", 45994: "Skein1024-592", 45995: "Skein1024-600", 45996: "Skein1024-608", 45997: "Skein1024-616", 45998: "Skein1024-624", 45999: "Skein1024-632", 46e3: "Skein1024-640", 46001: "Skein1024-648", 46002: "Skein1024-656", 46003: "Skein1024-664", 46004: "Skein1024-672", 46005: "Skein1024-680", 46006: "Skein1024-688", 46007: "Skein1024-696", 46008: "Skein1024-704", 46009: "Skein1024-712", 46010: "Skein1024-720", 46011: "Skein1024-728", 46012: "Skein1024-736", 46013: "Skein1024-744", 46014: "Skein1024-752", 46015: "Skein1024-760", 46016: "Skein1024-768", 46017: "Skein1024-776", 46018: "Skein1024-784", 46019: "Skein1024-792", 46020: "Skein1024-800", 46021: "Skein1024-808", 46022: "Skein1024-816", 46023: "Skein1024-824", 46024: "Skein1024-832", 46025: "Skein1024-840", 46026: "Skein1024-848", 46027: "Skein1024-856", 46028: "Skein1024-864", 46029: "Skein1024-872", 46030: "Skein1024-880", 46031: "Skein1024-888", 46032: "Skein1024-896", 46033: "Skein1024-904", 46034: "Skein1024-912", 46035: "Skein1024-920", 46036: "Skein1024-928", 46037: "Skein1024-936", 46038: "Skein1024-944", 46039: "Skein1024-952", 46040: "Skein1024-960", 46041: "Skein1024-968", 46042: "Skein1024-976", 46043: "Skein1024-984", 46044: "Skein1024-992", 46045: "Skein1024-1000", 46046: "Skein1024-1008", 46047: "Skein1024-1016", 46048: "Skein1024-1024" }), e.defaultLengths = Object.freeze({ 17: 20, 18: 32, 19: 64, 86: 32, 23: 28, 22: 32, 21: 48, 20: 64, 24: 32, 25: 64, 26: 28, 27: 32, 28: 48, 29: 64, 34: 32, 45569: 1, 45570: 2, 45571: 3, 45572: 4, 45573: 5, 45574: 6, 45575: 7, 45576: 8, 45577: 9, 45578: 10, 45579: 11, 45580: 12, 45581: 13, 45582: 14, 45583: 15, 45584: 16, 45585: 17, 45586: 18, 45587: 19, 45588: 20, 45589: 21, 45590: 22, 45591: 23, 45592: 24, 45593: 25, 45594: 26, 45595: 27, 45596: 28, 45597: 29, 45598: 30, 45599: 31, 45600: 32, 45601: 33, 45602: 34, 45603: 35, 45604: 36, 45605: 37, 45606: 38, 45607: 39, 45608: 40, 45609: 41, 45610: 42, 45611: 43, 45612: 44, 45613: 45, 45614: 46, 45615: 47, 45616: 48, 45617: 49, 45618: 50, 45619: 51, 45620: 52, 45621: 53, 45622: 54, 45623: 55, 45624: 56, 45625: 57, 45626: 58, 45627: 59, 45628: 60, 45629: 61, 45630: 62, 45631: 63, 45632: 64, 45633: 1, 45634: 2, 45635: 3, 45636: 4, 45637: 5, 45638: 6, 45639: 7, 45640: 8, 45641: 9, 45642: 10, 45643: 11, 45644: 12, 45645: 13, 45646: 14, 45647: 15, 45648: 16, 45649: 17, 45650: 18, 45651: 19, 45652: 20, 45653: 21, 45654: 22, 45655: 23, 45656: 24, 45657: 25, 45658: 26, 45659: 27, 45660: 28, 45661: 29, 45662: 30, 45663: 31, 45664: 32, 45825: 1, 45826: 2, 45827: 3, 45828: 4, 45829: 5, 45830: 6, 45831: 7, 45832: 8, 45833: 9, 45834: 10, 45835: 11, 45836: 12, 45837: 13, 45838: 14, 45839: 15, 45840: 16, 45841: 17, 45842: 18, 45843: 19, 45844: 20, 45845: 21, 45846: 22, 45847: 23, 45848: 24, 45849: 25, 45850: 26, 45851: 27, 45852: 28, 45853: 29, 45854: 30, 45855: 31, 45856: 32, 45857: 1, 45858: 2, 45859: 3, 45860: 4, 45861: 5, 45862: 6, 45863: 7, 45864: 8, 45865: 9, 45866: 10, 45867: 11, 45868: 12, 45869: 13, 45870: 14, 45871: 15, 45872: 16, 45873: 17, 45874: 18, 45875: 19, 45876: 20, 45877: 21, 45878: 22, 45879: 23, 45880: 24, 45881: 25, 45882: 26, 45883: 27, 45884: 28, 45885: 29, 45886: 30, 45887: 31, 45888: 32, 45889: 33, 45890: 34, 45891: 35, 45892: 36, 45893: 37, 45894: 38, 45895: 39, 45896: 40, 45897: 41, 45898: 42, 45899: 43, 45900: 44, 45901: 45, 45902: 46, 45903: 47, 45904: 48, 45905: 49, 45906: 50, 45907: 51, 45908: 52, 45909: 53, 45910: 54, 45911: 55, 45912: 56, 45913: 57, 45914: 58, 45915: 59, 45916: 60, 45917: 61, 45918: 62, 45919: 63, 45920: 64, 45921: 1, 45922: 2, 45923: 3, 45924: 4, 45925: 5, 45926: 6, 45927: 7, 45928: 8, 45929: 9, 45930: 10, 45931: 11, 45932: 12, 45933: 13, 45934: 14, 45935: 15, 45936: 16, 45937: 17, 45938: 18, 45939: 19, 45940: 20, 45941: 21, 45942: 22, 45943: 23, 45944: 24, 45945: 25, 45946: 26, 45947: 27, 45948: 28, 45949: 29, 45950: 30, 45951: 31, 45952: 32, 45953: 33, 45954: 34, 45955: 35, 45956: 36, 45957: 37, 45958: 38, 45959: 39, 45960: 40, 45961: 41, 45962: 42, 45963: 43, 45964: 44, 45965: 45, 45966: 46, 45967: 47, 45968: 48, 45969: 49, 45970: 50, 45971: 51, 45972: 52, 45973: 53, 45974: 54, 45975: 55, 45976: 56, 45977: 57, 45978: 58, 45979: 59, 45980: 60, 45981: 61, 45982: 62, 45983: 63, 45984: 64, 45985: 65, 45986: 66, 45987: 67, 45988: 68, 45989: 69, 45990: 70, 45991: 71, 45992: 72, 45993: 73, 45994: 74, 45995: 75, 45996: 76, 45997: 77, 45998: 78, 45999: 79, 46e3: 80, 46001: 81, 46002: 82, 46003: 83, 46004: 84, 46005: 85, 46006: 86, 46007: 87, 46008: 88, 46009: 89, 46010: 90, 46011: 91, 46012: 92, 46013: 93, 46014: 94, 46015: 95, 46016: 96, 46017: 97, 46018: 98, 46019: 99, 46020: 100, 46021: 101, 46022: 102, 46023: 103, 46024: 104, 46025: 105, 46026: 106, 46027: 107, 46028: 108, 46029: 109, 46030: 110, 46031: 111, 46032: 112, 46033: 113, 46034: 114, 46035: 115, 46036: 116, 46037: 117, 46038: 118, 46039: 119, 46040: 120, 46041: 121, 46042: 122, 46043: 123, 46044: 124, 46045: 125, 46046: 126, 46047: 127, 46048: 128 }) }, "4d28": function (t, e, i) { "use strict"; var n = i("9054").codes.ERR_INVALID_OPT_VALUE; t.exports = { getHighWaterMark: function (t, e, i, r) { var a = function (t, e, i) { return null != t.highWaterMark ? t.highWaterMark : e ? t[i] : null }(e, r, i); if (null != a) { if (!isFinite(a) || Math.floor(a) !== a || a < 0) throw new n(r ? i : "highWaterMark", a); return Math.floor(a) } return t.objectMode ? 16 : 16384 } } }, "4dd0": function (t, e, i) { var n = /Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m, r = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m, a = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m, o = i("ae84"), s = i("fda6"), h = i("8707").Buffer; t.exports = function (t, e) { var i, u = t.toString(), l = u.match(n); if (l) { var c = "aes" + l[1], f = h.from(l[2], "hex"), d = h.from(l[3].replace(/[\r\n]/g, ""), "base64"), p = o(e, f.slice(0, 8), parseInt(l[1], 10)).key, m = [], v = s.createDecipheriv(c, p, f); m.push(v.update(d)), m.push(v.final()), i = h.concat(m) } else { var y = u.match(a); i = h.from(y[2].replace(/[\r\n]/g, ""), "base64") } return { tag: u.match(r)[1], data: i } } }, "4fd1": function (t, e, i) { var n = i("3fb5"), r = i("b672"), a = i("8707").Buffer, o = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591], s = new Array(160); function h() { this.init(), this._w = s, r.call(this, 128, 112) } function u(t, e, i) { return i ^ t & (e ^ i) } function l(t, e, i) { return t & e | i & (t | e) } function c(t, e) { return (t >>> 28 | e << 4) ^ (e >>> 2 | t << 30) ^ (e >>> 7 | t << 25) } function f(t, e) { return (t >>> 14 | e << 18) ^ (t >>> 18 | e << 14) ^ (e >>> 9 | t << 23) } function d(t, e) { return (t >>> 1 | e << 31) ^ (t >>> 8 | e << 24) ^ t >>> 7 } function p(t, e) { return (t >>> 1 | e << 31) ^ (t >>> 8 | e << 24) ^ (t >>> 7 | e << 25) } function m(t, e) { return (t >>> 19 | e << 13) ^ (e >>> 29 | t << 3) ^ t >>> 6 } function v(t, e) { return (t >>> 19 | e << 13) ^ (e >>> 29 | t << 3) ^ (t >>> 6 | e << 26) } function y(t, e) { return t >>> 0 < e >>> 0 ? 1 : 0 } n(h, r), h.prototype.init = function () { return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this }, h.prototype._update = function (t) { for (var e = this._w, i = 0 | this._ah, n = 0 | this._bh, r = 0 | this._ch, a = 0 | this._dh, s = 0 | this._eh, h = 0 | this._fh, g = 0 | this._gh, b = 0 | this._hh, _ = 0 | this._al, w = 0 | this._bl, k = 0 | this._cl, M = 0 | this._dl, x = 0 | this._el, S = 0 | this._fl, E = 0 | this._gl, D = 0 | this._hl, A = 0; A < 32; A += 2)e[A] = t.readInt32BE(4 * A), e[A + 1] = t.readInt32BE(4 * A + 4); for (; A < 160; A += 2) { var T = e[A - 30], C = e[A - 30 + 1], P = d(T, C), I = p(C, T), O = m(T = e[A - 4], C = e[A - 4 + 1]), R = v(C, T), L = e[A - 14], j = e[A - 14 + 1], B = e[A - 32], z = e[A - 32 + 1], N = I + j | 0, F = P + L + y(N, I) | 0; F = (F = F + O + y(N = N + R | 0, R) | 0) + B + y(N = N + z | 0, z) | 0, e[A] = F, e[A + 1] = N } for (var q = 0; q < 160; q += 2) { F = e[q], N = e[q + 1]; var H = l(i, n, r), V = l(_, w, k), U = c(i, _), W = c(_, i), Y = f(s, x), K = f(x, s), Z = o[q], X = o[q + 1], G = u(s, h, g), J = u(x, S, E), $ = D + K | 0, Q = b + Y + y($, D) | 0; Q = (Q = (Q = Q + G + y($ = $ + J | 0, J) | 0) + Z + y($ = $ + X | 0, X) | 0) + F + y($ = $ + N | 0, N) | 0; var tt = W + V | 0, et = U + H + y(tt, W) | 0; b = g, D = E, g = h, E = S, h = s, S = x, s = a + Q + y(x = M + $ | 0, M) | 0, a = r, M = k, r = n, k = w, n = i, w = _, i = Q + et + y(_ = $ + tt | 0, $) | 0 } this._al = this._al + _ | 0, this._bl = this._bl + w | 0, this._cl = this._cl + k | 0, this._dl = this._dl + M | 0, this._el = this._el + x | 0, this._fl = this._fl + S | 0, this._gl = this._gl + E | 0, this._hl = this._hl + D | 0, this._ah = this._ah + i + y(this._al, _) | 0, this._bh = this._bh + n + y(this._bl, w) | 0, this._ch = this._ch + r + y(this._cl, k) | 0, this._dh = this._dh + a + y(this._dl, M) | 0, this._eh = this._eh + s + y(this._el, x) | 0, this._fh = this._fh + h + y(this._fl, S) | 0, this._gh = this._gh + g + y(this._gl, E) | 0, this._hh = this._hh + b + y(this._hl, D) | 0 }, h.prototype._hash = function () { var t = a.allocUnsafe(64); function e(e, i, n) { t.writeInt32BE(e, n), t.writeInt32BE(i, n + 4) } return e(this._ah, this._al, 0), e(this._bh, this._bl, 8), e(this._ch, this._cl, 16), e(this._dh, this._dl, 24), e(this._eh, this._el, 32), e(this._fh, this._fl, 40), e(this._gh, this._gl, 48), e(this._hh, this._hl, 56), t }, t.exports = h }, 5291: function (t, e, i) { var n = i("0106"), r = i("8707").Buffer; t.exports = function (t, e) { return r.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray()) } }, "53e2": function (t, e, i) { "use strict"; t.exports = l; var n = i("9054").codes, r = n.ERR_METHOD_NOT_IMPLEMENTED, a = n.ERR_MULTIPLE_CALLBACK, o = n.ERR_TRANSFORM_ALREADY_TRANSFORMING, s = n.ERR_TRANSFORM_WITH_LENGTH_0, h = i("88a2"); function u(t, e) { var i = this._transformState; i.transforming = !1; var n = i.writecb; if (null === n) return this.emit("error", new a); i.writechunk = null, i.writecb = null, null != e && this.push(e), n(t); var r = this._readableState; r.reading = !1, (r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark) } function l(t) { if (!(this instanceof l)) return new l(t); h.call(this, t), this._transformState = { afterTransform: u.bind(this), needTransform: !1, transforming: !1, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = !0, this._readableState.sync = !1, t && ("function" == typeof t.transform && (this._transform = t.transform), "function" == typeof t.flush && (this._flush = t.flush)), this.on("prefinish", c) } function c() { var t = this; "function" != typeof this._flush || this._readableState.destroyed ? f(this, null, null) : this._flush((function (e, i) { f(t, e, i) })) } function f(t, e, i) { if (e) return t.emit("error", e); if (null != i && t.push(i), t._writableState.length) throw new s; if (t._transformState.transforming) throw new o; return t.push(null) } i("3fb5")(l, h), l.prototype.push = function (t, e) { return this._transformState.needTransform = !1, h.prototype.push.call(this, t, e) }, l.prototype._transform = function (t, e, i) { i(new r("_transform()")) }, l.prototype._write = function (t, e, i) { var n = this._transformState; if (n.writecb = i, n.writechunk = t, n.writeencoding = e, !n.transforming) { var r = this._readableState; (n.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark) } }, l.prototype._read = function (t) { var e = this._transformState; null === e.writechunk || e.transforming ? e.needTransform = !0 : (e.transforming = !0, this._transform(e.writechunk, e.writeencoding, e.afterTransform)) }, l.prototype._destroy = function (t, e) { h.prototype._destroy.call(this, t, (function (t) { e(t) })) } }, "56b5": function (t, e, i) { "use strict"; var n = i("7f7a"), r = n.define("Time", (function () { this.choice({ utcTime: this.utctime(), generalTime: this.gentime() }) })), a = n.define("AttributeTypeValue", (function () { this.seq().obj(this.key("type").objid(), this.key("value").any()) })), o = n.define("AlgorithmIdentifier", (function () { this.seq().obj(this.key("algorithm").objid(), this.key("parameters").optional(), this.key("curve").objid().optional()) })), s = n.define("SubjectPublicKeyInfo", (function () { this.seq().obj(this.key("algorithm").use(o), this.key("subjectPublicKey").bitstr()) })), h = n.define("RelativeDistinguishedName", (function () { this.setof(a) })), u = n.define("RDNSequence", (function () { this.seqof(h) })), l = n.define("Name", (function () { this.choice({ rdnSequence: this.use(u) }) })), c = n.define("Validity", (function () { this.seq().obj(this.key("notBefore").use(r), this.key("notAfter").use(r)) })), f = n.define("Extension", (function () { this.seq().obj(this.key("extnID").objid(), this.key("critical").bool().def(!1), this.key("extnValue").octstr()) })), d = n.define("TBSCertificate", (function () { this.seq().obj(this.key("version").explicit(0).int().optional(), this.key("serialNumber").int(), this.key("signature").use(o), this.key("issuer").use(l), this.key("validity").use(c), this.key("subject").use(l), this.key("subjectPublicKeyInfo").use(s), this.key("issuerUniqueID").implicit(1).bitstr().optional(), this.key("subjectUniqueID").implicit(2).bitstr().optional(), this.key("extensions").explicit(3).seqof(f).optional()) })), p = n.define("X509Certificate", (function () { this.seq().obj(this.key("tbsCertificate").use(d), this.key("signatureAlgorithm").use(o), this.key("signatureValue").bitstr()) })); t.exports = p }, "5ab1": function (t, e, i) { "use strict"; const n = i("cfab"), r = new Map; for (const t in n) { const e = n[t]; r.set(e, t) } t.exports = Object.freeze(r) }, "5d98": function (t, e, i) { "use strict"; (function (n) { const r = i("2612"), a = i("5ab1"), o = i("cc3c"), s = i("1c13"); (e = t.exports).addPrefix = (t, e) => { let i; if (n.isBuffer(t)) i = s.varintBufferEncode(t); else { if (!o[t]) throw new Error("multicodec not recognized"); i = o[t] } return n.concat([i, e]) }, e.rmPrefix = t => (r.decode(t), t.slice(r.decode.bytes)), e.getCodec = t => { const e = r.decode(t), i = a.get(e); if (void 0 === i) throw new Error(`Code ${e} not found`); return i }, e.getName = t => a.get(t), e.getNumber = t => { const e = o[t]; if (void 0 === e) throw new Error("Codec `" + t + "` not found"); return s.varintBufferDecode(e)[0] }, e.getCode = t => r.decode(t), e.getCodeVarint = t => { const e = o[t]; if (void 0 === e) throw new Error("Codec `" + t + "` not found"); return e }, e.getVarint = t => r.encode(t); const h = i("8111"); Object.assign(e, h), e.print = i("17b2") }).call(this, i("b639").Buffer) }, "5e1a": function (t, e, i) { "use strict"; var n = i("8707").Buffer, r = i(10); t.exports = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.head = null, this.tail = null, this.length = 0 } return t.prototype.push = function (t) { var e = { data: t, next: null }; this.length > 0 ? this.tail.next = e : this.head = e, this.tail = e, ++this.length }, t.prototype.unshift = function (t) { var e = { data: t, next: this.head }; 0 === this.length && (this.tail = e), this.head = e, ++this.length }, t.prototype.shift = function () { if (0 !== this.length) { var t = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, t } }, t.prototype.clear = function () { this.head = this.tail = null, this.length = 0 }, t.prototype.join = function (t) { if (0 === this.length) return ""; for (var e = this.head, i = "" + e.data; e = e.next;)i += t + e.data; return i }, t.prototype.concat = function (t) { if (0 === this.length) return n.alloc(0); if (1 === this.length) return this.head.data; for (var e, i, r, a = n.allocUnsafe(t >>> 0), o = this.head, s = 0; o;)e = o.data, i = a, r = s, e.copy(i, r), s += o.data.length, o = o.next; return a }, t }(), r && r.inspect && r.inspect.custom && (t.exports.prototype[r.inspect.custom] = function () { var t = r.inspect({ length: this.length }); return this.constructor.name + " " + t }) }, "602c": function (t, e, i) { "use strict"; (function (e) { var n; function r(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } var a = i("65ab"), o = Symbol("lastResolve"), s = Symbol("lastReject"), h = Symbol("error"), u = Symbol("ended"), l = Symbol("lastPromise"), c = Symbol("handlePromise"), f = Symbol("stream"); function d(t, e) { return { value: t, done: e } } function p(t) { var e = t[o]; if (null !== e) { var i = t[f].read(); null !== i && (t[l] = null, t[o] = null, t[s] = null, e(d(i, !1))) } } function m(t) { e.nextTick(p, t) } var v = Object.getPrototypeOf((function () { })), y = Object.setPrototypeOf((r(n = { get stream() { return this[f] }, next: function () { var t = this, i = this[h]; if (null !== i) return Promise.reject(i); if (this[u]) return Promise.resolve(d(void 0, !0)); if (this[f].destroyed) return new Promise((function (i, n) { e.nextTick((function () { t[h] ? n(t[h]) : i(d(void 0, !0)) })) })); var n, r = this[l]; if (r) n = new Promise(function (t, e) { return function (i, n) { t.then((function () { e[u] ? i(d(void 0, !0)) : e[c](i, n) }), n) } }(r, this)); else { var a = this[f].read(); if (null !== a) return Promise.resolve(d(a, !1)); n = new Promise(this[c]) } return this[l] = n, n } }, Symbol.asyncIterator, (function () { return this })), r(n, "return", (function () { var t = this; return new Promise((function (e, i) { t[f].destroy(null, (function (t) { t ? i(t) : e(d(void 0, !0)) })) })) })), n), v); t.exports = function (t) { var e, i = Object.create(y, (r(e = {}, f, { value: t, writable: !0 }), r(e, o, { value: null, writable: !0 }), r(e, s, { value: null, writable: !0 }), r(e, h, { value: null, writable: !0 }), r(e, u, { value: t._readableState.endEmitted, writable: !0 }), r(e, c, { value: function (t, e) { var n = i[f].read(); n ? (i[l] = null, i[o] = null, i[s] = null, t(d(n, !1))) : (i[o] = t, i[s] = e) }, writable: !0 }), e)); return i[l] = null, a(t, (function (t) { if (t && "ERR_STREAM_PREMATURE_CLOSE" !== t.code) { var e = i[s]; return null !== e && (i[l] = null, i[o] = null, i[s] = null, e(t)), void (i[h] = t) } var n = i[o]; null !== n && (i[l] = null, i[o] = null, i[s] = null, n(d(void 0, !0))), i[u] = !0 })), t.on("readable", m.bind(null, i)), i } }).call(this, i("4362")) }, "615a": function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"); t.exports = function (t) { return { encode: t => "string" == typeof t ? n.from(t).toString("hex") : t.toString("hex"), decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base16 character"); return n.from(e, "hex") } } } }, "61e0": function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"), r = i("3ae1"); function a(t, e) { if (!e) throw new Error("requires an encoded buffer"); const i = o(t), r = n.from(i.code); return function (t, e) { o(t).decode(e.toString()) }(i.name, e), n.concat([r, e]) } function o(t) { let e; if (r.names[t]) e = r.names[t]; else { if (!r.codes[t]) throw new Error("Unsupported encoding"); e = r.codes[t] } if (!e.isImplemented()) throw new Error("Base " + t + " is not implemented yet"); return e } (e = t.exports = a).encode = function (t, e) { const i = o(t); return a(i.name, n.from(i.encode(e))) }, e.decode = function (t) { n.isBuffer(t) && (t = t.toString()); const e = t.substring(0, 1); "string" == typeof (t = t.substring(1, t.length)) && (t = n.from(t)); const i = o(e); return n.from(i.decode(t.toString())) }, e.isEncoded = function (t) { n.isBuffer(t) && (t = t.toString()); if ("[object String]" !== Object.prototype.toString.call(t)) return !1; const e = t.substring(0, 1); try { return o(e).name } catch (t) { return !1 } }, e.names = Object.freeze(Object.keys(r.names)), e.codes = Object.freeze(Object.keys(r.codes)) }, 6442: function (t, e, i) { e.publicEncrypt = i("ad25"), e.privateDecrypt = i("0f2c"), e.privateEncrypt = function (t, i) { return e.publicEncrypt(t, i, !0) }, e.publicDecrypt = function (t, i) { return e.privateDecrypt(t, i, !0) } }, 6444: function (t, e) { var i = function (t) { return t.replace(/^\s+|\s+$/g, "") }; t.exports = function (t) { if (!t) return {}; for (var e, n = {}, r = i(t).split("\n"), a = 0; a < r.length; a++) { var o = r[a], s = o.indexOf(":"), h = i(o.slice(0, s)).toLowerCase(), u = i(o.slice(s + 1)); void 0 === n[h] ? n[h] = u : (e = n[h], "[object Array]" === Object.prototype.toString.call(e) ? n[h].push(u) : n[h] = [n[h], u]) } return n } }, 6453: function (t, e, i) { "use strict"; t.exports = function (t) { return encodeURIComponent(t).replace(/[!'()*]/g, (function (t) { return "%" + t.charCodeAt(0).toString(16).toUpperCase() })) } }, "65ab": function (t, e, i) { "use strict"; var n = i("9054").codes.ERR_STREAM_PREMATURE_CLOSE; function r() { } t.exports = function t(e, i, a) { if ("function" == typeof i) return t(e, null, i); i || (i = {}), a = function (t) { var e = !1; return function () { if (!e) { e = !0; for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++)n[r] = arguments[r]; t.apply(this, n) } } }(a || r); var o = i.readable || !1 !== i.readable && e.readable, s = i.writable || !1 !== i.writable && e.writable, h = function () { e.writable || l() }, u = e._writableState && e._writableState.finished, l = function () { s = !1, u = !0, o || a.call(e) }, c = e._readableState && e._readableState.endEmitted, f = function () { o = !1, c = !0, s || a.call(e) }, d = function (t) { a.call(e, t) }, p = function () { var t; return o && !c ? (e._readableState && e._readableState.ended || (t = new n), a.call(e, t)) : s && !u ? (e._writableState && e._writableState.ended || (t = new n), a.call(e, t)) : void 0 }, m = function () { e.req.on("finish", l) }; return !function (t) { return t.setHeader && "function" == typeof t.abort }(e) ? s && !e._writableState && (e.on("end", h), e.on("close", h)) : (e.on("complete", l), e.on("abort", p), e.req ? m() : e.on("request", m)), e.on("end", f), e.on("finish", l), !1 !== i.error && e.on("error", d), e.on("close", p), function () { e.removeListener("complete", l), e.removeListener("abort", p), e.removeListener("request", m), e.req && e.req.removeListener("finish", l), e.removeListener("end", h), e.removeListener("close", h), e.removeListener("finish", l), e.removeListener("end", f), e.removeListener("error", d), e.removeListener("close", p) } } }, "675c": function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"), r = i("ab3a"); (e = t.exports = o).encode = function (t, e) { const i = s(t); return o(i.name, n.from(i.encode(e))) }, e.decode = function (t) { n.isBuffer(t) && (t = t.toString()); const e = t.substring(0, 1); "string" == typeof (t = t.substring(1, t.length)) && (t = n.from(t)); const i = s(e); return n.from(i.decode(t.toString())) }, e.isEncoded = function (t) { n.isBuffer(t) && (t = t.toString()); if ("[object String]" !== Object.prototype.toString.call(t)) return !1; const e = t.substring(0, 1); try { return s(e).name } catch (t) { return !1 } }, e.names = Object.freeze(Object.keys(r.names)), e.codes = Object.freeze(Object.keys(r.codes)); const a = new Error("Unsupported encoding"); function o(t, e) { if (!e) throw new Error("requires an encoded buffer"); const i = s(t), r = n.from(i.code); return function (t, e) { s(t).decode(e.toString()) }(i.name, e), n.concat([r, e]) } function s(t) { let e; if (r.names[t]) e = r.names[t]; else { if (!r.codes[t]) throw a; e = r.codes[t] } if (!e.isImplemented()) throw new Error("Base " + t + " is not implemented yet"); return e } }, "68a0": function (t, e, i) { "use strict"; (function (e, n) { var r; t.exports = S, S.ReadableState = x; i("faa1").EventEmitter; var a = function (t, e) { return t.listeners(e).length }, o = i("027d"), s = i("b639").Buffer, h = e.Uint8Array || function () { }; var u, l = i(5); u = l && l.debuglog ? l.debuglog("stream") : function () { }; var c, f, d, p = i("b71c"), m = i("ac0c"), v = i("4d28").getHighWaterMark, y = i("9054").codes, g = y.ERR_INVALID_ARG_TYPE, b = y.ERR_STREAM_PUSH_AFTER_EOF, _ = y.ERR_METHOD_NOT_IMPLEMENTED, w = y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; i("3fb5")(S, o); var k = m.errorOrDestroy, M = ["error", "close", "destroy", "pause", "resume"]; function x(t, e, n) { r = r || i("88a2"), t = t || {}, "boolean" != typeof n && (n = e instanceof r), this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.readableObjectMode), this.highWaterMark = v(this, t, "readableHighWaterMark", n), this.buffer = new p, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (c || (c = i("7d72").StringDecoder), this.decoder = new c(t.encoding), this.encoding = t.encoding) } function S(t) { if (r = r || i("88a2"), !(this instanceof S)) return new S(t); var e = this instanceof r; this._readableState = new x(t, this, e), this.readable = !0, t && ("function" == typeof t.read && (this._read = t.read), "function" == typeof t.destroy && (this._destroy = t.destroy)), o.call(this) } function E(t, e, i, n, r) { u("readableAddChunk", e); var a, o = t._readableState; if (null === e) o.reading = !1, function (t, e) { if (u("onEofChunk"), e.ended) return; if (e.decoder) { var i = e.decoder.end(); i && i.length && (e.buffer.push(i), e.length += e.objectMode ? 1 : i.length) } e.ended = !0, e.sync ? T(t) : (e.needReadable = !1, e.emittedReadable || (e.emittedReadable = !0, C(t))) }(t, o); else if (r || (a = function (t, e) { var i; n = e, s.isBuffer(n) || n instanceof h || "string" == typeof e || void 0 === e || t.objectMode || (i = new g("chunk", ["string", "Buffer", "Uint8Array"], e)); var n; return i }(o, e)), a) k(t, a); else if (o.objectMode || e && e.length > 0) if ("string" == typeof e || o.objectMode || Object.getPrototypeOf(e) === s.prototype || (e = function (t) { return s.from(t) }(e)), n) o.endEmitted ? k(t, new w) : D(t, o, e, !0); else if (o.ended) k(t, new b); else { if (o.destroyed) return !1; o.reading = !1, o.decoder && !i ? (e = o.decoder.write(e), o.objectMode || 0 !== e.length ? D(t, o, e, !1) : P(t, o)) : D(t, o, e, !1) } else n || (o.reading = !1, P(t, o)); return !o.ended && (o.length < o.highWaterMark || 0 === o.length) } function D(t, e, i, n) { e.flowing && 0 === e.length && !e.sync ? (e.awaitDrain = 0, t.emit("data", i)) : (e.length += e.objectMode ? 1 : i.length, n ? e.buffer.unshift(i) : e.buffer.push(i), e.needReadable && T(t)), P(t, e) } Object.defineProperty(S.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._readableState && this._readableState.destroyed }, set: function (t) { this._readableState && (this._readableState.destroyed = t) } }), S.prototype.destroy = m.destroy, S.prototype._undestroy = m.undestroy, S.prototype._destroy = function (t, e) { e(t) }, S.prototype.push = function (t, e) { var i, n = this._readableState; return n.objectMode ? i = !0 : "string" == typeof t && ((e = e || n.defaultEncoding) !== n.encoding && (t = s.from(t, e), e = ""), i = !0), E(this, t, e, !1, i) }, S.prototype.unshift = function (t) { return E(this, t, null, !0, !1) }, S.prototype.isPaused = function () { return !1 === this._readableState.flowing }, S.prototype.setEncoding = function (t) { c || (c = i("7d72").StringDecoder); var e = new c(t); this._readableState.decoder = e, this._readableState.encoding = this._readableState.decoder.encoding; for (var n = this._readableState.buffer.head, r = ""; null !== n;)r += e.write(n.data), n = n.next; return this._readableState.buffer.clear(), "" !== r && this._readableState.buffer.push(r), this._readableState.length = r.length, this }; function A(t, e) { return t <= 0 || 0 === e.length && e.ended ? 0 : e.objectMode ? 1 : t != t ? e.flowing && e.length ? e.buffer.head.data.length : e.length : (t > e.highWaterMark && (e.highWaterMark = function (t) { return t >= 1073741824 ? t = 1073741824 : (t--, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, t |= t >>> 16, t++), t }(t)), t <= e.length ? t : e.ended ? e.length : (e.needReadable = !0, 0)) } function T(t) { var e = t._readableState; u("emitReadable", e.needReadable, e.emittedReadable), e.needReadable = !1, e.emittedReadable || (u("emitReadable", e.flowing), e.emittedReadable = !0, n.nextTick(C, t)) } function C(t) { var e = t._readableState; u("emitReadable_", e.destroyed, e.length, e.ended), e.destroyed || !e.length && !e.ended || (t.emit("readable"), e.emittedReadable = !1), e.needReadable = !e.flowing && !e.ended && e.length <= e.highWaterMark, j(t) } function P(t, e) { e.readingMore || (e.readingMore = !0, n.nextTick(I, t, e)) } function I(t, e) { for (; !e.reading && !e.ended && (e.length < e.highWaterMark || e.flowing && 0 === e.length);) { var i = e.length; if (u("maybeReadMore read 0"), t.read(0), i === e.length) break } e.readingMore = !1 } function O(t) { var e = t._readableState; e.readableListening = t.listenerCount("readable") > 0, e.resumeScheduled && !e.paused ? e.flowing = !0 : t.listenerCount("data") > 0 && t.resume() } function R(t) { u("readable nexttick read 0"), t.read(0) } function L(t, e) { u("resume", e.reading), e.reading || t.read(0), e.resumeScheduled = !1, t.emit("resume"), j(t), e.flowing && !e.reading && t.read(0) } function j(t) { var e = t._readableState; for (u("flow", e.flowing); e.flowing && null !== t.read();); } function B(t, e) { return 0 === e.length ? null : (e.objectMode ? i = e.buffer.shift() : !t || t >= e.length ? (i = e.decoder ? e.buffer.join("") : 1 === e.buffer.length ? e.buffer.first() : e.buffer.concat(e.length), e.buffer.clear()) : i = e.buffer.consume(t, e.decoder), i); var i } function z(t) { var e = t._readableState; u("endReadable", e.endEmitted), e.endEmitted || (e.ended = !0, n.nextTick(N, e, t)) } function N(t, e) { if (u("endReadableNT", t.endEmitted, t.length), !t.endEmitted && 0 === t.length && (t.endEmitted = !0, e.readable = !1, e.emit("end"), t.autoDestroy)) { var i = e._writableState; (!i || i.autoDestroy && i.finished) && e.destroy() } } function F(t, e) { for (var i = 0, n = t.length; i < n; i++)if (t[i] === e) return i; return -1 } S.prototype.read = function (t) { u("read", t), t = parseInt(t, 10); var e = this._readableState, i = t; if (0 !== t && (e.emittedReadable = !1), 0 === t && e.needReadable && ((0 !== e.highWaterMark ? e.length >= e.highWaterMark : e.length > 0) || e.ended)) return u("read: emitReadable", e.length, e.ended), 0 === e.length && e.ended ? z(this) : T(this), null; if (0 === (t = A(t, e)) && e.ended) return 0 === e.length && z(this), null; var n, r = e.needReadable; return u("need readable", r), (0 === e.length || e.length - t < e.highWaterMark) && u("length less than watermark", r = !0), e.ended || e.reading ? u("reading or ended", r = !1) : r && (u("do read"), e.reading = !0, e.sync = !0, 0 === e.length && (e.needReadable = !0), this._read(e.highWaterMark), e.sync = !1, e.reading || (t = A(i, e))), null === (n = t > 0 ? B(t, e) : null) ? (e.needReadable = e.length <= e.highWaterMark, t = 0) : (e.length -= t, e.awaitDrain = 0), 0 === e.length && (e.ended || (e.needReadable = !0), i !== t && e.ended && z(this)), null !== n && this.emit("data", n), n }, S.prototype._read = function (t) { k(this, new _("_read()")) }, S.prototype.pipe = function (t, e) { var i = this, r = this._readableState; switch (r.pipesCount) { case 0: r.pipes = t; break; case 1: r.pipes = [r.pipes, t]; break; default: r.pipes.push(t) }r.pipesCount += 1, u("pipe count=%d opts=%j", r.pipesCount, e); var o = (!e || !1 !== e.end) && t !== n.stdout && t !== n.stderr ? h : v; function s(e, n) { u("onunpipe"), e === i && n && !1 === n.hasUnpiped && (n.hasUnpiped = !0, u("cleanup"), t.removeListener("close", p), t.removeListener("finish", m), t.removeListener("drain", l), t.removeListener("error", d), t.removeListener("unpipe", s), i.removeListener("end", h), i.removeListener("end", v), i.removeListener("data", f), c = !0, !r.awaitDrain || t._writableState && !t._writableState.needDrain || l()) } function h() { u("onend"), t.end() } r.endEmitted ? n.nextTick(o) : i.once("end", o), t.on("unpipe", s); var l = function (t) { return function () { var e = t._readableState; u("pipeOnDrain", e.awaitDrain), e.awaitDrain && e.awaitDrain--, 0 === e.awaitDrain && a(t, "data") && (e.flowing = !0, j(t)) } }(i); t.on("drain", l); var c = !1; function f(e) { u("ondata"); var n = t.write(e); u("dest.write", n), !1 === n && ((1 === r.pipesCount && r.pipes === t || r.pipesCount > 1 && -1 !== F(r.pipes, t)) && !c && (u("false write response, pause", r.awaitDrain), r.awaitDrain++), i.pause()) } function d(e) { u("onerror", e), v(), t.removeListener("error", d), 0 === a(t, "error") && k(t, e) } function p() { t.removeListener("finish", m), v() } function m() { u("onfinish"), t.removeListener("close", p), v() } function v() { u("unpipe"), i.unpipe(t) } return i.on("data", f), function (t, e, i) { if ("function" == typeof t.prependListener) return t.prependListener(e, i); t._events && t._events[e] ? Array.isArray(t._events[e]) ? t._events[e].unshift(i) : t._events[e] = [i, t._events[e]] : t.on(e, i) }(t, "error", d), t.once("close", p), t.once("finish", m), t.emit("pipe", i), r.flowing || (u("pipe resume"), i.resume()), t }, S.prototype.unpipe = function (t) { var e = this._readableState, i = { hasUnpiped: !1 }; if (0 === e.pipesCount) return this; if (1 === e.pipesCount) return t && t !== e.pipes || (t || (t = e.pipes), e.pipes = null, e.pipesCount = 0, e.flowing = !1, t && t.emit("unpipe", this, i)), this; if (!t) { var n = e.pipes, r = e.pipesCount; e.pipes = null, e.pipesCount = 0, e.flowing = !1; for (var a = 0; a < r; a++)n[a].emit("unpipe", this, { hasUnpiped: !1 }); return this } var o = F(e.pipes, t); return -1 === o || (e.pipes.splice(o, 1), e.pipesCount -= 1, 1 === e.pipesCount && (e.pipes = e.pipes[0]), t.emit("unpipe", this, i)), this }, S.prototype.on = function (t, e) { var i = o.prototype.on.call(this, t, e), r = this._readableState; return "data" === t ? (r.readableListening = this.listenerCount("readable") > 0, !1 !== r.flowing && this.resume()) : "readable" === t && (r.endEmitted || r.readableListening || (r.readableListening = r.needReadable = !0, r.flowing = !1, r.emittedReadable = !1, u("on readable", r.length, r.reading), r.length ? T(this) : r.reading || n.nextTick(R, this))), i }, S.prototype.addListener = S.prototype.on, S.prototype.removeListener = function (t, e) { var i = o.prototype.removeListener.call(this, t, e); return "readable" === t && n.nextTick(O, this), i }, S.prototype.removeAllListeners = function (t) { var e = o.prototype.removeAllListeners.apply(this, arguments); return "readable" !== t && void 0 !== t || n.nextTick(O, this), e }, S.prototype.resume = function () { var t = this._readableState; return t.flowing || (u("resume"), t.flowing = !t.readableListening, function (t, e) { e.resumeScheduled || (e.resumeScheduled = !0, n.nextTick(L, t, e)) }(this, t)), t.paused = !1, this }, S.prototype.pause = function () { return u("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (u("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this }, S.prototype.wrap = function (t) { var e = this, i = this._readableState, n = !1; for (var r in t.on("end", (function () { if (u("wrapped end"), i.decoder && !i.ended) { var t = i.decoder.end(); t && t.length && e.push(t) } e.push(null) })), t.on("data", (function (r) { (u("wrapped data"), i.decoder && (r = i.decoder.write(r)), i.objectMode && null == r) || (i.objectMode || r && r.length) && (e.push(r) || (n = !0, t.pause())) })), t) void 0 === this[r] && "function" == typeof t[r] && (this[r] = function (e) { return function () { return t[e].apply(t, arguments) } }(r)); for (var a = 0; a < M.length; a++)t.on(M[a], this.emit.bind(this, M[a])); return this._read = function (e) { u("wrapped _read", e), n && (n = !1, t.resume()) }, this }, "function" == typeof Symbol && (S.prototype[Symbol.asyncIterator] = function () { return void 0 === f && (f = i("602c")), f(this) }), Object.defineProperty(S.prototype, "readableHighWaterMark", { enumerable: !1, get: function () { return this._readableState.highWaterMark } }), Object.defineProperty(S.prototype, "readableBuffer", { enumerable: !1, get: function () { return this._readableState && this._readableState.buffer } }), Object.defineProperty(S.prototype, "readableFlowing", { enumerable: !1, get: function () { return this._readableState.flowing }, set: function (t) { this._readableState && (this._readableState.flowing = t) } }), S._fromList = B, Object.defineProperty(S.prototype, "readableLength", { enumerable: !1, get: function () { return this._readableState.length } }), "function" == typeof Symbol && (S.from = function (t, e) { return void 0 === d && (d = i("d2b2")), d(S, t, e) }) }).call(this, i("c8ba"), i("4362")) }, "68f9": function (t, e, i) {
        /**
         * @license
         * KLineChart v8.0.0
         * Copyright (c) 2019 lihu.
         * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
         */
        !function (t) { "use strict"; var e = { name: "BBI", series: "price", precision: 2, calcParams: [3, 6, 12, 24], shouldCheckParamCount: !0, shouldOhlc: !0, plots: [{ key: "bbi", title: "BBI: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = Math.max.apply(null, i), r = [], a = []; return t.map((function (e, o) { var s = {}, h = e.close; if (i.forEach((function (e, i) { r[i] = (r[i] || 0) + h, e - 1 > o || (a[i] = r[i] / e, r[i] -= t[o - (e - 1)].close) })), o >= n - 1) { var u = 0; a.forEach((function (t) { u += t })), s.bbi = u / 4 } return s })) } }, i = { name: "DMA", calcParams: [10, 50, 10], plots: [{ key: "dma", title: "DMA: ", type: "line" }, { key: "ama", title: "AMA: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = Math.max(i[0], i[1]), r = 0, a = 0, o = 0, s = []; return t.forEach((function (e, h) { var u, l, c = {}, f = e.close; if (r += f, a += f, i[0] - 1 > h || (u = r / i[0], r -= t[h - (i[0] - 1)].close), i[1] - 1 > h || (l = a / i[1], a -= t[h - (i[1] - 1)].close), h >= n - 1) { var d = u - l; c.dma = d, o += d, n + i[2] - 2 > h || (c.ama = o / i[2], o -= s[h - (i[2] - 1)].dma) } s.push(c) })), s } }, n = { name: "DMI", calcParams: [14, 6], plots: [{ key: "pdi", title: "PDI: ", type: "line" }, { key: "mdi", title: "MDI: ", type: "line" }, { key: "adx", title: "ADX: ", type: "line" }, { key: "adxr", title: "ADXR: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = 0, o = 0, s = 0, h = 0, u = 0, l = 0, c = []; return t.forEach((function (e, f) { var d = {}, p = t[f - 1] || e, m = p.close, v = e.high, y = e.low, g = v - y, b = Math.abs(v - m), _ = Math.abs(m - y), w = v - p.high, k = p.low - y, M = Math.max(Math.max(g, b), _), x = w > 0 && w > k ? w : 0, S = k > 0 && k > w ? k : 0; if (n += M, r += x, a += S, f >= i[0] - 1) { f > i[0] - 1 ? (o = o - o / i[0] + M, s = s - s / i[0] + x, h = h - h / i[0] + S) : (o = n, s = r, h = a); var E = 0, D = 0; 0 !== o && (E = 100 * s / o, D = 100 * h / o), d.pdi = E, d.mdi = D; var A = 0; D + E !== 0 && (A = Math.abs(D - E) / (D + E) * 100), u += A, 2 * i[0] - 2 > f || (d.adx = l = f > 2 * i[0] - 2 ? (l * (i[0] - 1) + A) / i[0] : u / i[0], 2 * i[0] + i[1] - 3 > f || (d.adxr = (c[f - (i[1] - 1)].adx + l) / 2)) } c.push(d) })), c } }, r = { name: "MACD", calcParams: [12, 26, 9], plots: [{ key: "dif", title: "DIF: ", type: "line" }, { key: "dea", title: "DEA: ", type: "line" }, { key: "macd", title: "MACD: ", type: "bar", baseValue: 0, color: function (t, e) { var i = (t.current.technicalIndicatorData || {}).macd; return i > 0 ? e.bar.upColor : 0 > i ? e.bar.downColor : e.bar.noChangeColor }, isStroke: function (t) { return (t.current.technicalIndicatorData || {}).macd > (t.prev.technicalIndicatorData || {}).macd } }], calcTechnicalIndicator: function (t, e) { var i, n, r = e.params, a = 0, o = 0, s = 0, h = 0, u = Math.max(r[0], r[1]); return t.map((function (t, e) { var l = {}, c = t.close; return a += c, r[0] - 1 > e || (i = e > r[0] - 1 ? (2 * c + (r[0] - 1) * i) / (r[0] + 1) : a / r[0]), r[1] - 1 > e || (n = e > r[1] - 1 ? (2 * c + (r[1] - 1) * n) / (r[1] + 1) : a / r[1]), u - 1 > e || (l.dif = o = i - n, s += o, u + r[2] - 2 > e || (l.macd = 2 * (o - (h = e > u + r[2] - 2 ? (2 * o + h * (r[2] - 1)) / (r[2] + 1) : s / r[2])), l.dea = h)), l })) } }, a = { name: "CR", calcParams: [26, 10, 20, 40, 60], plots: [{ key: "cr", title: "CR: ", type: "line" }, { key: "ma1", title: "MA1: ", type: "line" }, { key: "ma2", title: "MA2: ", type: "line" }, { key: "ma3", title: "MA3: ", type: "line" }, { key: "ma4", title: "MA4: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = Math.ceil(i[1] / 2.5 + 1), r = Math.ceil(i[2] / 2.5 + 1), a = Math.ceil(i[3] / 2.5 + 1), o = Math.ceil(i[4] / 2.5 + 1), s = 0, h = [], u = 0, l = [], c = 0, f = [], d = 0, p = [], m = []; return t.forEach((function (e, v) { var y = {}, g = t[v - 1] || e, b = (g.high + g.close + g.low + g.open) / 4, _ = Math.max(0, e.high - b), w = Math.max(0, b - e.low); i[0] - 1 > v || (y.cr = 0 !== w ? _ / w * 100 : 0, s += y.cr, u += y.cr, c += y.cr, d += y.cr, i[0] + i[1] - 2 > v || (h.push(s / i[1]), i[0] + i[1] + n - 3 > v || (y.ma1 = h[h.length - 1 - n]), s -= m[v - (i[1] - 1)].cr), i[0] + i[2] - 2 > v || (l.push(u / i[2]), i[0] + i[2] + r - 3 > v || (y.ma2 = l[l.length - 1 - r]), u -= m[v - (i[2] - 1)].cr), i[0] + i[3] - 2 > v || (f.push(c / i[3]), i[0] + i[3] + a - 3 > v || (y.ma3 = f[f.length - 1 - a]), c -= m[v - (i[3] - 1)].cr), i[0] + i[4] - 2 > v || (p.push(d / i[4]), i[0] + i[4] + o - 3 > v || (y.ma4 = p[p.length - 1 - o]), d -= m[v - (i[4] - 1)].cr)), m.push(y) })), m } }, o = { name: "AO", calcParams: [5, 34], shouldCheckParamCount: !0, plots: [{ key: "ao", title: "AO: ", type: "bar", baseValue: 0, color: function (t, e) { return (t.current.technicalIndicatorData || {}).ao > (t.prev.technicalIndicatorData || {}).ao ? e.bar.upColor : e.bar.downColor }, isStroke: function (t) { return (t.current.technicalIndicatorData || {}).ao > (t.prev.technicalIndicatorData || {}).ao } }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = Math.max(i[0], i[1]), r = 0, a = 0, o = 0, s = 0; return t.map((function (e, h) { var u = {}, l = (e.low + e.high) / 2; if (r += l, a += l, h >= i[0] - 1) { o = r / i[0]; var c = t[h - (i[0] - 1)]; r -= (c.low + c.high) / 2 } if (h >= i[1] - 1) { s = a / i[1]; var f = t[h - (i[1] - 1)]; a -= (f.low + f.high) / 2 } return n - 1 > h || (u.ao = o - s), u })) } }, s = { name: "CCI", calcParams: [20], plots: [{ key: "cci", title: "CCI: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = i[0] - 1, r = 0, a = []; return t.map((function (e, o) { var s = {}, h = (e.high + e.low + e.close) / 3; if (r += h, a.push(h), o >= n) { var u = r / i[0], l = a.slice(o - n, o + 1), c = 0; l.forEach((function (t) { c += Math.abs(t - u) })); var f = c / i[0]; s.cci = 0 !== f ? (h - u) / f / .015 : 0, r -= (t[o - n].high + t[o - n].low + t[o - n].close) / 3 } return s })) } }, h = { name: "RSI", calcParams: [6, 12, 24], shouldCheckParamCount: !1, plots: [{ key: "rsi1", title: "RSI1: ", type: "line" }, { key: "rsi2", title: "RSI2: ", type: "line" }, { key: "rsi3", title: "RSI3: ", type: "line" }], regeneratePlots: function (t) { return t.map((function (t, e) { var i = e + 1; return { key: "rsi".concat(i), title: "RSI".concat(i, ": "), type: "line" } })) }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots, r = [], a = []; return t.map((function (e, o) { var s = {}, h = e.close - (t[o - 1] || e).close; return i.forEach((function (e, i) { if (h > 0 ? r[i] = (r[i] || 0) + h : a[i] = (a[i] || 0) + Math.abs(h), o >= e - 1) { s[n[i].key] = 0 !== a[i] ? 100 - 100 / (1 + r[i] / a[i]) : 0; var u = t[o - (e - 1)], l = u.close - (t[o - e] || u).close; l > 0 ? r[i] -= l : a[i] -= Math.abs(l) } })), s })) } }; function u() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], e = Number.MIN_SAFE_INTEGER, i = Number.MAX_SAFE_INTEGER; return t.forEach((function (t) { e = Math.max(t.high, e), i = Math.min(t.low, i) })), { hn: e, ln: i } } var l = { name: "KDJ", calcParams: [9, 3, 3], plots: [{ key: "k", title: "K: ", type: "line" }, { key: "d", title: "D: ", type: "line" }, { key: "j", title: "J: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = []; return t.forEach((function (e, r) { var a = {}, o = e.close; if (r >= i[0] - 1) { var s = u(t.slice(r - (i[0] - 1), r + 1)), h = s.ln, l = s.hn - h; a.k = ((i[1] - 1) * (n[r - 1].k || 50) + (o - h) / (0 === l ? 1 : l) * 100) / i[1], a.d = ((i[2] - 1) * (n[r - 1].d || 50) + a.k) / i[2], a.j = 3 * a.k - 2 * a.d } n.push(a) })), n } }, c = { name: "WR", calcParams: [6, 10, 14], shouldCheckParamCount: !1, plots: [{ key: "wr1", title: "WR1: ", type: "line" }, { key: "wr2", title: "WR2: ", type: "line" }, { key: "wr3", title: "WR3: ", type: "line" }], regeneratePlots: function (t) { return t.map((function (t, e) { return { key: "wr".concat(e + 1), title: "WR".concat(e + 1, ": "), type: "line" } })) }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots; return t.map((function (e, r) { var a = {}, o = e.close; return i.forEach((function (e, i) { var s = e - 1; if (r >= s) { var h = u(t.slice(r - s, r + 1)), l = h.hn, c = l - h.ln; a[n[i].key] = 0 === c ? 0 : (o - l) / c * 100 } })), a })) } }, f = { name: "BOLL", calcParams: [20, { value: 2, allowDecimal: !0 }], precision: 2, shouldOhlc: !0, plots: [{ key: "up", title: "UP: ", type: "line" }, { key: "mid", title: "MID: ", type: "line" }, { key: "dn", title: "DN: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = i[0] - 1, r = 0; return t.map((function (e, a) { var o = {}; if (r += e.close, a >= n) { o.mid = r / i[0]; var s = function (t, e) { var i = t.length, n = 0; t.forEach((function (t) { var i = t.close - e; n += i * i })); var r = n > 0, a = Math.sqrt((n = Math.abs(n)) / i); return r ? a : -1 * a }(t.slice(a - n, a + 1), o.mid); o.up = o.mid + i[1] * s, o.dn = o.mid - i[1] * s, r -= t[a - n].close } return o })) } }, d = { name: "SAR", series: "price", calcParams: [2, 2, 20], precision: 2, shouldOhlc: !0, plots: [{ key: "sar", title: "SAR: ", type: "circle", color: function (t, e) { var i = t.current, n = i.kLineData || {}; return (n.high + n.low) / 2 > (i.technicalIndicatorData || {}).sar ? e.circle.upColor : e.circle.downColor } }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = i[0] / 100, r = i[1] / 100, a = i[2] / 100, o = n, s = -100, h = !1, u = 0; return t.map((function (e, i) { var l = u, c = e.high, f = e.low; if (h) { (-100 === s || c > s) && (s = c, o = Math.min(o + r, a)), u = l + o * (s - l); var d = Math.min(t[Math.max(1, i) - 1].low, f); u > e.low ? (u = s, o = n, s = -100, h = !h) : u > d && (u = d) } else { (-100 === s || s > f) && (s = f, o = Math.min(o + r, a)), u = l + o * (s - l); var p = Math.max(t[Math.max(1, i) - 1].high, c); e.high > u ? (u = s, o = 0, s = -100, h = !h) : p > u && (u = p) } return { sar: u } })) } }, p = { technicalIndicatorExtensions: {}, shapeExtensions: {}, addTechnicalIndicatorTemplate: function (t) { var e = this; t && [].concat(t).forEach((function (t) { t.name && (e.technicalIndicatorExtensions[t.name] = t) })) }, addShapeTemplate: function (t) { var e = this; t && [].concat(t).forEach((function (t) { t.name && (e.shapeExtensions[t.name] = t) })) } }; function m(t, e) { var i = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), i.push.apply(i, n) } return i } function v(t) { for (var e = 1; arguments.length > e; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? m(Object(i), !0).forEach((function (e) { w(t, e, i[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : m(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t } function y(t) { return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function g(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function b(t, e) { for (var i = 0; e.length > i; i++) { var n = e[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } function _(t, e, i) { return e && b(t.prototype, e), i && b(t, i), t } function w(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } function k(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && x(t, e) } function M(t) { return (M = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) })(t) } function x(t, e) { return (x = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t })(t, e) } function S(t, e) { if (e && ("object" == typeof e || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t) } function E(t) { var e = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (t) { return !1 } }(); return function () { var i, n = M(t); if (e) { var r = M(this).constructor; i = Reflect.construct(n, arguments, r) } else i = n.apply(this, arguments); return S(this, i) } } function D(t, e, i) { return (D = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, i) { var n = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = M(t));); return t }(t, e); if (n) { var r = Object.getOwnPropertyDescriptor(n, e); return r.get ? r.get.call(i) : r.value } })(t, e, i || t) } function A(t, e) { (null == e || e > t.length) && (e = t.length); for (var i = 0, n = Array(e); e > i; i++)n[i] = t[i]; return n } function T(t, e) { var i = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!i) { if (Array.isArray(t) || (i = function (t, e) { if (t) { if ("string" == typeof t) return A(t, e); var i = Object.prototype.toString.call(t).slice(8, -1); return "Object" === i && t.constructor && (i = t.constructor.name), "Map" === i || "Set" === i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? A(t, e) : void 0 } }(t)) || e && t && "number" == typeof t.length) { i && (t = i); var n = 0, r = function () { }; return { s: r, n: function () { return t.length > n ? { done: !1, value: t[n++] } : { done: !0 } }, e: function (t) { throw t }, f: r } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var a, o = !0, s = !1; return { s: function () { i = i.call(t) }, n: function () { var t = i.next(); return o = t.done, t }, e: function (t) { s = !0, a = t }, f: function () { try { o || null == i.return || i.return() } finally { if (s) throw a } } } } function C(t, e) { if (R(t) && R(e)) for (var i in e) if (Object.prototype.hasOwnProperty.call(e, i) && i in t) { var n = t[i], r = e[i]; R(r) && R(n) && !I(r) && !I(n) ? C(n, r) : j(e[i]) && (t[i] = e[i]) } } function P(t) { if (!R(t)) return t; var e; for (var i in e = I(t) ? [] : {}, t) if (Object.prototype.hasOwnProperty.call(t, i)) { var n = t[i]; e[i] = R(n) ? P(n) : n } return e } function I(t) { return "[object Array]" === Object.prototype.toString.call(t) } function O(t) { return t && "function" == typeof t } function R(t) { return !!t && "object" === y(t) } function L(t) { return "number" == typeof t && !isNaN(t) } function j(t) { return null != t } function B(t) { return "boolean" == typeof t } function z(t) { return "string" == typeof t } var N = "stroke", F = "fill", q = "dash", H = "solid", V = "left", U = "right", W = "normal", Y = "percentage", K = "log", Z = "candle_solid", X = "area", G = "always", J = "standard", $ = "triangle", Q = "diamond", tt = { grid: { show: !0, horizontal: { show: !0, size: 1, color: "#EDEDED", style: q, dashValue: [2, 2] }, vertical: { show: !0, size: 1, color: "#EDEDED", style: q, dashValue: [2, 2] } }, candle: { margin: { top: .2, bottom: .1 }, type: Z, bar: { upColor: "#26A69A", downColor: "#EF5350", noChangeColor: "#999999" }, area: { lineSize: 2, lineColor: "#2196F3", value: "close", backgroundColor: [{ offset: 0, color: "rgba(33, 150, 243, 0.01)" }, { offset: 1, color: "rgba(33, 150, 243, 0.2)" }] }, priceMark: { show: !0, high: { show: !0, color: "#76808F", textMargin: 5, textSize: 10, textFamily: "Helvetica Neue", textWeight: "normal" }, low: { show: !0, color: "#76808F", textMargin: 5, textSize: 10, textFamily: "Helvetica Neue", textWeight: "normal" }, last: { show: !0, upColor: "#26A69A", downColor: "#EF5350", noChangeColor: "#888888", line: { show: !0, style: q, dashValue: [4, 4], size: 1 }, text: { show: !0, size: 12, paddingLeft: 2, paddingTop: 2, paddingRight: 2, paddingBottom: 2, color: "#FFFFFF", family: "Helvetica Neue", weight: "normal", borderRadius: 2 } } }, tooltip: { showRule: G, showType: J, labels: [": ", ": ", ": ", ": ", ": ", ": "], values: null, defaultValue: "n/a", rect: { paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 6, offsetLeft: 8, offsetTop: 8, offsetRight: 8, borderRadius: 4, borderSize: 1, borderColor: "#F2F3F5", backgroundColor: "#FEFEFE" }, text: { size: 12, family: "Helvetica Neue", weight: "normal", color: "#76808F", marginLeft: 8, marginTop: 6, marginRight: 8, marginBottom: 0 } } }, technicalIndicator: { margin: { top: .2, bottom: .1 }, bar: { upColor: "rgba(38, 166, 154, .65)", downColor: "rgba(239, 83, 80, .65)", noChangeColor: "#888888" }, line: { size: 1, colors: ["#FF9600", "#9D65C9", "#2196F3", "#E11D74", "#01C5C4"] }, circle: { upColor: "rgba(38, 166, 154, .65)", downColor: "rgba(239, 83, 80, .65)", noChangeColor: "#888888" }, lastValueMark: { show: !1, text: { show: !1, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 3, paddingTop: 2, paddingRight: 3, paddingBottom: 2, borderRadius: 2 } }, tooltip: { showRule: G, showType: J, showName: !0, showParams: !0, defaultValue: "n/a", text: { size: 12, family: "Helvetica Neue", weight: "normal", color: "#76808F", marginTop: 6, marginRight: 8, marginBottom: 0, marginLeft: 8 } } }, xAxis: { show: !0, height: null, axisLine: { show: !0, color: "#DDDDDD", size: 1 }, tickText: { show: !0, color: "#76808F", size: 12, family: "Helvetica Neue", weight: "normal", paddingTop: 3, paddingBottom: 6 }, tickLine: { show: !0, size: 1, length: 3, color: "#DDDDDD" } }, yAxis: { show: !0, width: null, type: W, position: U, inside: !1, axisLine: { show: !0, color: "#DDDDDD", size: 1 }, tickText: { show: !0, color: "#76808F", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 3, paddingRight: 6 }, tickLine: { show: !0, size: 1, length: 3, color: "#DDDDDD" } }, separator: { size: 1, color: "#DDDDDD", fill: !0, activeBackgroundColor: "rgba(33, 150, 243, 0.08)" }, crosshair: { show: !0, horizontal: { show: !0, line: { show: !0, style: q, dashValue: [4, 2], size: 1, color: "#76808F" }, text: { show: !0, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 2, paddingRight: 2, paddingTop: 2, paddingBottom: 2, borderSize: 1, borderColor: "#686D76", borderRadius: 2, backgroundColor: "#686D76" } }, vertical: { show: !0, line: { show: !0, style: q, dashValue: [4, 2], size: 1, color: "#76808F" }, text: { show: !0, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 2, paddingRight: 2, paddingTop: 2, paddingBottom: 2, borderSize: 1, borderRadius: 2, borderColor: "#686D76", backgroundColor: "#686D76" } } }, shape: { point: { backgroundColor: "#2196F3", borderColor: "rgba(33, 150, 243, 0.35)", borderSize: 1, radius: 5, activeBackgroundColor: "#2196F3", activeBorderColor: "rgba(33, 150, 243, 0.35)", activeBorderSize: 3, activeRadius: 5 }, line: { style: H, color: "#2196F3", size: 1, dashValue: [2, 2] }, polygon: { style: N, stroke: { style: H, size: 1, color: "#2196F3", dashValue: [2, 2] }, fill: { color: "#2196F3" } }, arc: { style: N, stroke: { style: H, size: 1, color: "#2196F3", dashValue: [2, 2] }, fill: { color: "#2196F3" } }, text: { style: F, color: "#2196F3", size: 12, family: "Helvetica Neue", weight: "normal", offset: [0, 0] } }, annotation: { position: "top", offset: [20, 0], symbol: { type: Q, size: 8, color: "#2196F3", activeSize: 10, activeColor: "#FF9600" } }, tag: { position: "point", offset: 0, line: { show: !0, style: q, dashValue: [4, 2], size: 1, color: "#2196F3" }, text: { color: "#FFFFFF", backgroundColor: "#2196F3", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 2, paddingRight: 2, paddingTop: 2, paddingBottom: 2, borderRadius: 2 }, mark: { color: "#FFFFFF", backgroundColor: "#2196F3", size: 12, family: "Helvetica Neue", weight: "normal", paddingLeft: 2, paddingRight: 2, paddingTop: 2, paddingBottom: 2, borderRadius: 2 } } }; function et(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "--"; if (R(t)) { var n = t[e]; if (j(n)) return n } return i } function it(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "MM-DD hh:mm"; if (L(e)) { var n = t.format(new Date(e)), r = n.split(", "), a = r[0].split("/"), o = { YYYY: a[2], MM: a[0], DD: a[1], "hh:mm": "24" === r[1].match(/^[\d]{2}/)[0] ? r[1].replace(/^[\d]{2}/, "00") : r[1] }; return i.replace(/YYYY|MM|DD|(hh:mm)/g, (function (t) { return o[t] })) } return "--" } function nt(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2, i = +t; return (i || 0 === i) && L(i) ? i.toFixed(e) : "".concat(i) } function rt(t) { return L(+t) ? t > 1e9 ? "".concat(+(t / 1e9).toFixed(3), "B") : t > 1e6 ? "".concat(+(t / 1e6).toFixed(3), "M") : t > 1e3 ? "".concat(+(t / 1e3).toFixed(3), "K") : t : "--" } function at(t, e) { return null == e && (e = 10), +(t = (+t).toFixed(e = Math.min(Math.max(0, e), 20))) } function ot(t) { return Math.log(t) / Math.log(10) } function st(t) { return Math.pow(10, t) } var ht = "technical_indicator_pane_", ut = "candle_pane", lt = { ZOOM: "zoom", SCROLL: "scroll", CROSSHAIR: "crosshair", PANE_DRAG: "pane_drag" }, ct = function () { function t(e) { g(this, t), this._chartData = e, this._dateTimeFormat = new Intl.DateTimeFormat("en", { hour12: !1, year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit" }), this._zoomEnabled = !0, this._scrollEnabled = !0, this._loading = !0, this._loadMoreCallback = null, this._more = !0, this._totalDataSpace = 0, this._dataSpace = 6, this._barSpace = this._calcBarSpace(), this._offsetRightSpace = 50, this._offsetRightBarCount = this._offsetRightSpace / this._dataSpace, this._leftMinVisibleBarCount = 2, this._rightMinVisibleBarCount = 2, this._from = 0, this._to = 0, this._preOffsetRightBarCount = 0 } return _(t, [{ key: "_calcBarSpace", value: function () { return Math.max(1, Math.min(Math.floor(.82 * this._dataSpace), Math.floor(this._dataSpace) - 1)) } }, { key: "adjustFromTo", value: function () { var t = this._chartData.dataList().length, e = this._totalDataSpace / this._dataSpace, i = e - Math.min(this._leftMinVisibleBarCount, t); this._offsetRightBarCount > i && (this._offsetRightBarCount = i); var n = -t + Math.min(this._rightMinVisibleBarCount, t); n > this._offsetRightBarCount && (this._offsetRightBarCount = n), this._to = Math.round(this._offsetRightBarCount + t + .5), this._from = Math.round(this._to - e) - 1, this._to > t && (this._to = t), 0 > this._from && (this._from = 0), this._chartData.adjustVisibleDataList(), 0 === this._from && this._more && !this._loading && O(this._loadMoreCallback) && (this._loading = !0, this._loadMoreCallback(et(this._chartData.dataList()[0], "timestamp"))) } }, { key: "setMore", value: function (t) { this._more = t } }, { key: "setLoading", value: function (t) { this._loading = t } }, { key: "dateTimeFormat", value: function () { return this._dateTimeFormat } }, { key: "setTimezone", value: function (t) { var e; try { e = new Intl.DateTimeFormat("en", { hour12: !1, timeZone: t, year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit" }) } catch (t) { } e && (this._dateTimeFormat = e) } }, { key: "timezone", value: function () { return this._dateTimeFormat.resolvedOptions().timeZone } }, { key: "dataSpace", value: function () { return this._dataSpace } }, { key: "barSpace", value: function () { return this._barSpace } }, { key: "halfBarSpace", value: function () { return this._barSpace / 2 } }, { key: "setDataSpace", value: function (t, e) { 1 > t || t > 50 || this._dataSpace === t || (this._dataSpace = t, this._barSpace = this._calcBarSpace(), e && e(), this.adjustFromTo(), this._chartData.crosshairStore().recalculate(!0), this._chartData.invalidate()) } }, { key: "setTotalDataSpace", value: function (t) { this._totalDataSpace !== t && (this._totalDataSpace = t, this.adjustFromTo(), this._chartData.crosshairStore().recalculate(!0)) } }, { key: "setOffsetRightSpace", value: function (t, e) { this._offsetRightSpace = t, this._offsetRightBarCount = t / this._dataSpace, e && (this.adjustFromTo(), this._chartData.crosshairStore().recalculate(!0), this._chartData.invalidate()) } }, { key: "resetOffsetRightSpace", value: function () { this.setOffsetRightSpace(this._offsetRightSpace) } }, { key: "offsetRightSpace", value: function () { return this._offsetRightSpace } }, { key: "offsetRightBarCount", value: function () { return this._offsetRightBarCount } }, { key: "setOffsetRightBarCount", value: function (t) { this._offsetRightBarCount = t } }, { key: "setLeftMinVisibleBarCount", value: function (t) { this._leftMinVisibleBarCount = t } }, { key: "setRightMinVisibleBarCount", value: function (t) { this._rightMinVisibleBarCount = t } }, { key: "from", value: function () { return this._from } }, { key: "to", value: function () { return this._to } }, { key: "startScroll", value: function () { this._preOffsetRightBarCount = this._offsetRightBarCount } }, { key: "scroll", value: function (t, e) { if (this._scrollEnabled) { var i = t / this._dataSpace; this._chartData.actionStore().execute(lt.SCROLL, { barCount: i, distance: t }), this._offsetRightBarCount = this._preOffsetRightBarCount - i, this.adjustFromTo(); var n = e || this._chartData.crosshairStore().get(); this._chartData.crosshairStore().set(n, !0), this._chartData.invalidate() } } }, { key: "getDataByDataIndex", value: function (t) { return this._chartData.dataList()[t] } }, { key: "coordinateToFloatIndex", value: function (t) { var e = this._chartData.dataList().length; return Math.round(1e6 * (e + this._offsetRightBarCount - (this._totalDataSpace - t) / this._dataSpace)) / 1e6 } }, { key: "dataIndexToTimestamp", value: function (t) { var e = this.getDataByDataIndex(t); if (e) return e.timestamp } }, { key: "timestampToDataIndex", value: function (t) { return 0 === this._chartData.dataList().length ? 0 : function (t, e, i) { var n = 0, r = 0; for (r = t.length - 1; n !== r;) { var a = Math.floor((r + n) / 2), o = r - n, s = t[a][e]; if (i === t[n][e]) return n; if (i === t[r][e]) return r; if (i === s) return a; if (i > s ? n = a : r = a, 2 >= o) break } return n }(this._chartData.dataList(), "timestamp", t) } }, { key: "dataIndexToCoordinate", value: function (t) { var e = this._chartData.dataList().length; return this._totalDataSpace - (e + this._offsetRightBarCount - t - .5) * this._dataSpace } }, { key: "coordinateToDataIndex", value: function (t) { return Math.ceil(this.coordinateToFloatIndex(t)) - 1 } }, { key: "zoom", value: function (t, e) { var i = this; if (this._zoomEnabled) { if (!e || !j(e.x)) { var n = this._chartData.crosshairStore().get(); e = { x: j(n.x) ? n.x : this._totalDataSpace / 2 } } this._chartData.actionStore().execute(lt.ZOOM, { coordinate: e, scale: t }); var r = this.coordinateToFloatIndex(e.x); this.setDataSpace(this._dataSpace + t * (this._dataSpace / 10), (function () { i._offsetRightBarCount += r - i.coordinateToFloatIndex(e.x) })) } } }, { key: "setZoomEnabled", value: function (t) { this._zoomEnabled = t } }, { key: "zoomEnabled", value: function () { return this._zoomEnabled } }, { key: "setScrollEnabled", value: function (t) { this._scrollEnabled = t } }, { key: "scrollEnabled", value: function () { return this._scrollEnabled } }, { key: "setLoadMoreCallback", value: function (t) { this._loadMoreCallback = t } }, { key: "clear", value: function () { this._more = !0, this._loading = !0, this._from = 0, this._to = 0 } }]), t }(), ft = "line", dt = "bar", pt = "circle", mt = { PRICE: "price", VOLUME: "volume", NORMAL: "normal" }, vt = function () { function t(e) { var i = e.name, n = e.series, r = e.calcParams, a = e.plots, o = e.precision, s = e.shouldCheckParamCount, h = e.shouldOhlc, u = e.shouldFormatBigNumber, l = e.minValue, c = e.maxValue, f = e.styles; g(this, t), this.name = i || "", this.series = -1 !== Object.values(mt).indexOf(n) ? n : mt.NORMAL, this.precision = L(o) && o >= 0 ? o : 4, this._precisionFlag = !1, this.calcParams = I(r) ? r : [], this.plots = I(a) ? a : [], this.shouldCheckParamCount = !B(s) || s, this.shouldOhlc = !!B(h) && h, this.shouldFormatBigNumber = !!B(u) && u, this.minValue = l, this.maxValue = c, this.styles = f, this.result = [] } return _(t, [{ key: "_createParams", value: function (t) { return t.map((function (t) { return R(t) ? t.value : t })) } }, { key: "setPrecision", value: function (t, e) { return !(!L(t) || 0 > t || e && (!e || this._precisionFlag) || (this.precision = parseInt(t, 10), e || (this._precisionFlag = !0), 0)) } }, { key: "setCalcParams", value: function (t) { if (!I(t)) return !1; if (this.shouldCheckParamCount && t.length !== this.calcParams.length) return !1; for (var e = [], i = 0; t.length > i; i++) { var n = t[i], r = void 0, a = void 0; R(n) ? (r = n.value, a = n.allowDecimal) : (r = n, a = !1); var o = this.calcParams[i]; if (R(o) && B(o.allowDecimal) && (a = o.allowDecimal), !L(r) || 0 >= r || !a && parseInt(r, 10) !== r) return !1; e.push({ allowDecimal: a, value: r }) } this.calcParams = e; var s = this.regeneratePlots(this._createParams(e)); return s && I(s) && (this.plots = s), !0 } }, { key: "setShouldOhlc", value: function (t) { return !(!B(t) || this.shouldOhlc === t || (this.shouldOhlc = t, 0)) } }, { key: "setShouldFormatBigNumber", value: function (t) { return !(!B(t) || this.shouldFormatBigNumber === t || (this.shouldFormatBigNumber = t, 0)) } }, { key: "setStyles", value: function (t, e) { return !!R(t) && (this.styles || (this.styles = { bar: P(e.bar), line: P(e.line), circle: P(e.circle) }), C(this.styles, t), !0) } }, { key: "calc", value: function (t) { this.result = this.calcTechnicalIndicator(t, { params: this._createParams(this.calcParams), plots: this.plots }) || [] } }, { key: "calcTechnicalIndicator", value: function (t, e) { } }, { key: "regeneratePlots", value: function (t) { } }]), t }(); function yt() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = arguments.length > 1 ? arguments[1] : void 0, i = e.calcParams, n = e.plots, r = e.precision, a = e.shouldFormatBigNumber, o = [], s = "", h = ""; if (n.length > 0 && (s = e.name), i.length > 0) { var u = i.map((function (t) { return R(t) ? t.value : t })); h = "(".concat(u.join(","), ")") } return n.forEach((function (e) { var i = {}; if (j(e.title)) { var n = t[e.key]; j(n) && (n = nt(n, r), a && (n = rt(n))), i.title = e.title, i.value = n } o.push(i) })), { values: o, name: s, calcParamText: h } } var gt = function () { function t(e) { g(this, t), this._chartData = e, this._templates = this._createTemplates(), this._instances = new Map } return _(t, [{ key: "_createTechInfo", value: function (t) { return { name: t.name, series: t.series, calcParams: t.calcParams, shouldCheckParamCount: t.shouldCheckParamCount, shouldOhlc: t.shouldOhlc, shouldFormatBigNumber: t.shouldFormatBigNumber, precision: t.precision, styles: t.styles, result: t.result || [] } } }, { key: "_createTemplates", value: function () { var t = {}, e = p.technicalIndicatorExtensions; for (var i in e) { var n = this._createTemplateInstance(e[i]); n && (t[i] = n) } return t } }, { key: "_createTemplateInstance", value: function (t) { var e = t.name, i = t.series, n = t.calcParams, r = t.plots, a = t.precision, o = t.shouldCheckParamCount, s = t.shouldOhlc, h = t.shouldFormatBigNumber, u = t.minValue, l = t.maxValue, c = t.styles, f = t.calcTechnicalIndicator, d = t.regeneratePlots, p = t.render; if (!e || !O(f)) return null; var m = function (t) { k(d, t); var f = E(d); function d() { return g(this, d), f.call(this, { name: e, series: i, calcParams: n, plots: r, precision: a, shouldCheckParamCount: o, shouldOhlc: s, shouldFormatBigNumber: h, minValue: u, maxValue: l, styles: c }) } return d }(vt); return m.prototype.calcTechnicalIndicator = f, O(d) && (m.prototype.regeneratePlots = d), O(p) && (m.prototype.render = p), new m } }, { key: "addTemplate", value: function (t) { var e = this; t.forEach((function (t) { var i = e._createTemplateInstance(t || {}); i && (e._templates[i.name] = i) })) } }, { key: "hasTemplate", value: function (t) { return !!this._templates[t] } }, { key: "getTemplateInfo", value: function (t) { if (!j(t)) { var e = {}; for (var i in this._templates) e[i] = this._createTechInfo(this._templates[i]); return e } var n = this._templates[t]; return n ? this._createTechInfo(n) : {} } }, { key: "addInstance", value: function (t, e, i) { if (e) { var n = e.name, r = e.calcParams, a = e.precision, o = e.shouldOhlc, s = e.shouldFormatBigNumber, h = e.styles, u = this._instances.get(t); if (u && u.has(n)) return !1; u || (u = new Map, this._instances.set(t, u)); var l, c = this._templates[n]; if (c) for (var f in l = Object.create(Object.getPrototypeOf(c)), c) Object.prototype.hasOwnProperty.call(c, f) && (l[f] = c[f]); if (l) return l.setCalcParams(r), l.setPrecision(a), l.setShouldOhlc(o), l.setShouldFormatBigNumber(s), l.setStyles(h, this._chartData.styleOptions().technicalIndicator), i || u.clear(), u.set(n, l), l.calc(this._chartData.dataList()), !0 } return !1 } }, { key: "instances", value: function (t) { return this._instances.get(t) || new Map } }, { key: "removeInstance", value: function (t, e) { var i = !1; if (this._instances.has(t)) { var n = this._instances.get(t); j(e) ? n.has(e) && (n.delete(e), i = !0) : (n.clear(), i = !0), 0 === n.size && this._instances.delete(t) } return i } }, { key: "hasInstance", value: function (t) { return this._instances.has(t) } }, { key: "calcInstance", value: function (t, e) { var i = this, n = !1; if (j(t)) if (j(e)) { var r = this._instances.get(e); r && r.has(t) && (r.get(t).calc(this._chartData.dataList()), n = !0) } else this._instances.forEach((function (e) { e.has(t) && (e.get(t).calc(i._chartData.dataList()), n = !0) })); else this._instances.forEach((function (t) { t.forEach((function (t) { t.calc(i._chartData.dataList()), n = !0 })) })); return n } }, { key: "getInstanceInfo", value: function (t, e) { var i = this, n = function (t) { var n, r = [], a = T(t); try { for (a.s(); !(n = a.n()).done;) { var o = n.value[1]; if (o) { var s = i._createTechInfo(o); if (o.name === e) return s; r.push(s) } } } catch (t) { a.e(t) } finally { a.f() } return r }; if (!j(t)) { var r = {}; return this._instances.forEach((function (t, e) { r[e] = n(t) })), r } return this._instances.has(t) ? n(this._instances.get(t)) : {} } }, { key: "setSeriesPrecision", value: function (t, e) { var i = function (i) { i.series === mt.PRICE && i.setPrecision(t, !0), i.series === mt.VOLUME && i.setPrecision(e, !0) }; for (var n in this._templates) i(this._templates[n]); this._instances.forEach((function (t) { t.forEach((function (t) { i(t) })) })) } }, { key: "override", value: function (t, e) { var i = this, n = t.name, r = t.calcParams, a = t.precision, o = t.shouldOhlc, s = t.shouldFormatBigNumber, h = t.styles, u = this._chartData.styleOptions().technicalIndicator, l = new Map; if (j(e)) this._instances.has(e) && l.set(e, this._instances.get(e)); else { l = this._instances; var c = this._templates[n]; c && (c.setCalcParams(r), c.setPrecision(a), c.setShouldOhlc(o), c.setShouldFormatBigNumber(s), c.setStyles(h, u)) } var f = !1, d = []; if (l.forEach((function (t) { if (t.has(n)) { var e = t.get(n), l = e.setCalcParams(r), c = e.setPrecision(a), p = e.setShouldOhlc(o), m = e.setShouldFormatBigNumber(s), v = e.setStyles(h, u); (l || c || p || m || v) && (f = !0), l && d.push(Promise.resolve(e.calc(i._chartData.dataList()))) } })), f) return Promise.all(d) } }]), t }(); function bt(t, e) { e.forEach((function (e) { var i = e.key, n = e.fn; O(n) && (t[i] = n) })) } var _t = function () { function t(e) { var i = e.id, n = e.chartData, r = e.xAxis, a = e.yAxis; g(this, t), this._id = i, this._chartData = n, this._xAxis = r, this._yAxis = a, this._styles = null } return _(t, [{ key: "draw", value: function (t) { } }, { key: "setStyles", value: function (t, e) { return !!R(t) && (this._styles || (this._styles = P(e)), C(this._styles, t), !0) } }, { key: "id", value: function () { return this._id } }, { key: "styles", value: function () { return this._styles } }, { key: "setYAxis", value: function (t) { t && (this._yAxis = t) } }, { key: "checkEventCoordinateOn", value: function (t) { } }, { key: "onClick", value: function (t) { } }, { key: "onRightClick", value: function (t) { } }, { key: "onMouseEnter", value: function (t) { } }, { key: "onMouseLeave", value: function (t) { } }]), t }(); function wt(t, e, i, n) { t.fillStyle = e, t.beginPath(), t.arc(i.x, i.y, n, 0, 2 * Math.PI), t.closePath(), t.fill() } function kt(t, e, i) { var n = Math.abs(e.x - t.x), r = Math.abs(e.y - t.y), a = Math.abs(i.x - t.x); return Math.abs(n * Math.abs(i.y - t.y) - a * r) / 2 } function Mt(t, e) { var i = t.x - e.x; if (0 !== i) { var n = (t.y - e.y) / i; return { k: n, b: t.y - n * t.x } } } function xt(t, e, i) { return St(Mt(t, e), i) } function St(t, e) { return t ? e.x * t.k + t.b : e.y } function Et(t, e, i) { if (!i || !t || !e) return !1; if (t.x === e.x) return 2 > Math.abs(i.x - t.x); var n = Mt(t, e), r = St(n, i), a = Math.abs(r - i.y); return 4 > a * a / (n.k * n.k + 1) } function Dt(t, e, i) { return !!Et(t, e, i) && (t.x === e.x ? e.y > t.y ? 2 > t.y - i.y : 2 > i.y - t.y : e.x > t.x ? 2 > t.x - i.x : 2 > i.x - t.x) } function At(t, e, i) { return !!Et(t, e, i) && (t.x === e.x ? 4 > Math.abs(t.y - i.y) + Math.abs(e.y - i.y) - Math.abs(t.y - e.y) : 4 > Math.abs(t.x - i.x) + Math.abs(e.x - i.x) - Math.abs(t.x - e.x)) } function Tt(t, e, i) { if (!i) return !1; var n = i.x - t.x, r = i.y - t.y; return !(n * n + r * r > e * e) } function Ct(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n = []; if (t.length > 1) if (t[0].x === t[1].x) { var r = 0, a = e.y; if (n.push([{ x: t[0].x, y: r }, { x: t[0].x, y: a }]), t.length > 2) { n.push([{ x: t[2].x, y: r }, { x: t[2].x, y: a }]); for (var o = t[0].x - t[2].x, s = 0; i > s; s++) { var h = o * (s + 1); n.push([{ x: t[0].x + h, y: r }, { x: t[0].x + h, y: a }]) } } } else { var u = 0, l = e.x, c = Mt(t[0], t[1]), f = c.k, d = c.b; if (n.push([{ x: u, y: u * f + d }, { x: l, y: l * f + d }]), t.length > 2) { var p = t[2].y - f * t[2].x; n.push([{ x: u, y: u * f + p }, { x: l, y: l * f + p }]); for (var m = d - p, v = 0; i > v; v++) { var y = d + m * (v + 1); n.push([{ x: u, y: u * f + y }, { x: l, y: l * f + y }]) } } } return n } function Pt(t, e, i) { t.save(), t.lineWidth % 2 && t.translate(.5, .5), t.beginPath(); var n = !0; e.forEach((function (e) { e && (n ? (t.moveTo(e.x, e.y), n = !1) : t.lineTo(e.x, e.y)) })), i(), t.restore() } function It(t, e) { Pt(t, e, (function () { t.stroke(), t.closePath() })) } function Ot(t, e) { Pt(t, e, (function () { t.closePath(), t.fill() })) } function Rt(t, e, i, n) { t.beginPath(); var r = t.lineWidth % 2 ? .5 : 0; t.moveTo(i, e + r), t.lineTo(n, e + r), t.stroke(), t.closePath() } function Lt(t, e, i, n) { t.beginPath(); var r = t.lineWidth % 2 ? .5 : 0; t.moveTo(e + r, i), t.lineTo(e + r, n), t.stroke(), t.closePath() } function jt(t, e) { It(t, e) } function Bt(t) { return t.ownerDocument && t.ownerDocument.defaultView && t.ownerDocument.defaultView.devicePixelRatio || 2 } function zt(t, e) { return Math.round(t.measureText(e).width) } function Nt() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 12, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "normal", i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "Helvetica Neue"; return "".concat(e, " ").concat(t, "px ").concat(i) } var Ft = "point", qt = "none", Ht = { NORMAL: "normal", WEAK_MAGNET: "weak_magnet", STRONG_MAGNET: "strong_magnet" }, Vt = function (t) { k(i, t); var e = E(i); function i(t) { var n, r = t.id, a = t.name, o = t.totalStep, s = t.chartData, h = t.xAxis, u = t.yAxis, l = t.points, c = t.styles, f = t.lock, d = t.data; return g(this, i), (n = e.call(this, { id: r, chartData: s, xAxis: h, yAxis: u }))._name = a, n._totalStep = o, n._lock = f, n._mode = Ht.NORMAL, n._data = d, n._drawStep = 1, n._points = [], n.setPoints(l), n.setStyles(c, s.styleOptions().shape), n._prevPressPoint = null, n._prevPoints = null, n._coordinates = [], n } return _(i, [{ key: "setPoints", value: function (t) { if (I(t) && t.length > 0) { var e; this._totalStep - 1 > t.length ? (this._drawStep = t.length + 1, this._points = P(t), e = t.length) : (this._drawStep = -1, this._points = t.slice(0, this._totalStep - 1), e = this._totalStep - 1); for (var i = 0; e > i; i++)this.performEventMoveForDrawing({ step: i + 2, mode: this._mode, points: this._points, movePoint: this._points[i], xAxis: this._xAxis, yAxis: this._yAxis }); -1 === this._drawStep && this.performEventPressedMove({ mode: this._mode, points: this._points, pressPointIndex: this._points.length - 1, pressPoint: this._points[this._points.length - 1], xAxis: this._xAxis, yAxis: this._yAxis }) } } }, { key: "_timestampOrDataIndexToCoordinateX", value: function (t) { var e = t.timestamp, i = t.dataIndex; return e && (i = this._chartData.timeScaleStore().timestampToDataIndex(e)), this._xAxis.convertToPixel(i) } }, { key: "_drawLines", value: function (t, e, i, n) { t.save(), t.strokeStyle = i.color || n.color, t.lineWidth = i.size || n.size, i.style === q && t.setLineDash(i.dashValue || n.dashValue), e.forEach((function (e) { var i, n; if (e.length > 1) switch ((i = e[0]).x === (n = e[1]).x ? 2 : i.y === n.y ? 1 : 0) { case 0: jt(t, e); break; case 1: Rt(t, e[0].y, e[0].x, e[1].x); break; case 2: Lt(t, e[0].x, e[0].y, e[1].y) } })), t.restore() } }, { key: "_drawContinuousLines", value: function (t, e, i, n) { t.save(), t.strokeStyle = i.color || n.color, t.lineWidth = i.size || n.size, i.style === q && t.setLineDash(i.dashValue || n.dashValue), e.forEach((function (e) { e.length > 0 && jt(t, e) })), t.restore() } }, { key: "_drawPolygons", value: function (t, e, i, n) { var r; if (t.save(), i.style === F) t.fillStyle = (i.fill || n.fill).color, r = Ot; else { var a = i.stroke || n.stroke; a.style === q && t.setLineDash(a.dashValue), t.lineWidth = a.size, t.strokeStyle = a.color, r = It } e.forEach((function (e) { e.length > 0 && r(t, e) })), t.restore() } }, { key: "_drawArcs", value: function (t, e, i, n) { if (t.save(), i.style === F) t.fillStyle = (i.fill || n.fill).color; else { var r = i.stroke || n.stroke; r.style === q && t.setLineDash(r.dashValue), t.lineWidth = r.size, t.strokeStyle = r.color } e.forEach((function (e) { var n = e.x, r = e.y, a = e.radius, o = e.startAngle, s = e.endAngle; t.beginPath(), t.arc(n, r, a, o, s), i.style === F ? (t.closePath(), t.fill()) : (t.stroke(), t.closePath()) })), t.restore() } }, { key: "_drawText", value: function (t, e, i, n) { var r; t.save(), i.style === N ? (t.strokeStyle = i.color || n.color, r = t.strokeText) : (t.fillStyle = i.color || n.color, r = t.fillText), t.font = Nt(i.size || n.size, i.family || n.family, i.weight || n.weight); var a = i.offset || n.offset || [0, 0]; e.forEach((function (e) { r.call(t, e.text, e.x + a[1], e.y + a[0]) })), t.restore() } }, { key: "draw", value: function (t) { var e = this; this._coordinates = this._points.map((function (t) { var i = t.value; return { x: e._timestampOrDataIndexToCoordinateX({ timestamp: t.timestamp, dataIndex: t.dataIndex }), y: e._yAxis.convertToPixel(i) } })); var i = this._styles || this._chartData.styleOptions().shape; if (1 !== this._drawStep && this._coordinates.length > 0) { var n = { width: this._xAxis.width(), height: this._yAxis.height() }, r = { price: this._chartData.pricePrecision(), volume: this._chartData.volumePrecision() }; this._shapeDataSources = this.createShapeDataSource({ step: this._drawStep, mode: this._mode, points: this._points, coordinates: this._coordinates, viewport: { width: this._xAxis.width(), height: this._yAxis.height() }, precision: { price: this._chartData.pricePrecision(), volume: this._chartData.volumePrecision() }, styles: i, xAxis: this._xAxis, yAxis: this._yAxis, data: this._data }) || [], this._shapeDataSources.forEach((function (n) { var r = n.styles, a = n.dataSource, o = void 0 === a ? [] : a; if (n.isDraw) switch (n.type) { case "line": e._drawLines(t, o, r || i.line, i.line); break; case "continuous_line": e._drawContinuousLines(t, o, r || i.line, i.line); break; case "polygon": e._drawPolygons(t, o, r || i.polygon, i.polygon); break; case "arc": e._drawArcs(t, o, r || i.arc, i.arc); break; case "text": e._drawText(t, o, r || i.text, i.text) } })), this.drawExtend && (t.save(), this.drawExtend({ ctx: t, dataSource: this._shapeDataSources, styles: i, viewport: n, precision: r, mode: this._mode, xAxis: this._xAxis, yAxis: this._yAxis, data: this._data }), t.restore()) } var a = this._chartData.shapeStore().mouseOperate(); (a.hover.id === this._id && a.hover.element !== qt || a.click.id === this._id && a.click.element !== qt || this.isDrawing()) && this._coordinates.forEach((function (n, r) { var o = n.x, s = n.y, h = i.point.radius, u = i.point.backgroundColor, l = i.point.borderColor, c = i.point.borderSize; a.hover.id === e._id && a.hover.element === Ft && r === a.hover.elementIndex && (h = i.point.activeRadius, u = i.point.activeBackgroundColor, l = i.point.activeBorderColor, c = i.point.activeBorderSize), wt(t, l, { x: o, y: s }, h + c), wt(t, u, { x: o, y: s }, h) })) } }, { key: "setLock", value: function (t) { this._lock = t } }, { key: "name", value: function () { return this._name } }, { key: "lock", value: function () { return this._lock } }, { key: "totalStep", value: function () { return this._totalStep } }, { key: "mode", value: function () { return this._mode } }, { key: "setMode", value: function (t) { Object.values(Ht).indexOf > -1 && (this._mode = t) } }, { key: "setData", value: function (t) { return t !== this._data && (this._data = t, !0) } }, { key: "data", value: function () { return this._data } }, { key: "points", value: function () { return this._points } }, { key: "isDrawing", value: function () { return -1 !== this._drawStep } }, { key: "isStart", value: function () { return 1 === this._drawStep } }, { key: "checkEventCoordinateOn", value: function (t) { for (var e = this._styles || this._chartData.styleOptions().shape, i = this._coordinates.length - 1; i > -1; i--)if (Tt(this._coordinates[i], e.point.radius, t)) return { id: this._id, element: Ft, elementIndex: i, instance: this }; if (this._shapeDataSources) { var n, r = T(this._shapeDataSources); try { for (r.s(); !(n = r.n()).done;) { var a = n.value, o = a.key, s = a.type, h = a.dataSource, u = void 0 === h ? [] : h; if (a.isCheck) for (var l = 0; u.length > l; l++)if (this.checkEventCoordinateOnShape({ key: o, type: s, dataSource: u[l], eventCoordinate: t })) return { id: this._id, element: "other", elementIndex: l, instance: this } } } catch (t) { r.e(t) } finally { r.f() } } } }, { key: "_performValue", value: function (t, e, i) { var n = this._yAxis.convertFromPixel(t); if (this._mode === Ht.NORMAL || "candle_pane" !== i) return n; var r = this._chartData.timeScaleStore().getDataByDataIndex(e); if (!r) return n; if (n > r.high) { if (this._mode === Ht.WEAK_MAGNET) { var a = this._yAxis.convertToPixel(r.high); return this._yAxis.convertFromPixel(a - 8) > n ? r.high : n } return r.high } if (r.low > n) { if (this._mode === Ht.WEAK_MAGNET) { var o = this._yAxis.convertToPixel(r.low); return n > this._yAxis.convertFromPixel(o - 8) ? r.low : n } return r.low } var s = Math.max(r.open, r.close); if (n > s) return r.high - n > n - s ? s : r.high; var h = Math.min(r.open, r.close); return h > n ? h - n > n - r.low ? r.low : h : n - h > s - n ? s : h } }, { key: "mouseMoveForDrawing", value: function (t, e) { var i = this._xAxis.convertFromPixel(t.x), n = this._chartData.timeScaleStore().dataIndexToTimestamp(i), r = this._performValue(t.y, i, e.paneId); this._points[this._drawStep - 1] = { timestamp: n, value: r, dataIndex: i }, this.performEventMoveForDrawing({ step: this._drawStep, mode: this._mode, points: this._points, movePoint: { timestamp: n, value: r, dataIndex: i }, xAxis: this._xAxis, yAxis: this._yAxis }), this.onDrawing({ id: this._id, step: this._drawStep, points: this._points }) } }, { key: "mouseLeftButtonDownForDrawing", value: function () { this._drawStep === this._totalStep - 1 ? (this._drawStep = -1, this._chartData.shapeStore().progressInstanceComplete(), this.onDrawEnd({ id: this._id, points: this._points })) : this._drawStep++ } }, { key: "mousePressedPointMove", value: function (t, e) { var i = this._chartData.shapeStore().mouseOperate(), n = i.click.elementIndex; if (!this._lock && i.click.id === this._id && i.click.element === Ft && -1 !== n) { var r = this._xAxis.convertFromPixel(t.x), a = this._chartData.timeScaleStore().dataIndexToTimestamp(r), o = this._performValue(t.y, r, e.paneId); this._points[n].timestamp = a, this._points[n].dataIndex = r, this._points[n].value = o, this.performEventPressedMove({ points: this._points, mode: this._mode, pressPointIndex: n, pressPoint: { dataIndex: r, timestamp: a, value: o }, xAxis: this._xAxis, yAxis: this._yAxis }), this.onPressedMove({ id: i.click.id, points: this._points, event: e }) } } }, { key: "startPressedOtherMove", value: function (t) { var e = this._xAxis.convertFromPixel(t.x), i = this._yAxis.convertFromPixel(t.y); this._prevPressPoint = { dataIndex: e, value: i }, this._prevPoints = P(this._points) } }, { key: "mousePressedOtherMove", value: function (t) { var e = this; if (this._prevPressPoint) { var i = this._xAxis.convertFromPixel(t.x), n = this._yAxis.convertFromPixel(t.y), r = i - this._prevPressPoint.dataIndex, a = n - this._prevPressPoint.value; this._points = this._prevPoints.map((function (t) { j(t.dataIndex) || (t.dataIndex = e._chartData.timeScaleStore().timestampToDataIndex(t.timestamp)); var i = t.dataIndex + r; return { dataIndex: i, value: t.value + a, timestamp: e._chartData.timeScaleStore().dataIndexToTimestamp(i) } })) } } }, { key: "onDrawStart", value: function (t) { } }, { key: "onDrawing", value: function (t) { } }, { key: "onDrawEnd", value: function (t) { } }, { key: "onPressedMove", value: function (t) { } }, { key: "onRemove", value: function (t) { } }, { key: "checkEventCoordinateOnShape", value: function (t) { } }, { key: "createShapeDataSource", value: function (t) { } }, { key: "performEventMoveForDrawing", value: function (t) { } }, { key: "performEventPressedMove", value: function (t) { } }]), i }(_t), Ut = function () { function t(e) { g(this, t), this._chartData = e, this._templates = this._createTemplates(), this._mouseOperate = { click: { id: "", element: qt, elementIndex: -1 }, hover: { id: "", element: qt, elementIndex: -1 } }, this._progressInstance = null, this._pressedInstance = null, this._instances = new Map } return _(t, [{ key: "_createTemplates", value: function () { var t = {}, e = p.shapeExtensions; for (var i in e) { var n = this._createTemplateClass(e[i]); n && (t[i] = n) } return t } }, { key: "_createTemplateClass", value: function (t) { var e = t.name, i = t.totalStep, n = t.checkEventCoordinateOnShape, r = t.createShapeDataSource, a = t.performEventPressedMove, o = t.performEventMoveForDrawing, s = t.drawExtend; if (!(e && L(i) && O(n) && O(r))) return null; var h = function (t) { k(r, t); var n = E(r); function r(t) { var a = t.id, o = t.chartData, s = t.xAxis, h = t.yAxis, u = t.points, l = t.styles, c = t.lock, f = t.data; return g(this, r), n.call(this, { id: a, name: e, totalStep: i, chartData: o, xAxis: s, yAxis: h, points: u, styles: l, lock: c, data: f }) } return r }(Vt); return h.prototype.checkEventCoordinateOnShape = n, h.prototype.createShapeDataSource = r, O(a) && (h.prototype.performEventPressedMove = a), O(o) && (h.prototype.performEventMoveForDrawing = o), O(s) && (h.prototype.drawExtend = s), h } }, { key: "addTemplate", value: function (t) { var e = this; t.forEach((function (t) { var i = e._createTemplateClass(t); i && (e._templates[t.name] = i) })) } }, { key: "getTemplate", value: function (t) { return this._templates[t] } }, { key: "getInstance", value: function (t) { var e, i = T(this._instances); try { for (i.s(); !(e = i.n()).done;) { var n = (e.value[1] || []).find((function (e) { return e.id() === t })); if (n) return n } } catch (t) { i.e(t) } finally { i.f() } return null } }, { key: "hasInstance", value: function (t) { return !!this.getInstance(t) } }, { key: "addInstance", value: function (t, e) { t.isDrawing() ? this._progressInstance = { paneId: e, instance: t, fixed: j(e) } : (this._instances.has(e) || this._instances.set(e, []), this._instances.get(e).push(t)), this._chartData.invalidate(1) } }, { key: "progressInstance", value: function () { return this._progressInstance || {} } }, { key: "progressInstanceComplete", value: function () { var t = this.progressInstance(), e = t.instance, i = t.paneId; e && !e.isDrawing() && (this._instances.has(i) || this._instances.set(i, []), this._instances.get(i).push(e), this._progressInstance = null) } }, { key: "updateProgressInstance", value: function (t, e) { var i = this.progressInstance(), n = i.instance; n && !i.fixed && (n.setYAxis(t), this._progressInstance.paneId = e) } }, { key: "pressedInstance", value: function () { return this._pressedInstance || {} } }, { key: "updatePressedInstance", value: function (t, e, i) { this._pressedInstance = t ? { instance: t, paneId: e, element: i } : null } }, { key: "instances", value: function (t) { return this._instances.get(t) || [] } }, { key: "setInstanceOptions", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = t.id, i = t.styles, n = t.lock, r = t.mode, a = t.data, o = this._chartData.styleOptions().shape, s = !1; if (j(e)) { var h = this.getInstance(e); h && (h.setLock(n), h.setMode(r), (h.setStyles(i, o) || h.setData(a)) && (s = !0)) } else this._instances.forEach((function (t) { t.forEach((function (t) { t.setLock(n), t.setMode(r), (t.setStyles(i, o) || t.setData(a)) && (s = !0) })) })); s && this._chartData.invalidate(1) } }, { key: "getInstanceInfo", value: function (t) { var e = function (t) { return { name: t.name(), id: t.id(), totalStep: t.totalStep(), lock: t.lock(), mode: t.mode(), points: t.points(), styles: t.styles(), data: t.data() } }, i = this.progressInstance(); if (!j(t)) { var n = {}; return this._instances.forEach((function (t, r) { n[r] = t.map((function (t) { return e(t) })), i.paneId === r && i.instance && n[r].push(e(i.instance)) })), n } if (i.instance && i.instance.id() === t) return e(i.instance); var r = this.getInstance(t); return r ? e(r) : null } }, { key: "removeInstance", value: function (t) { var e = !1, i = this.progressInstance().instance; if (!i || j(t) && i.id() !== t || (i.onRemove({ id: i.id() }), this._progressInstance = null, e = !0), j(t)) { var n, r = T(this._instances); try { for (r.s(); !(n = r.n()).done;) { var a = n.value, o = a[1] || [], s = o.findIndex((function (e) { return e.id() === t })); if (s > -1) { o[s].onRemove({ id: o[s].id() }), o.splice(s, 1), 0 === o.length && this._instances.delete(a[0]), e = !0; break } } } catch (t) { r.e(t) } finally { r.f() } } else this._instances.forEach((function (t) { t.length > 0 && t.forEach((function (t) { t.onRemove({ id: t.id() }) })) })), this._instances.clear(), e = !0; e && this._chartData.invalidate(1) } }, { key: "mouseOperate", value: function () { return this._mouseOperate } }, { key: "setMouseOperate", value: function (t) { var e = this._mouseOperate, i = e.hover, n = e.click; !t.hover || i.id === t.hover.id && i.element === t.hover.element && i.elementIndex === t.hover.elementIndex || (this._mouseOperate.hover = v({}, t.hover)), !t.click || n.id === t.click.id && n.element === t.click.element && n.elementIndex === t.click.elementIndex || (this._mouseOperate.click = v({}, t.click)) } }, { key: "isEmpty", value: function () { return 0 === this._instances.size && !this.progressInstance().instance } }, { key: "isDrawing", value: function () { var t = this.progressInstance().instance; return t && t.isDrawing() } }, { key: "isPressed", value: function () { return !!this.pressedInstance().instance } }]), t }(), Wt = function () { function t(e) { g(this, t), this._chartData = e, this._annotations = new Map, this._visibleAnnotations = new Map, this._mouseOperate = { id: "" } } return _(t, [{ key: "mouseOperate", value: function () { return this._mouseOperate } }, { key: "setMouseOperate", value: function (t) { t && this._mouseOperate.id !== t.id && (this._mouseOperate = v({}, t)) } }, { key: "createVisibleAnnotations", value: function () { var t = this; this._visibleAnnotations.clear(), this._annotations.size > 0 && this._chartData.visibleDataList().forEach((function (e) { var i = e.data, n = e.x; t._annotations.forEach((function (e, r) { if (e.size > 0) { var a = e.get(i.timestamp) || []; if (a.length > 0) { var o, s = T(a); try { for (s.s(); !(o = s.n()).done;) { var h = o.value; h.createSymbolCoordinate(n), t._visibleAnnotations.has(r) ? t._visibleAnnotations.get(r).push(h) : t._visibleAnnotations.set(r, [h]) } } catch (t) { s.e(t) } finally { s.f() } } } })) })) } }, { key: "add", value: function (t, e) { var i = this; this._annotations.has(e) || this._annotations.set(e, new Map), t.forEach((function (t) { var n = i._annotations.get(e); n.has(t.id()) ? n.get(t.id()).push(t) : n.set(t.id(), [t]) })), this.createVisibleAnnotations(), this._chartData.invalidate(1) } }, { key: "get", value: function (t) { return this._visibleAnnotations.get(t) } }, { key: "remove", value: function (t, e) { var i = !1; if (j(t)) { if (this._annotations.has(t)) if (j(e)) { var n = this._annotations.get(t);[].concat(e).forEach((function (t) { var e = t.timestamp; n.has(e) && (i = !0, n.delete(e)) })), 0 === n.size && this._annotations.delete(t), i && this.createVisibleAnnotations() } else i = !0, this._annotations.delete(t), this._visibleAnnotations.delete(t) } else i = !0, this._annotations.clear(), this._visibleAnnotations.clear(); i && this._chartData.invalidate(1) } }, { key: "isEmpty", value: function () { return 0 === this._visibleAnnotations.size } }]), t }(), Yt = function () { function t(e) { g(this, t), this._chartData = e, this._tags = new Map } return _(t, [{ key: "_getById", value: function (t, e) { var i = this.get(e); return i ? i.get(t) : null } }, { key: "has", value: function (t, e) { return !!this._getById(t, e) } }, { key: "update", value: function (t, e, i) { var n = this._getById(t, e); return !!n && n.update(i) } }, { key: "get", value: function (t) { return this._tags.get(t) } }, { key: "add", value: function (t, e) { this._tags.has(e) || this._tags.set(e, new Map); var i = this._tags.get(e); t.forEach((function (t) { i.set(t.id(), t) })), this._chartData.invalidate(1) } }, { key: "remove", value: function (t, e) { var i = !1; if (j(t)) { if (this._tags.has(t)) if (j(e)) { var n = this._tags.get(t);[].concat(e).forEach((function (t) { n.has(t) && (i = !0, n.delete(t)) })), 0 === n.size && this._tags.delete(t) } else i = !0, this._tags.delete(t) } else i = !0, this._tags.clear(); i && this._chartData.invalidate(1) } }]), t }(), Kt = function () { function t(e) { g(this, t), this._chartData = e, this._crosshair = {} } return _(t, [{ key: "set", value: function (t, e) { var i, n, r = this._chartData.dataList(), a = t || {}, o = r[n = j(a.x) ? 0 > (i = this._chartData.timeScaleStore().coordinateToDataIndex(a.x)) ? 0 : i > r.length - 1 ? r.length - 1 : i : i = r.length - 1], s = this._chartData.timeScaleStore().dataIndexToCoordinate(i), h = this._crosshair.x, u = this._crosshair.y, l = this._crosshair.paneId; this._crosshair = v(v({}, a), {}, { realX: s, kLineData: o, realDataIndex: i, dataIndex: n }), a.paneId && o && this._chartData.crosshairChange({ realDataIndex: i, dataIndex: n, kLineData: o, x: a.x, y: a.y }), h === a.x && u === a.y && l === a.paneId || e || this._chartData.invalidate(1) } }, { key: "recalculate", value: function (t) { this.set(this._crosshair, t) } }, { key: "get", value: function () { return this._crosshair } }]), t }(), Zt = function () { function t() { g(this, t), this._observers = [] } return _(t, [{ key: "subscribe", value: function (t) { 0 > this._observers.indexOf(t) && this._observers.push(t) } }, { key: "unsubscribe", value: function (t) { var e = this._observers.indexOf(t); e > -1 ? this._observers.splice(e, 1) : this._observers = [] } }, { key: "execute", value: function (t) { this._observers.forEach((function (e) { e(t) })) } }, { key: "hasObservers", value: function () { return this._observers.length > 0 } }]), t }(), Xt = function () { function t() { g(this, t), this._delegates = new Map } return _(t, [{ key: "execute", value: function (t, e) { this.has(t) && this._delegates.get(t).execute(e) } }, { key: "has", value: function (t) { return this._delegates.has(t) && this._delegates.get(t).hasObservers() } }, { key: "subscribe", value: function (t, e) { return Object.values(lt).indexOf(t) >= 0 && (this._delegates.has(t) || this._delegates.set(t, new Zt), this._delegates.get(t).subscribe(e), !0) } }, { key: "unsubscribe", value: function (t, e) { if (0 > Object.values(lt).indexOf(t)) return !1; if (this._delegates.has(t)) { var i = this._delegates.get(t); return i.unsubscribe(e), i.hasObservers() || this._delegates.delete(t), !0 } return !1 } }]), t }(), Gt = function () { function t(e, i) { g(this, t), this._handler = i, this._styleOptions = P(tt), C(this._styleOptions, e), this._pricePrecision = 2, this._volumePrecision = 0, this._dataList = [], this._visibleDataList = [], this._dragPaneFlag = !1, this._timeScaleStore = new ct(this), this._technicalIndicatorStore = new gt(this), this._shapeStore = new Ut(this), this._annotationStore = new Wt(this), this._tagStore = new Yt(this), this._crosshairStore = new Kt(this), this._actionStore = new Xt } return _(t, [{ key: "adjustVisibleDataList", value: function () { this._visibleDataList = []; for (var t = this._timeScaleStore.from(), e = this._timeScaleStore.to(), i = t; e > i; i++) { var n = this._dataList[i], r = this._timeScaleStore.dataIndexToCoordinate(i); this._visibleDataList.push({ index: i, x: r, data: n }) } this._annotationStore.createVisibleAnnotations() } }, { key: "styleOptions", value: function () { return this._styleOptions } }, { key: "applyStyleOptions", value: function (t) { C(this._styleOptions, t) } }, { key: "pricePrecision", value: function () { return this._pricePrecision } }, { key: "volumePrecision", value: function () { return this._volumePrecision } }, { key: "setPriceVolumePrecision", value: function (t, e) { this._pricePrecision = t, this._volumePrecision = e, this._technicalIndicatorStore.setSeriesPrecision(t, e) } }, { key: "dataList", value: function () { return this._dataList } }, { key: "visibleDataList", value: function () { return this._visibleDataList } }, { key: "addData", value: function (t, e, i) { if (R(t)) { if (I(t)) { this._timeScaleStore.setLoading(!1), this._timeScaleStore.setMore(!B(i) || i); var n = 0 === this._dataList.length; this._dataList = t.concat(this._dataList), n && this._timeScaleStore.resetOffsetRightSpace(), this._timeScaleStore.adjustFromTo() } else if (e < this._dataList.length) this._dataList[e] = t, this.adjustVisibleDataList(); else { this._dataList.push(t); var r = this._timeScaleStore.offsetRightBarCount(); 0 > r && this._timeScaleStore.setOffsetRightBarCount(--r), this._timeScaleStore.adjustFromTo() } this._crosshairStore.recalculate(!0) } } }, { key: "clearDataList", value: function () { this._dataList = [], this._visibleDataList = [], this._timeScaleStore.clear() } }, { key: "timeScaleStore", value: function () { return this._timeScaleStore } }, { key: "technicalIndicatorStore", value: function () { return this._technicalIndicatorStore } }, { key: "shapeStore", value: function () { return this._shapeStore } }, { key: "annotationStore", value: function () { return this._annotationStore } }, { key: "tagStore", value: function () { return this._tagStore } }, { key: "crosshairStore", value: function () { return this._crosshairStore } }, { key: "actionStore", value: function () { return this._actionStore } }, { key: "invalidate", value: function (t) { this._handler.invalidate(t) } }, { key: "crosshairChange", value: function (t) { this._handler.crosshair(t) } }, { key: "dragPaneFlag", value: function () { return this._dragPaneFlag } }, { key: "setDragPaneFlag", value: function (t) { this._dragPaneFlag = t } }]), t }(); function Jt(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = document.createElement(t); for (var n in e) i.style[n] = e[n]; return i } var $t = function () { function t(e) { g(this, t), this._height = -1, this._container = e.container, this._chartData = e.chartData, this._initBefore(e), this._initElement(), this._mainWidget = this._createMainWidget(this._element, e), this._yAxisWidget = this._createYAxisWidget(this._element, e) } return _(t, [{ key: "_initBefore", value: function (t) { } }, { key: "_initElement", value: function () { this._element = Jt("div", { width: "100%", margin: "0", padding: "0", position: "relative", overflow: "hidden" }); var t = this._container.lastChild; t ? this._container.insertBefore(this._element, t) : this._container.appendChild(this._element) } }, { key: "_createMainWidget", value: function (t, e) { } }, { key: "_createYAxisWidget", value: function (t, e) { } }, { key: "width", value: function () { return this._element.offsetWidth } }, { key: "setWidth", value: function (t, e) { this._mainWidget.setWidth(t), this._yAxisWidget && this._yAxisWidget.setWidth(e) } }, { key: "height", value: function () { return this._height } }, { key: "setHeight", value: function (t) { this._height = t, this._mainWidget.setHeight(t), this._yAxisWidget && this._yAxisWidget.setHeight(t) } }, { key: "setOffsetLeft", value: function (t, e) { this._mainWidget.setOffsetLeft(t), this._yAxisWidget && this._yAxisWidget.setOffsetLeft(e) } }, { key: "layout", value: function () { this._element.offsetHeight !== this._height && (this._element.style.height = "".concat(this._height, "px")), this._mainWidget.layout(), this._yAxisWidget && this._yAxisWidget.layout() } }, { key: "invalidate", value: function (t) { this._yAxisWidget && this._yAxisWidget.invalidate(t), this._mainWidget.invalidate(t) } }, { key: "getImage", value: function (t) { var e = this._element.offsetWidth, i = this._element.offsetHeight, n = Jt("canvas", { width: "".concat(e, "px"), height: "".concat(i, "px") }), r = n.getContext("2d"), a = Bt(n); n.width = e * a, n.height = i * a, r.scale(a, a); var o = this._mainWidget.getElement(), s = o.offsetWidth, h = o.offsetHeight, u = parseInt(o.style.left, 10); if (r.drawImage(this._mainWidget.getImage(t), u, 0, s, h), this._yAxisWidget) { var l = this._yAxisWidget.getElement(), c = l.offsetWidth, f = l.offsetHeight, d = parseInt(l.style.left, 10); r.drawImage(this._yAxisWidget.getImage(t), d, 0, c, f) } return n } }, { key: "destroy", value: function () { this._container.removeChild(this._element) } }]), t }(), Qt = function () { function t(e) { g(this, t), this._width = 0, this._height = 0, this._initElement(e.container), this._mainView = this._createMainView(this._element, e), this._overlayView = this._createOverlayView(this._element, e) } return _(t, [{ key: "_initElement", value: function (t) { this._element = Jt("div", { margin: "0", padding: "0", position: "absolute", top: "0", overflow: "hidden" }), t.appendChild(this._element) } }, { key: "_createMainView", value: function (t, e) { } }, { key: "_createOverlayView", value: function (t, e) { } }, { key: "getElement", value: function () { return this._element } }, { key: "setWidth", value: function (t) { this._width = t, this._mainView.setWidth(t), this._overlayView.setWidth(t) } }, { key: "setHeight", value: function (t) { this._height = t, this._mainView.setHeight(t), this._overlayView.setHeight(t) } }, { key: "setOffsetLeft", value: function (t) { this._element.style.left = "".concat(t, "px") } }, { key: "layout", value: function () { this._element.offsetWidth !== this._width && (this._element.style.width = "".concat(this._width, "px")), this._element.offsetHeight !== this._height && (this._element.style.height = "".concat(this._height, "px")), this._mainView.layout(), this._overlayView.layout() } }, { key: "invalidate", value: function (t) { switch (t) { case 1: this._overlayView.flush(); break; case 2: case 3: this._mainView.flush(), this._overlayView.flush() } } }, { key: "getImage", value: function (t) { var e = Jt("canvas", { width: "".concat(this._width, "px"), height: "".concat(this._height, "px") }), i = e.getContext("2d"), n = Bt(e); return e.width = this._width * n, e.height = this._height * n, i.scale(n, n), i.drawImage(this._mainView.getImage(), 0, 0, this._width, this._height), t && this._overlayView && i.drawImage(this._overlayView.getImage(), 0, 0, this._width, this._height), e } }]), t }(); function te(t) { return window.requestAnimationFrame ? window.requestAnimationFrame(t) : window.setTimeout(t, 20) } var ee = function () { function t(e, i) { g(this, t), this._chartData = i, this._initCanvas(e) } return _(t, [{ key: "_initCanvas", value: function (t) { this._canvas = Jt("canvas", { position: "absolute", top: "0", left: "0", zIndex: "2" }), this._ctx = this._canvas.getContext("2d"), t.appendChild(this._canvas) } }, { key: "_redraw", value: function (t) { this._ctx.clearRect(0, 0, this._canvas.offsetWidth, this._canvas.offsetHeight), t && t(), this._draw() } }, { key: "_draw", value: function () { } }, { key: "setWidth", value: function (t) { this._width = t } }, { key: "setHeight", value: function (t) { this._height = t } }, { key: "layout", value: function () { var t = this; this._height !== this._canvas.offsetHeight || this._width !== this._canvas.offsetWidth ? this._redraw((function () { var e = Bt(t._canvas); t._canvas.style.width = "".concat(t._width, "px"), t._canvas.style.height = "".concat(t._height, "px"), t._canvas.width = Math.floor(t._width * e), t._canvas.height = Math.floor(t._height * e), t._ctx.scale(e, e) })) : this.flush() } }, { key: "flush", value: function () { var t, e = this; this.requestAnimationId && (t = this.requestAnimationId, window.cancelAnimationFrame || clearTimeout(t), window.cancelAnimationFrame(t), this.requestAnimationId = null), this.requestAnimationId = te((function () { e._redraw() })) } }, { key: "getImage", value: function () { return this._canvas } }]), t }(), ie = function (t) { k(i, t); var e = E(i); function i(t, n, r, a, o) { var s; return g(this, i), (s = e.call(this, t, n))._xAxis = r, s._yAxis = a, s._paneId = o, s } return _(i, [{ key: "_draw", value: function () { this._ctx.globalCompositeOperation = "destination-over", this._drawContent() } }, { key: "_drawContent", value: function () { this._drawTechs(), this._drawGrid() } }, { key: "_drawGrid", value: function () { var t = this, e = this._chartData.styleOptions().grid; if (e.show) { var i = e.horizontal; this._ctx.save(), i.show && (this._ctx.strokeStyle = i.color, this._ctx.lineWidth = i.size, this._ctx.setLineDash(i.style === q ? i.dashValue : []), this._yAxis.ticks().forEach((function (e) { Rt(t._ctx, e.y, 0, t._width) }))); var n = e.vertical; n.show && (this._ctx.strokeStyle = n.color, this._ctx.lineWidth = n.size, this._ctx.setLineDash(n.style === q ? n.dashValue : []), this._xAxis.ticks().forEach((function (e) { Lt(t._ctx, e.x, 0, t._height) }))), this._ctx.restore() } } }, { key: "_drawTechs", value: function () { var t = this; this._ctx.globalCompositeOperation = "source-over"; var e = this._chartData.styleOptions().technicalIndicator; this._chartData.technicalIndicatorStore().instances(this._paneId).forEach((function (i) { var n = i.plots, r = [], a = t._chartData.dataList(), o = i.result, s = i.styles || e; i.render && (t._ctx.save(), i.render({ ctx: t._ctx, dataSource: { from: t._chartData.timeScaleStore().from(), to: t._chartData.timeScaleStore().to(), kLineDataList: t._chartData.dataList(), technicalIndicatorDataList: o }, viewport: { width: t._width, height: t._height, dataSpace: t._chartData.timeScaleStore().dataSpace(), barSpace: t._chartData.timeScaleStore().barSpace() }, styles: s, xAxis: t._xAxis, yAxis: t._yAxis }), t._ctx.restore()); var h = t._yAxis.isCandleYAxis(); t._ctx.lineWidth = 1, t._drawGraphics((function (e, u, l, c, f) { var d = o[u] || {}, p = 0; i.shouldOhlc && !h && t._drawCandleBar(e, c, f, u, l, s.bar, "ohlc"), n.forEach((function (i) { var n = d[i.key], h = t._yAxis.convertToPixel(n); switch (i.type) { case pt: if (j(n)) { var f = { prev: { kLineData: a[u - 1], technicalIndicatorData: o[u - 1] }, current: { kLineData: l, technicalIndicatorData: d }, next: { kLineData: a[u + 1], technicalIndicatorData: o[u + 1] } }; t._drawCircle({ x: e, y: h, radius: c, color: i.color && i.color(f, s) || s.circle.noChangeColor, isStroke: !i.isStroke || i.isStroke(f) }) } break; case dt: if (j(n)) { var m, v = { prev: { kLineData: a[u - 1], technicalIndicatorData: o[u - 1] }, current: { kLineData: l, technicalIndicatorData: d }, next: { kLineData: a[u + 1], technicalIndicatorData: o[u + 1] } }; m = j(i.baseValue) ? i.baseValue : t._yAxis.min(); var y = t._yAxis.convertToPixel(m), g = Math.abs(y - h), b = { x: e - c, width: 2 * c, height: Math.max(1, g) }; b.y = h > y ? y : 1 > g ? y - 1 : h, b.color = i.color && i.color(v, s) || s.bar.noChangeColor, b.isStroke = !!i.isStroke && i.isStroke(v), t._drawBar(b) } break; case ft: var _ = null; j(n) && (_ = { x: e, y: h }), r[p] ? r[p].push(_) : r[p] = [_], p++ } })) }), (function () { t._drawLines(r, s) })) })), this._ctx.globalCompositeOperation = "destination-over" } }, { key: "_drawGraphics", value: function (t, e) { var i = this._chartData.visibleDataList(), n = this._chartData.timeScaleStore().barSpace(), r = this._chartData.timeScaleStore().halfBarSpace(); i.forEach((function (e, i) { t(e.x, e.index, e.data, r, n, i) })), e && e() } }, { key: "_drawLines", value: function (t, e) { var i = this, n = e.line.colors || [], r = n.length; this._ctx.lineWidth = e.line.size, t.forEach((function (t, e) { i._ctx.strokeStyle = n[e % r], jt(i._ctx, t) })) } }, { key: "_drawBar", value: function (t) { t.isStroke ? (this._ctx.strokeStyle = t.color, this._ctx.strokeRect(t.x + .5, t.y, t.width - 1, t.height)) : (this._ctx.fillStyle = t.color, this._ctx.fillRect(t.x, t.y, t.width, t.height)) } }, { key: "_drawCircle", value: function (t) { this._ctx.strokeStyle = t.color, this._ctx.fillStyle = t.color, this._ctx.beginPath(), this._ctx.arc(t.x, t.y, t.radius, 2 * Math.PI, 0, !0), t.isStroke ? this._ctx.stroke() : this._ctx.fill(), this._ctx.closePath() } }, { key: "_drawCandleBar", value: function (t, e, i, n, r, a, o) { var s = r.open, h = r.close, u = r.high, l = r.low; h > s ? (this._ctx.strokeStyle = a.upColor, this._ctx.fillStyle = a.upColor) : s > h ? (this._ctx.strokeStyle = a.downColor, this._ctx.fillStyle = a.downColor) : (this._ctx.strokeStyle = a.noChangeColor, this._ctx.fillStyle = a.noChangeColor); var c = this._yAxis.convertToPixel(s), f = this._yAxis.convertToPixel(h), d = this._yAxis.convertToPixel(u), p = this._yAxis.convertToPixel(l), m = Math.min(c, f), v = Math.max(c, f); this._ctx.fillRect(t - .5, d, 1, m - d), this._ctx.fillRect(t - .5, v, 1, p - v); var y = Math.max(1, v - m); switch (o) { case Z: this._ctx.fillRect(t - e, m, i, y); break; case "candle_stroke": this._ctx.strokeRect(t - e + .5, m, i - 1, y); break; case "candle_up_stroke": h > s ? this._ctx.strokeRect(t - e + .5, m, i - 1, y) : this._ctx.fillRect(t - e, m, i, y); break; case "candle_down_stroke": h > s ? this._ctx.fillRect(t - e, m, i, y) : this._ctx.strokeRect(t - e + .5, m, i - 1, y); break; default: this._ctx.fillRect(t - .5, d, 1, p - d), this._ctx.fillRect(t - e, c - .5, e, 1), this._ctx.fillRect(t, f - .5, e, 1) } } }]), i }(ee); function ne(t, e, i, n, r) { t.fillStyle = e, t.fillText(r, i, n) } var re = function (t) { k(i, t); var e = E(i); function i(t, n, r, a, o) { var s; return g(this, i), (s = e.call(this, t, n))._xAxis = r, s._yAxis = a, s._paneId = o, s } return _(i, [{ key: "_draw", value: function () { this._ctx.textBaseline = "alphabetic", this._drawTag(), this._drawShape(), this._drawAnnotation(); var t = this._chartData.crosshairStore().get(); if (t.kLineData) { var e = this._chartData.styleOptions().crosshair; t.paneId === this._paneId && this._drawCrosshairLine(e, "horizontal", t.y, 0, this._width, Rt), t.paneId && this._drawCrosshairLine(e, "vertical", t.realX, 0, this._height, Lt), this._drawTooltip(t, this._chartData.technicalIndicatorStore().instances(this._paneId)) } } }, { key: "_drawAnnotation", value: function () { var t = this, e = this._chartData.annotationStore().get(this._paneId); e && e.forEach((function (e) { e.draw(t._ctx) })) } }, { key: "_drawTag", value: function () { var t = this, e = this._chartData.tagStore().get(this._paneId); e && e.forEach((function (e) { e.drawMarkLine(t._ctx) })) } }, { key: "_drawShape", value: function () { var t = this; this._chartData.shapeStore().instances(this._paneId).forEach((function (e) { e.draw(t._ctx) })); var e = this._chartData.shapeStore().progressInstance(); e.paneId === this._paneId && e.instance.draw(this._ctx) } }, { key: "_drawTooltip", value: function (t, e) { var i = this._chartData.styleOptions().technicalIndicator; this._drawBatchTechToolTip(t, e, i, 0, this._shouldDrawTooltip(t, i.tooltip)) } }, { key: "_drawCrosshairLine", value: function (t, e, i, n, r, a) { var o = t[e], s = o.line; t.show && o.show && s.show && (this._ctx.save(), this._ctx.lineWidth = s.size, this._ctx.strokeStyle = s.color, s.style === q && this._ctx.setLineDash(s.dashValue), a(this._ctx, i, n, r), this._ctx.restore()) } }, { key: "_drawBatchTechToolTip", value: function (t, e, i) { var n = this, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, a = arguments.length > 4 ? arguments[4] : void 0; if (a) { var o = i.tooltip, s = r; e.forEach((function (e) { n._drawTechTooltip(t, e, i, s), s += o.text.marginTop + o.text.size + o.text.marginBottom })) } } }, { key: "_drawTechTooltip", value: function (t, e, i) { var n = this, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, a = i.tooltip, o = e.styles || i, s = e.result, h = s[t.dataIndex], u = yt(h, e), l = o.line.colors, c = this._chartData.dataList(), f = { prev: { kLineData: c[t.dataIndex - 1], technicalIndicatorData: s[t.dataIndex - 1] }, current: { kLineData: c[t.dataIndex], technicalIndicatorData: h }, next: { kLineData: c[t.dataIndex + 1], technicalIndicatorData: s[t.dataIndex + 1] } }, d = e.plots, p = a.text, m = u.values, v = p.marginLeft, y = p.marginRight, g = 0, b = p.marginTop + r, _ = p.size, w = p.color, k = l.length; if (this._ctx.textBaseline = "top", this._ctx.font = Nt(_, p.weight, p.family), a.showName) { var M = u.name, x = zt(this._ctx, M); ne(this._ctx, w, g += v, b, M), g += x, a.showParams || (g += y) } if (a.showParams) { var S = u.calcParamText, E = zt(this._ctx, S); a.showName || (g += v), ne(this._ctx, w, g, b, S), g += E + y } var D, A = 0; d.forEach((function (t, e) { switch (t.type) { case pt: D = t.color && t.color(f, o) || o.circle.noChangeColor; break; case dt: D = t.color && t.color(f, o) || o.bar.noChangeColor; break; case ft: D = l[A % k] || w, A++ }var i = m[e].title; if (j(i)) { g += v; var r = "".concat(i).concat(m[e].value || p.defaultValue), a = zt(n._ctx, r); ne(n._ctx, D, g, b, r), g += a + y } })) } }, { key: "_shouldDrawTooltip", value: function (t, e) { var i = e.showRule; return i === G || "follow_cross" === i && !!t.paneId } }]), i }(ee), ae = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_createMainView", value: function (t, e) { return new ie(t, e.chartData, e.xAxis, e.yAxis, e.paneId) } }, { key: "_createOverlayView", value: function (t, e) { return new re(t, e.chartData, e.xAxis, e.yAxis, e.paneId) } }]), i }(Qt); function oe(t, e, i, n, r, a, o, s, h) { he(t, e, r, a, o, s, h), se(t, i, n, r, a, o, s, h) } function se(t, e, i, n, r, a, o, s) { t.lineWidth = i, t.strokeStyle = e, ue(t, n, r, a, o, s), t.stroke() } function he(t, e, i, n, r, a, o) { t.fillStyle = e, ue(t, i, n, r, a, o), t.fill() } function ue(t, e, i, n, r, a) { t.beginPath(), t.moveTo(e + a, i), t.arcTo(e + n, i, e + n, i + r, a), t.arcTo(e + n, i + r, e, i + r, a), t.arcTo(e, i + r, e, i, a), t.arcTo(e, i, e + n, i, a), t.closePath() } var le = function (t) { k(i, t); var e = E(i); function i(t, n, r, a) { var o; return g(this, i), (o = e.call(this, t, n))._yAxis = r, o._paneId = a, o } return _(i, [{ key: "_draw", value: function () { var t = this._chartData.styleOptions().yAxis; t.show && (this._drawAxisLine(t), this._drawTickLines(t), this._drawTickLabels(t), this._drawTechLastValue(), this._drawLastPriceLabel()) } }, { key: "_drawAxisLine", value: function (t) { var e, i = t.axisLine; i.show && (this._ctx.strokeStyle = i.color, this._ctx.lineWidth = i.size, e = this._yAxis.isFromYAxisZero() ? 0 : this._width - 1, Lt(this._ctx, e, 0, this._height)) } }, { key: "_drawTickLines", value: function (t) { var e = this, i = t.tickLine; if (i.show) { this._ctx.lineWidth = i.size, this._ctx.strokeStyle = i.color; var n, r, a = i.length; this._yAxis.isFromYAxisZero() ? (n = 0, t.axisLine.show && (n += t.axisLine.size), r = n + a) : (n = this._width, t.axisLine.show && (n -= t.axisLine.size), r = n - a), this._yAxis.ticks().forEach((function (t) { Rt(e._ctx, t.y, n, r) })) } } }, { key: "_drawTickLabels", value: function (t) { var e = this, i = t.tickText; if (i.show) { var n, r = t.tickLine, a = r.show, o = r.length; this._yAxis.isFromYAxisZero() ? (n = i.paddingLeft, t.axisLine.show && (n += t.axisLine.size), a && (n += o), this._ctx.textAlign = "left") : (n = this._width - i.paddingRight, t.axisLine.show && (n -= t.axisLine.size), a && (n -= o), this._ctx.textAlign = "right"), this._ctx.textBaseline = "middle", this._ctx.font = Nt(i.size, i.weight, i.family), this._ctx.fillStyle = i.color, this._yAxis.ticks().forEach((function (t) { e._ctx.fillText(t.v, n, t.y) })), this._ctx.textAlign = "left" } } }, { key: "_drawTechLastValue", value: function () { var t = this, e = this._chartData.styleOptions().technicalIndicator, i = e.lastValueMark; if (i.show && i.text.show) { var n = this._chartData.technicalIndicatorStore().instances(this._paneId), r = this._chartData.dataList(); n.forEach((function (n) { var a = n.result || [], o = a.length, s = a[o - 1] || {}, h = { prev: { kLineData: r[o - 2], technicalIndicatorData: a[o - 2] }, current: { kLineData: r[o - 1], technicalIndicatorData: s }, next: { kLineData: null, technicalIndicatorData: null } }, u = n.precision, l = n.styles || e, c = l.line.colors || [], f = c.length, d = 0; n.plots.forEach((function (e) { var r, a = s[e.key]; switch (e.type) { case pt: r = e.color && e.color(h, l) || l.circle.noChangeColor; break; case dt: r = e.color && e.color(h, l) || l.bar.noChangeColor; break; case ft: r = c[d % f], d++ }j(a) && t._drawMarkLabel(a, u, n.shouldFormatBigNumber, v(v({}, i.text), {}, { backgroundColor: r })) })) })) } } }, { key: "_drawLastPriceLabel", value: function () { if (this._yAxis.isCandleYAxis()) { var t = this._chartData.styleOptions().candle.priceMark, e = t.last; if (t.show && e.show && e.text.show) { var i = this._chartData.dataList(), n = i[i.length - 1]; if (n) { var r, a = n.close, o = n.open; r = a > o ? e.upColor : o > a ? e.downColor : e.noChangeColor, this._drawMarkLabel(a, this._chartData.pricePrecision(), !1, v(v({}, e.text), {}, { backgroundColor: r })) } } } } }, { key: "_drawMarkLabel", value: function (t, e, i, n) { var r, a = n.size, o = n.weight, s = n.family, h = n.color, u = n.backgroundColor, l = n.borderRadius, c = n.paddingLeft, f = n.paddingTop, d = n.paddingRight, p = n.paddingBottom, m = this._yAxis.convertToNicePixel(t); if (this._yAxis.yAxisType() === Y) { var v = ((this._chartData.visibleDataList()[0] || {}).data || {}).close; r = "".concat(((t - v) / v * 100).toFixed(2), "%") } else r = nt(t, e), i && (r = rt(r)); this._ctx.font = Nt(a, o, s); var y, g = zt(this._ctx, r) + c + d, b = f + a + p; y = this._yAxis.isFromYAxisZero() ? 0 : this._width - g, he(this._ctx, u, y, m - f - a / 2, g, b, l), this._ctx.textBaseline = "middle", ne(this._ctx, h, y + c, m, r) } }]), i }(ee), ce = function (t) { k(i, t); var e = E(i); function i(t, n, r, a) { var o; return g(this, i), (o = e.call(this, t, n))._yAxis = r, o._paneId = a, o } return _(i, [{ key: "_draw", value: function () { this._ctx.textBaseline = "middle", this._drawTag(), this._drawCrossHairLabel() } }, { key: "_drawTag", value: function () { var t = this, e = this._chartData.tagStore().get(this._paneId); e && e.forEach((function (e) { e.drawText(t._ctx) })) } }, { key: "_drawCrossHairLabel", value: function () { var t = this._chartData.crosshairStore().get(); if (t.paneId === this._paneId && 0 !== this._chartData.dataList().length) { var e = this._chartData.styleOptions().crosshair, i = e.horizontal, n = i.text; if (e.show && i.show && n.show) { var r, a = this._yAxis.convertFromPixel(t.y); if (this._yAxis.yAxisType() === Y) { var o = (this._chartData.visibleDataList()[0] || {}).data || {}; r = "".concat(((a - o.close) / o.close * 100).toFixed(2), "%") } else { var s = this._chartData.technicalIndicatorStore().instances(this._paneId), h = 0, u = !1; this._yAxis.isCandleYAxis() ? h = this._chartData.pricePrecision() : s.forEach((function (t) { h = Math.max(t.precision, h), u || (u = t.shouldFormatBigNumber) })), r = nt(a, h), u && (r = rt(r)) } var l = n.size; this._ctx.font = Nt(l, n.weight, n.family); var c, f = zt(this._ctx, r), d = n.paddingLeft, p = n.paddingTop, m = n.borderSize, v = f + 2 * m + d + n.paddingRight, y = l + 2 * m + p + n.paddingBottom; c = this._yAxis.isFromYAxisZero() ? 0 : this._width - v, oe(this._ctx, n.backgroundColor, n.borderColor, m, c, t.y - m - p - l / 2, v, y, n.borderRadius), ne(this._ctx, n.color, c + m + d, t.y, r) } } } }]), i }(ee), fe = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_createMainView", value: function (t, e) { return new le(t, e.chartData, e.yAxis, e.paneId) } }, { key: "_createOverlayView", value: function (t, e) { return new ce(t, e.chartData, e.yAxis, e.paneId) } }]), i }(Qt), de = function () { function t(e) { g(this, t), this._chartData = e, this._width = 0, this._height = 0, this._cacheMinValue = 0, this._cacheMaxValue = 0, this._minValue = 0, this._maxValue = 0, this._range = 0, this._ticks = [], this._initMeasureCanvas() } return _(t, [{ key: "_initMeasureCanvas", value: function () { var t = Jt("canvas"), e = Bt(t); this._measureCtx = t.getContext("2d"), this._measureCtx.scale(e, e) } }, { key: "min", value: function () { return this._minValue } }, { key: "max", value: function () { return this._maxValue } }, { key: "width", value: function () { return this._width } }, { key: "height", value: function () { return this._height } }, { key: "setWidth", value: function (t) { this._width = t } }, { key: "setHeight", value: function (t) { this._height = t } }, { key: "ticks", value: function () { return this._ticks } }, { key: "computeAxis", value: function (t) { var e = this._optimalMinMax(this._computeMinMax()); return this._minValue = e.min, this._maxValue = e.max, this._range = e.range, !(this._cacheMinValue === e.min && this._cacheMaxValue === e.max && !t || (this._cacheMinValue = e.min, this._cacheMaxValue = e.max, this._ticks = this._optimalTicks(this._computeTicks()), 0)) } }, { key: "_computeMinMax", value: function () { } }, { key: "_optimalMinMax", value: function (t) { } }, { key: "_computeTicks", value: function () { var t = []; if (this._range >= 0) { var e = this._computeInterval(this._range), i = e.interval, n = e.precision, r = at(Math.ceil(this._minValue / i) * i, n), a = at(Math.floor(this._maxValue / i) * i, n), o = 0, s = r; if (0 !== i) for (; a >= s;)t[o] = { v: s.toFixed(n) }, ++o, s += i } return t } }, { key: "_optimalTicks", value: function (t) { } }, { key: "_computeInterval", value: function (t) { var e, i, n, r, a = (i = Math.floor(ot(e = t / 8)), e = (1.5 > (r = e / (n = st(i))) ? 1 : 2.5 > r ? 2 : 3.5 > r ? 3 : 4.5 > r ? 4 : 5.5 > r ? 5 : 6.5 > r ? 6 : 8) * n, -20 > i ? e : +e.toFixed(0 > i ? -i : 0)); return { interval: a, precision: function (t) { var e = "" + t, i = e.indexOf("e"); if (i > 0) { var n = +e.slice(i + 1); return 0 > n ? -n : 0 } var r = e.indexOf("."); return 0 > r ? 0 : e.length - 1 - r }(a) } } }]), t }(), pe = function (t) { k(i, t); var e = E(i); function i(t, n, r) { var a; return g(this, i), (a = e.call(this, t))._realRange = 0, a._isCandleYAxis = n, a._paneId = r, a } return _(i, [{ key: "_computeMinMax", value: function () { var t = this, e = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER], i = [], n = !1, r = Number.MAX_SAFE_INTEGER, a = Number.MIN_SAFE_INTEGER, o = Number.MAX_SAFE_INTEGER; this._chartData.technicalIndicatorStore().instances(this._paneId).forEach((function (t) { n || (n = t.shouldOhlc), o = Math.min(o, t.precision), L(t.minValue) && (r = Math.min(r, t.minValue)), L(t.maxValue) && (a = Math.max(a, t.maxValue)), i.push({ plots: t.plots, result: t.result }) })); var s = 4; if (this._isCandleYAxis) { var h = this._chartData.pricePrecision(); s = o !== Number.MAX_SAFE_INTEGER ? Math.min(o, h) : h } else o !== Number.MAX_SAFE_INTEGER && (s = o); var u = this._chartData.visibleDataList(), l = this._chartData.styleOptions().candle, c = l.type === X, f = l.area.value, d = this._isCandleYAxis && !c || !this._isCandleYAxis && n; return u.forEach((function (n) { var r = n.index, a = n.data; d && (e[0] = Math.min(e[0], a.low), e[1] = Math.max(e[1], a.high)), t._isCandleYAxis && c && (e[0] = Math.min(e[0], a[f]), e[1] = Math.max(e[1], a[f])), i.forEach((function (t) { var i = t.result[r] || {}; t.plots.forEach((function (t) { var n = i[t.key]; j(n) && (e[0] = Math.min(e[0], n), e[1] = Math.max(e[1], n)) })) })) })), e[0] !== Number.MAX_SAFE_INTEGER && e[1] !== Number.MIN_SAFE_INTEGER ? (e[0] = Math.min(r, e[0]), e[1] = Math.max(a, e[1])) : (e[0] = 0, e[1] = 10), { min: e[0], max: e[1], precision: s, specifyMin: r, specifyMax: a } } }, { key: "_optimalMinMax", value: function (t) { var e, i, n, r, a = t.precision, o = t.specifyMin, s = t.specifyMax, h = t.min, u = t.max, l = this.yAxisType(); switch (l) { case Y: var c = (this._chartData.visibleDataList()[0] || {}).data || {}; L(c.close) && (h = (h - c.close) / c.close * 100, u = (u - c.close) / c.close * 100), e = .01; break; case K: h = ot(h), u = ot(u), e = .05 * st(-a); break; default: e = st(-a) }if (h === u || e > Math.abs(h - u)) { var f = o === h, d = s === u; h = f ? h : d ? h - 8 * e : h - 4 * e, u = d ? u : f ? u + 8 * e : u + 4 * e } n = (i = this._isCandleYAxis ? this._chartData.styleOptions().candle.margin : this._chartData.styleOptions().technicalIndicator.margin).top > 1 ? i.top / this._height : L(i.top) ? i.top : .2, r = i.bottom > 1 ? i.bottom / this._height : L(i.bottom) ? i.bottom : .1; var p = Math.abs(u - h); return p = Math.abs((u += p * n) - (h -= p * r)), this._realRange = l === K ? Math.abs(st(u) - st(h)) : p, { min: h, max: u, range: p } } }, { key: "_optimalTicks", value: function (t) { var e = this, i = [], n = this.yAxisType(), r = this._chartData.technicalIndicatorStore().instances(this._paneId), a = 0, o = !1; this._isCandleYAxis ? a = this._chartData.pricePrecision() : r.forEach((function (t) { a = Math.max(a, t.precision), o || (o = t.shouldFormatBigNumber) })); var s, h, u = this._chartData.styleOptions().xAxis.tickText.size; return n === K && (s = this._computeInterval(this._realRange)), t.forEach((function (t) { var r, l = t.v, c = e._innerConvertToPixel(+l); switch (n) { case Y: r = "".concat(nt(l, 2), "%"); break; case K: r = at(st(l), s.precision), c = e._innerConvertToPixel(ot(r)), r = nt(r, a); break; default: r = nt(l, a), o && (r = rt(r)) }c > u && e._height - u > c && (h && h - c > 2 * u || !h) && (i.push({ v: r, y: c }), h = c) })), i } }, { key: "_innerConvertToPixel", value: function (t) { return Math.round((1 - (t - this._minValue) / this._range) * this._height) } }, { key: "isCandleYAxis", value: function () { return this._isCandleYAxis } }, { key: "yAxisType", value: function () { return this._isCandleYAxis ? this._chartData.styleOptions().yAxis.type : W } }, { key: "isFromYAxisZero", value: function () { var t = this._chartData.styleOptions().yAxis; return t.position === V && t.inside || t.position === U && !t.inside } }, { key: "getSelfWidth", value: function () { var t = this, e = this._chartData.styleOptions(), i = e.yAxis, n = i.width; if (L(n)) return n; var r = 0; if (i.show && (i.axisLine.show && (r += i.axisLine.size), i.tickLine.show && (r += i.tickLine.length), i.tickText.show)) { var a = 0; this._measureCtx.font = Nt(i.tickText.size, i.tickText.weight, i.tickText.family), this._ticks.forEach((function (e) { a = Math.max(a, zt(t._measureCtx, e.v)) })), r += i.tickText.paddingLeft + i.tickText.paddingRight + a } var o = e.crosshair, s = 0; if (o.show && o.horizontal.show && o.horizontal.text.show) { var h = this._chartData.technicalIndicatorStore().instances(this._paneId), u = 0, l = !1; h.forEach((function (t) { u = Math.max(t.precision, u), l || (l = t.shouldFormatBigNumber) })), this._measureCtx.font = Nt(o.horizontal.text.size, o.horizontal.text.weight, o.horizontal.text.family); var c = 2; if (this.yAxisType() !== Y) if (this._isCandleYAxis) { var f = this._chartData.pricePrecision(), d = e.technicalIndicator.lastValueMark; c = d.show && d.text.show ? Math.max(u, f) : f } else c = u; var p = nt(this._maxValue, c); l && (p = rt(p)), s += o.horizontal.text.paddingLeft + o.horizontal.text.paddingRight + 2 * o.horizontal.text.borderSize + zt(this._measureCtx, p) } return Math.max(r, s) } }, { key: "convertFromPixel", value: function (t) { var e = (1 - t / this._height) * this._range + this._minValue; switch (this.yAxisType()) { case Y: var i = (this._chartData.visibleDataList()[0] || {}).data || {}; if (L(i.close)) return i.close * e / 100 + i.close; break; case K: return st(e); default: return e } } }, { key: "convertToPixel", value: function (t) { var e; switch (this.yAxisType()) { case Y: var i = (this._chartData.visibleDataList()[0] || {}).data || {}; L(i.close) && (e = (t - i.close) / i.close * 100); break; case K: e = ot(t); break; default: e = t }return this._innerConvertToPixel(e) } }, { key: "convertToNicePixel", value: function (t) { var e = this.convertToPixel(t); return Math.round(Math.max(.05 * this._height, Math.min(e, .98 * this._height))) } }]), i }(de), me = function (t) { k(i, t); var e = E(i); function i(t) { var n; return g(this, i), n = e.call(this, t), "height" in t && n.setHeight(t.height), n } return _(i, [{ key: "_initBefore", value: function (t) { this._id = t.id, this._yAxis = this._createYAxis(t) } }, { key: "_createYAxis", value: function (t) { return new pe(t.chartData, !1, t.id) } }, { key: "_createMainWidget", value: function (t, e) { return new ae({ container: t, chartData: e.chartData, xAxis: e.xAxis, yAxis: this._yAxis, paneId: e.id }) } }, { key: "_createYAxisWidget", value: function (t, e) { return new fe({ container: t, chartData: e.chartData, yAxis: this._yAxis, paneId: e.id }) } }, { key: "setHeight", value: function (t) { D(M(i.prototype), "setHeight", this).call(this, t), this._yAxis.setHeight(t) } }, { key: "setWidth", value: function (t, e) { D(M(i.prototype), "setWidth", this).call(this, t, e), this._yAxis.setWidth(e) } }, { key: "id", value: function () { return this._id } }, { key: "yAxis", value: function () { return this._yAxis } }]), i }($t), ve = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_drawContent", value: function () { var t = this._chartData.styleOptions().candle; this._drawLastPriceLine(t.priceMark), t.type === X ? this._drawArea(t) : (this._drawLowHighPrice(t.priceMark, "high", "high", Number.MIN_SAFE_INTEGER, [-2, -5], (function (t, e) { if (t > e) return t })), this._drawLowHighPrice(t.priceMark, "low", "low", Number.MAX_SAFE_INTEGER, [2, 5], (function (t, e) { if (e > t) return t })), this._drawCandle(t)), this._drawTechs(), this._drawGrid() } }, { key: "_drawArea", value: function (t) { var e = this, i = [], n = [], r = Number.MAX_SAFE_INTEGER, a = t.area; this._drawGraphics((function (t, o, s, h, u, l) { var c = s[a.value]; if (L(c)) { var f = e._yAxis.convertToPixel(c); if (0 === l) { var d = t - h; n.push({ x: d, y: e._height }), n.push({ x: d, y: f }), i.push({ x: d, y: f }) } i.push({ x: t, y: f }), n.push({ x: t, y: f }), r = Math.min(r, f) } }), (function () { var t = n.length; if (t > 0) { var o = n[t - 1], s = e._chartData.timeScaleStore().halfBarSpace(), h = o.x + s; i.push({ x: h, y: o.y }), n.push({ x: h, y: o.y }), n.push({ x: h, y: e._height }) } if (i.length > 0 && (e._ctx.lineWidth = a.lineSize, e._ctx.strokeStyle = a.lineColor, jt(e._ctx, i)), n.length > 0) { var u = a.backgroundColor; if (I(u)) { var l = e._ctx.createLinearGradient(0, e._height, 0, r); try { u.forEach((function (t) { l.addColorStop(t.offset, t.color) })) } catch (t) { } e._ctx.fillStyle = l } else e._ctx.fillStyle = u; Ot(e._ctx, n) } })) } }, { key: "_drawCandle", value: function (t) { var e = this; this._drawGraphics((function (i, n, r, a, o) { e._drawCandleBar(i, a, o, n, r, t.bar, t.type) })) } }, { key: "_drawLowHighPrice", value: function (t, e, i, n, r, a) { var o = t[e]; if (t.show && o.show) { var s = this._chartData.visibleDataList(), h = n, u = -1; s.forEach((function (t) { var e = t.index, r = a(et(t.data, i, n), h); r && (h = r, u = e) })); var l = this._chartData.pricePrecision(), c = this._yAxis.convertToPixel(h), f = this._xAxis.convertToPixel(u), d = c + r[0]; this._ctx.textAlign = "left", this._ctx.lineWidth = 1, this._ctx.strokeStyle = o.color, this._ctx.fillStyle = o.color, jt(this._ctx, [{ x: f - 2, y: d + r[0] }, { x: f, y: d }, { x: f + 2, y: d + r[0] }]); var p = d + r[1]; jt(this._ctx, [{ x: f, y: d }, { x: f, y: p }, { x: f + 5, y: p }]), this._ctx.font = Nt(o.textSize, o.textWeight, o.textFamily); var m = nt(h, l); this._ctx.textBaseline = "middle", this._ctx.fillText(m, f + 5 + o.textMargin, p) } } }, { key: "_drawLastPriceLine", value: function (t) { var e = t.last; if (t.show && e.show && e.line.show) { var i = this._chartData.dataList(), n = i[i.length - 1]; if (n) { var r, a = n.close, o = n.open, s = this._yAxis.convertToNicePixel(a); r = a > o ? e.upColor : o > a ? e.downColor : e.noChangeColor, this._ctx.save(), this._ctx.strokeStyle = r, this._ctx.lineWidth = e.line.size, e.line.style === q && this._ctx.setLineDash(e.line.dashValue), Rt(this._ctx, s, 0, this._width), this._ctx.restore() } } } }]), i }(ie), ye = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_drawTooltip", value: function (t, e) { var i = this._chartData.styleOptions(), n = i.candle, r = n.tooltip, a = i.technicalIndicator, o = a.tooltip, s = this._shouldDrawTooltip(t, r), h = this._shouldDrawTooltip(t, o); "rect" === r.showType && "rect" === o.showType ? this._drawCandleTooltipWithRect(t, e, n, s, a, h) : r.showType === J ? (this._drawCandleTooltipWithStandard(t.kLineData, n, s), o.showType === J ? this._drawBatchTechToolTip(t, e, a, s ? r.text.size + r.text.marginTop : 0, h) : this._drawCandleTooltipWithRect(t, e, n, !1, a, h)) : (this._drawCandleTooltipWithRect(t, e, n, s, a, !1), this._drawBatchTechToolTip(t, e, a, 0, h)) } }, { key: "_drawCandleTooltipWithStandard", value: function (t, e, i) { var n = this; if (i) { var r = this._getCandleTooltipData(t, e), a = e.tooltip, o = a.text.marginLeft, s = a.text.marginRight, h = a.text.size, u = a.text.color, l = a.labels; this._ctx.textBaseline = "top", this._ctx.font = Nt(h, a.text.weight, a.text.family); var c = o, f = a.text.marginTop; l.forEach((function (t, e) { var i = zt(n._ctx, t); ne(n._ctx, u, c, f, t), c += i; var h, l, d = r[e] || a.defaultValue; R(d) ? (h = d.value || a.defaultValue, l = d.color || u) : (l = u, h = d); var p = zt(n._ctx, h); ne(n._ctx, l, c, f, h), c += p + o + s })) } } }, { key: "_drawCandleTooltipWithRect", value: function (t, e, i, n, r, a) { var o = this; if (n || a) { var s = i.tooltip, h = s.labels, u = this._getCandleTooltipData(t.kLineData, i), l = s.text.marginLeft, c = s.text.marginRight, f = s.text.marginTop, d = s.text.marginBottom, p = s.text.size, m = s.text.color, v = s.rect, y = v.borderSize, g = v.paddingLeft, b = v.paddingRight, _ = v.paddingTop, w = v.paddingBottom, k = v.offsetLeft, M = v.offsetRight, x = 0, S = 0, E = 0; this._ctx.save(), this._ctx.textBaseline = "top", n && (this._ctx.font = Nt(p, s.text.weight, s.text.family), h.forEach((function (t, e) { var i, n = u[e]; i = R(n) ? n.value || s.defaultValue : n; var r = "".concat(t).concat(i), a = zt(o._ctx, r) + l + c; x = Math.max(x, a) })), E += (d + f + p) * h.length); var D = r.tooltip, A = D.text.marginLeft, T = D.text.marginRight, C = D.text.marginTop, P = D.text.marginBottom, I = D.text.size, O = [], L = this._chartData.dataList(); if (e.forEach((function (e) { var i = e.result; O.push({ name: e.name, tooltipData: yt(i[t.dataIndex], e), cbData: { prev: { kLineData: L[t.dataIndex - 1], technicalIndicatorData: i[t.dataIndex - 1] }, current: { kLineData: L[t.dataIndex], technicalIndicatorData: i[t.dataIndex] }, next: { kLineData: L[t.dataIndex + 1], technicalIndicatorData: i[t.dataIndex + 1] } } }) })), a && (this._ctx.font = Nt(I, D.text.weight, D.text.family), O.forEach((function (t) { t.tooltipData.values.forEach((function (t) { var e = t.title, i = t.value; if (j(e)) { var n = i || D.defaultValue, r = "".concat(e).concat(n), a = zt(o._ctx, r) + A + T; x = Math.max(x, a), E += C + P + I } })) }))), 0 !== (S += x) && 0 !== E) { var B; S += 2 * y + g + b; var z = v.offsetTop, N = v.borderRadius; he(this._ctx, v.backgroundColor, B = this._width / 2 > t.realX ? this._width - M - S : k, z, S, E += 2 * y + _ + w, N), se(this._ctx, v.borderColor, y, B, z, S, E, N); var F = B + y + g + l, q = z + y + _; if (n && (this._ctx.font = Nt(p, s.text.weight, s.text.family), h.forEach((function (t, e) { q += f, o._ctx.textAlign = "left", ne(o._ctx, m, F, q, t); var i, n, r = u[e]; R(r) ? (n = r.color || m, i = r.value || s.defaultValue) : (n = m, i = r || s.defaultValue), o._ctx.textAlign = "right", ne(o._ctx, n, B + S - y - c - b, q, i), q += p + d }))), a) { var H = this._chartData.styleOptions().technicalIndicator, V = B + y + g + A; this._ctx.font = Nt(I, D.text.weight, D.text.family), O.forEach((function (t) { var i, n = t.tooltipData, r = t.cbData, a = e.get(t.name), s = a.styles || H, h = s.line.colors, u = h.length, l = 0; a.plots.forEach((function (t, e) { switch (t.type) { case pt: i = t.color && t.color(r, s) || s.circle.noChangeColor; break; case dt: i = t.color && t.color(r, s) || s.bar.noChangeColor; break; case ft: i = h[l % u] || s.text.color, l++ }var a = n.values[e]; j(a.title) && (q += C, o._ctx.textAlign = "left", o._ctx.fillStyle = i, o._ctx.fillText("".concat(a.title), V, q), o._ctx.textAlign = "right", o._ctx.fillText(a.value || D.defaultValue, B + S - y - T - b, q), q += I + P) })) })) } this._ctx.restore() } } } }, { key: "_getCandleTooltipData", value: function (t, e) { var i = this, n = e.tooltip.values, r = []; if (n) O(n) ? r = n(t, e) || [] : I(n) && (r = n); else { var a = this._chartData.pricePrecision(), o = this._chartData.volumePrecision(); (r = [et(t, "timestamp"), et(t, "open"), et(t, "close"), et(t, "high"), et(t, "low"), et(t, "volume")]).forEach((function (t, e) { switch (e) { case 0: r[e] = it(i._chartData.timeScaleStore().dateTimeFormat(), t, "YYYY-MM-DD hh:mm"); break; case r.length - 1: r[e] = rt(nt(t, o)); break; default: r[e] = nt(t, a) } })) } return r } }]), i }(re), ge = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_createMainView", value: function (t, e) { return new ve(t, e.chartData, e.xAxis, e.yAxis, e.paneId) } }, { key: "_createOverlayView", value: function (t, e) { return new ye(t, e.chartData, e.xAxis, e.yAxis, e.paneId) } }]), i }(ae), be = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_createYAxis", value: function (t) { return new pe(t.chartData, !0, t.id) } }, { key: "_createMainWidget", value: function (t, e) { return new ge({ container: t, chartData: e.chartData, xAxis: e.xAxis, yAxis: this._yAxis, paneId: e.id }) } }]), i }(me), _e = function (t) { k(i, t); var e = E(i); function i(t, n, r) { var a; return g(this, i), (a = e.call(this, t, n))._xAxis = r, a } return _(i, [{ key: "_draw", value: function () { var t = this._chartData.styleOptions().xAxis; t.show && (this._drawAxisLine(t), this._drawTickLines(t), this._drawTickLabels(t)) } }, { key: "_drawAxisLine", value: function (t) { var e = t.axisLine; e.show && (this._ctx.strokeStyle = e.color, this._ctx.lineWidth = e.size, Rt(this._ctx, 0, 0, this._width)) } }, { key: "_drawTickLines", value: function (t) { var e = this, i = t.tickLine; if (i.show) { this._ctx.lineWidth = i.size, this._ctx.strokeStyle = i.color; var n = t.axisLine.show ? t.axisLine.size : 0, r = n + i.length; this._xAxis.ticks().forEach((function (t) { Lt(e._ctx, t.x, n, r) })) } } }, { key: "_drawTickLabels", value: function (t) { var e = t.tickText; if (e.show) { var i = t.tickLine; this._ctx.textBaseline = "top", this._ctx.font = Nt(e.size, e.weight, e.family), this._ctx.textAlign = "center", this._ctx.fillStyle = e.color; var n = e.paddingTop; t.axisLine.show && (n += t.axisLine.size), i.show && (n += i.length); for (var r = this._xAxis.ticks(), a = r.length, o = 0; a > o; o++)this._ctx.fillText(r[o].v, r[o].x, n) } } }]), i }(ee), we = function (t) { k(i, t); var e = E(i); function i(t, n, r) { var a; return g(this, i), (a = e.call(this, t, n))._xAxis = r, a } return _(i, [{ key: "_draw", value: function () { this._drawCrosshairLabel() } }, { key: "_drawCrosshairLabel", value: function () { var t = this._chartData.crosshairStore().get(); if (t.paneId) { var e = this._chartData.styleOptions().crosshair, i = e.vertical, n = i.text; if (e.show && i.show && n.show && t.dataIndex === t.realDataIndex) { var r = t.realX, a = t.kLineData.timestamp, o = it(this._chartData.timeScaleStore().dateTimeFormat(), a, "YYYY-MM-DD hh:mm"), s = n.size; this._ctx.font = Nt(s, n.weight, n.family); var h = zt(this._ctx, o), u = r - h / 2, l = n.paddingLeft, c = n.paddingRight, f = n.paddingTop, d = n.borderSize; l + d > u ? u = l + d : u > this._width - h - d - c && (u = this._width - h - d - c), oe(this._ctx, n.backgroundColor, n.borderColor, d, u - d - l, 0, h + 2 * d + c + l, s + 2 * d + f + n.paddingBottom, n.borderRadius), this._ctx.textBaseline = "top", ne(this._ctx, n.color, u, d + f, o) } } } }]), i }(ee), ke = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_createMainView", value: function (t, e) { return new _e(t, e.chartData, e.xAxis) } }, { key: "_createOverlayView", value: function (t, e) { return new we(t, e.chartData, e.xAxis) } }]), i }(Qt), Me = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_computeMinMax", value: function () { return { min: this._chartData.timeScaleStore().from(), max: this._chartData.timeScaleStore().to() - 1 } } }, { key: "_optimalMinMax", value: function (t) { var e = t.min, i = t.max; return { min: e, max: i, range: i - e + 1 } } }, { key: "_optimalTicks", value: function (t) { var e = [], i = t.length, n = this._chartData.dataList(); if (i > 0) { var r = this._chartData.timeScaleStore().dateTimeFormat(), a = this._chartData.styleOptions().xAxis.tickText; this._measureCtx.font = Nt(a.size, a.weight, a.family); var o = zt(this._measureCtx, "00-00 00:00"), s = this.convertToPixel(parseInt(t[0].v, 10)), h = 1; if (i > 1) { var u = this.convertToPixel(parseInt(t[1].v, 10)), l = Math.abs(u - s); o > l && (h = Math.ceil(o / l)) } for (var c = 0; i > c; c += h) { var f = parseInt(t[c].v, 10), d = n[f].timestamp, p = it(r, d, "hh:mm"); 0 !== c && (p = this._optimalTickLabel(r, d, n[parseInt(t[c - h].v, 10)].timestamp) || p); var m = this.convertToPixel(f); e.push({ v: p, x: m, oV: d }) } if (1 === e.length) e[0].v = it(r, e[0].oV, "YYYY-MM-DD hh:mm"); else { var v = e[0].oV, y = e[1].oV; if (e[2]) { var g = e[2].v; /^[0-9]{2}-[0-9]{2}$/.test(g) ? e[0].v = it(r, v, "MM-DD") : /^[0-9]{4}-[0-9]{2}$/.test(g) ? e[0].v = it(r, v, "YYYY-MM") : /^[0-9]{4}$/.test(g) && (e[0].v = it(r, v, "YYYY")) } else e[0].v = this._optimalTickLabel(r, v, y) || e[0].v } } return e } }, { key: "_optimalTickLabel", value: function (t, e, i) { var n = it(t, e, "YYYY"), r = it(t, e, "YYYY-MM"), a = it(t, e, "MM-DD"); return n !== it(t, i, "YYYY") ? n : r !== it(t, i, "YYYY-MM") ? r : a !== it(t, i, "MM-DD") ? a : null } }, { key: "getSelfHeight", value: function () { var t = this._chartData.styleOptions(), e = t.xAxis, i = e.height; if (L(i)) return i; var n = t.crosshair, r = 0; e.show && (e.axisLine.show && (r += e.axisLine.size), e.tickLine.show && (r += e.tickLine.length), e.tickText.show && (r += e.tickText.paddingTop + e.tickText.paddingBottom + e.tickText.size)); var a = 0; return n.show && n.vertical.show && n.vertical.text.show && (a += n.vertical.text.paddingTop + n.vertical.text.paddingBottom + 2 * n.vertical.text.borderSize + n.vertical.text.size), Math.max(r, a) } }, { key: "convertFromPixel", value: function (t) { return this._chartData.timeScaleStore().coordinateToDataIndex(t) } }, { key: "convertToPixel", value: function (t) { return this._chartData.timeScaleStore().dataIndexToCoordinate(t) } }]), i }(de), xe = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "_initBefore", value: function () { this._xAxis = new Me(this._chartData) } }, { key: "_createMainWidget", value: function (t, e) { return new ke({ container: t, chartData: e.chartData, xAxis: this._xAxis }) } }, { key: "xAxis", value: function () { return this._xAxis } }, { key: "setWidth", value: function (t, e) { D(M(i.prototype), "setWidth", this).call(this, t, e), this._xAxis.setWidth(t) } }, { key: "setHeight", value: function (t) { D(M(i.prototype), "setHeight", this).call(this, t), this._xAxis.setHeight(t) } }]), i }($t); function Se(t) { return t.getBoundingClientRect() || { left: 0, top: 0 } } function Ee(t) { return !!t.touches } function De(t) { t.cancelable && t.preventDefault() } var Ae = !!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || "ontouchstart" in window || !!(window.DocumentTouch && document instanceof window.DocumentTouch), Te = "onorientationchange" in window && Ae; function Ce(t, e) { var i = t.clientX - e.clientX, n = t.clientY - e.clientY; return Math.sqrt(i * i + n * n) } var Pe = function () { function t(e, i, n) { g(this, t), this._target = e, this._handler = i, this._options = n, this._clickCount = 0, this._clickTimeoutId = null, this._longTapTimeoutId = null, this._longTapActive = !1, this._mouseMoveStartPosition = null, this._moveExceededManhattanDistance = !1, this._cancelClick = !1, this._unsubscribeOutsideEvents = null, this._unsubscribeMousemove = null, this._unsubscribeRoot = null, this._startPinchMiddleCoordinate = null, this._startPinchDistance = 0, this._pinchPrevented = !1, this._preventDragProcess = !1, this._mousePressed = !1, this._init() } return _(t, [{ key: "destroy", value: function () { null !== this._unsubscribeOutsideEvents && (this._unsubscribeOutsideEvents(), this._unsubscribeOutsideEvents = null), null !== this._unsubscribeMousemove && (this._unsubscribeMousemove(), this._unsubscribeMousemove = null), null !== this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null), this._clearLongTapTimeout(), this._resetClickTimeout() } }, { key: "_mouseEnterHandler", value: function (t) { var e = this; this._unsubscribeMousemove && this._unsubscribeMousemove(); var i = this._mouseMoveHandler.bind(this), n = this._mouseWheelHandler.bind(this); this._unsubscribeMousemove = function () { e._target.removeEventListener("mousemove", i), e._target.removeEventListener("wheel", n) }, this._target.addEventListener("mousemove", i), this._target.addEventListener("wheel", n, { passive: !1 }), Ee(t) && this._mouseMoveHandler(t); var r = this._makeCompatEvent(t); this._processEvent(r, this._handler.mouseEnterEvent) } }, { key: "_resetClickTimeout", value: function () { null !== this._clickTimeoutId && clearTimeout(this._clickTimeoutId), this._clickCount = 0, this._clickTimeoutId = null } }, { key: "_mouseMoveHandler", value: function (t) { if (!this._mousePressed || Ee(t)) { var e = this._makeCompatEvent(t); this._processEvent(e, this._handler.mouseMoveEvent) } } }, { key: "_mouseWheelHandler", value: function (t) { var e = this._makeCompatEvent(t); t.localX = e.localX, t.localY = e.localY, this._processEvent(t, this._handler.mouseWheelEvent) } }, { key: "_mouseMoveWithDownHandler", value: function (t) { if ((!("button" in t) || 0 === t.button) && null === this._startPinchMiddleCoordinate) { var e = Ee(t); if (!this._preventDragProcess || !e) { this._pinchPrevented = !0; var i = this._makeCompatEvent(t), n = this._mouseMoveStartPosition, r = Math.abs(n.x - i.pageX), a = Math.abs(n.y - i.pageY), o = r + a > 5; if (o || !e) { if (o && !this._moveExceededManhattanDistance && e) { var s = .5 * r; a >= s && !this._options.treatVertTouchDragAsPageScroll || s > a && !this._options.treatHorzTouchDragAsPageScroll || (this._preventDragProcess = !0) } o && (this._moveExceededManhattanDistance = !0, this._cancelClick = !0, e && this._clearLongTapTimeout()), this._preventDragProcess || (this._processEvent(i, this._handler.pressedMouseMoveEvent), e && De(t)) } } } } }, { key: "_mouseUpHandler", value: function (t) { if (!("button" in t) || 0 === t.button) { var e = this._makeCompatEvent(t); this._clearLongTapTimeout(), this._mouseMoveStartPosition = null, this._mousePressed = !1, this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null), Ee(t) && this._mouseLeaveHandler(t), this._processEvent(e, this._handler.mouseUpEvent), ++this._clickCount, this._clickTimeoutId && this._clickCount > 1 ? (this._processEvent(e, this._handler.mouseDoubleClickEvent), this._resetClickTimeout()) : this._cancelClick || this._processEvent(e, this._handler.mouseClickEvent), Ee(t) && (De(t), this._mouseLeaveHandler(t), 0 === t.touches.length && (this._longTapActive = !1)) } } }, { key: "_clearLongTapTimeout", value: function () { null !== this._longTapTimeoutId && (clearTimeout(this._longTapTimeoutId), this._longTapTimeoutId = null) } }, { key: "_mouseDownHandler", value: function (t) { if (!("button" in t) || 0 === t.button || 2 === t.button) { var e = this._makeCompatEvent(t); if ("button" in t && 2 === t.button) this._processEvent(e, this._handler.mouseRightDownEvent); else { this._cancelClick = !1, this._moveExceededManhattanDistance = !1, this._preventDragProcess = !1, Ee(t) && this._mouseEnterHandler(t), this._mouseMoveStartPosition = { x: e.pageX, y: e.pageY }, this._unsubscribeRoot && (this._unsubscribeRoot(), this._unsubscribeRoot = null); var i = this._mouseMoveWithDownHandler.bind(this), n = this._mouseUpHandler.bind(this), r = this._target.ownerDocument.documentElement; this._unsubscribeRoot = function () { r.removeEventListener("touchmove", i), r.removeEventListener("touchend", n), r.removeEventListener("mousemove", i), r.removeEventListener("mouseup", n) }, r.addEventListener("touchmove", i, { passive: !1 }), r.addEventListener("touchend", n, { passive: !1 }), this._clearLongTapTimeout(), Ee(t) && 1 === t.touches.length ? this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, t), 600) : (r.addEventListener("mousemove", i), r.addEventListener("mouseup", n)), this._mousePressed = !0, this._processEvent(e, this._handler.mouseDownEvent), this._clickTimeoutId || (this._clickCount = 0, this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), 500)) } } } }, { key: "_init", value: function () { var t = this; this._target.addEventListener("mouseenter", this._mouseEnterHandler.bind(this)), this._target.addEventListener("touchcancel", this._clearLongTapTimeout.bind(this)); var e = this._target.ownerDocument, i = function (e) { t._handler.mouseDownOutsideEvent && (e.target && t._target.contains(e.target) || t._handler.mouseDownOutsideEvent()) }; this._unsubscribeOutsideEvents = function () { e.removeEventListener("mousedown", i), e.removeEventListener("touchstart", i) }, e.addEventListener("mousedown", i), e.addEventListener("touchstart", i, { passive: !0 }), this._target.addEventListener("mouseleave", this._mouseLeaveHandler.bind(this)), this._target.addEventListener("touchstart", this._mouseDownHandler.bind(this), { passive: !0 }), Te || this._target.addEventListener("mousedown", this._mouseDownHandler.bind(this)), this._initPinch(), this._target.addEventListener("touchmove", (function () { }), { passive: !1 }) } }, { key: "_initPinch", value: function () { var t = this; void 0 === this._handler.pinchStartEvent && void 0 === this._handler.pinchEvent && void 0 === this._handler.pinchEndEvent || (this._target.addEventListener("touchstart", (function (e) { return t._checkPinchState(e.touches) }), { passive: !0 }), this._target.addEventListener("touchmove", (function (e) { if (2 === e.touches.length && null !== t._startPinchMiddleCoordinate && void 0 !== t._handler.pinchEvent) { var i = Ce(e.touches[0], e.touches[1]); t._handler.pinchEvent(t._startPinchMiddleCoordinate, i / t._startPinchDistance), De(e) } }), { passive: !1 }), this._target.addEventListener("touchend", (function (e) { t._checkPinchState(e.touches) }))) } }, { key: "_checkPinchState", value: function (t) { 1 === t.length && (this._pinchPrevented = !1), 2 !== t.length || this._pinchPrevented || this._longTapActive ? this._stopPinch() : this._startPinch(t) } }, { key: "_startPinch", value: function (t) { var e = Se(this._target); this._startPinchMiddleCoordinate = { x: (t[0].clientX - e.left + (t[1].clientX - e.left)) / 2, y: (t[0].clientY - e.top + (t[1].clientY - e.top)) / 2 }, this._startPinchDistance = Ce(t[0], t[1]), void 0 !== this._handler.pinchStartEvent && this._handler.pinchStartEvent(), this._clearLongTapTimeout() } }, { key: "_stopPinch", value: function () { null !== this._startPinchMiddleCoordinate && (this._startPinchMiddleCoordinate = null, void 0 !== this._handler.pinchEndEvent && this._handler.pinchEndEvent()) } }, { key: "_mouseLeaveHandler", value: function (t) { this._unsubscribeMousemove && this._unsubscribeMousemove(); var e = this._makeCompatEvent(t); this._processEvent(e, this._handler.mouseLeaveEvent) } }, { key: "_longTapHandler", value: function (t) { var e = this._makeCompatEvent(t); this._processEvent(e, this._handler.longTapEvent), this._cancelClick = !0, this._longTapActive = !0 } }, { key: "_processEvent", value: function (t, e) { e && e.call(this._handler, t) } }, { key: "_makeCompatEvent", value: function (t) { var e; e = "touches" in t && t.touches.length ? t.touches[0] : "changedTouches" in t && t.changedTouches.length ? t.changedTouches[0] : t; var i = Se(this._target); return { clientX: e.clientX, clientY: e.clientY, pageX: e.pageX, pageY: e.pageY, screenX: e.screenX, screenY: e.screenY, localX: e.clientX - i.left, localY: e.clientY - i.top, ctrlKey: t.ctrlKey, altKey: t.altKey, shiftKey: t.shiftKey, metaKey: t.metaKey, type: t.type.startsWith("mouse") ? "mouse" : "touch", target: e.target, view: t.view } } }]), t }(), Ie = function () { function t(e, i, n, r, a, o) { g(this, t), this._chartData = i, this._topPaneId = n, this._bottomPaneId = r, this._dragEnabled = a, this._width = 0, this._offsetLeft = 0, this._dragEventHandler = o, this._dragFlag = !1, this._initElement(e), this._initEvent(a) } return _(t, [{ key: "_initElement", value: function (t) { this._container = t, this._wrapper = Jt("div", { margin: "0", padding: "0", position: "relative" }), this._element = Jt("div", { width: "100%", height: "7px", margin: "0", padding: "0", position: "absolute", top: "-3px", zIndex: "20" }), this._wrapper.appendChild(this._element); var e = t.lastChild; e ? t.insertBefore(this._wrapper, e) : t.appendChild(this._wrapper) } }, { key: "_initEvent", value: function (t) { t && (this._element.style.cursor = "ns-resize", this._dragEvent = new Pe(this._element, { mouseDownEvent: this._mouseDownEvent.bind(this), mouseUpEvent: this._mouseUpEvent.bind(this), pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this), mouseEnterEvent: this._mouseEnterEvent.bind(this), mouseLeaveEvent: this._mouseLeaveEvent.bind(this) }, { treatVertTouchDragAsPageScroll: !1, treatHorzTouchDragAsPageScroll: !0 })) } }, { key: "_mouseDownEvent", value: function (t) { this._dragFlag = !0, this._startY = t.pageY, this._dragEventHandler.startDrag(this._topPaneId, this._bottomPaneId) } }, { key: "_mouseUpEvent", value: function () { this._dragFlag = !1, this._chartData.setDragPaneFlag(!1) } }, { key: "_pressedMouseMoveEvent", value: function (t) { this._dragEventHandler.drag(t.pageY - this._startY, this._topPaneId, this._bottomPaneId), this._chartData.setDragPaneFlag(!0), this._chartData.crosshairStore().set() } }, { key: "_mouseEnterEvent", value: function () { var t = this._chartData.styleOptions().separator; this._element.style.background = t.activeBackgroundColor, this._chartData.setDragPaneFlag(!0), this._chartData.crosshairStore().set() } }, { key: "_mouseLeaveEvent", value: function () { this._dragFlag || (this._element.style.background = null, this._chartData.setDragPaneFlag(!1)) } }, { key: "height", value: function () { return this._wrapper.offsetHeight } }, { key: "setSize", value: function (t, e) { this._offsetLeft = t, this._width = e, this.invalidate() } }, { key: "setDragEnabled", value: function (t) { t !== this._dragEnabled && (this._dragEnabled = t, t ? !this._dragEvent && this._initEvent(t) : (this._element.style.cursor = "default", this._dragEvent && this._dragEvent.destroy(), this._dragEvent = null)) } }, { key: "topPaneId", value: function () { return this._topPaneId } }, { key: "bottomPaneId", value: function () { return this._bottomPaneId } }, { key: "updatePaneId", value: function (t, e) { j(t) && (this._topPaneId = t), j(e) && (this._bottomPaneId = e) } }, { key: "invalidate", value: function () { var t = this._chartData.styleOptions().separator; this._element.style.top = "".concat(-Math.floor((7 - t.size) / 2), "px"), this._wrapper.style.backgroundColor = t.color, this._wrapper.style.height = "".concat(t.size, "px"), this._wrapper.style.marginLeft = "".concat(t.fill ? 0 : this._offsetLeft, "px"), this._wrapper.style.width = t.fill ? "100%" : "".concat(this._width, "px") } }, { key: "getImage", value: function () { var t = this._chartData.styleOptions().separator, e = this._wrapper.offsetWidth, i = t.size, n = Jt("canvas", { width: "".concat(e, "px"), height: "".concat(i, "px") }), r = n.getContext("2d"), a = Bt(n); return n.width = e * a, n.height = i * a, r.scale(a, a), r.fillStyle = t.color, r.fillRect(this._offsetLeft, 0, e, i), n } }, { key: "destroy", value: function () { this._dragEvent && this._dragEvent.destroy(), this._container.removeChild(this._wrapper) } }]), t }(); function Oe(t) { return "touch" === t.type } function Re(t) { return "mouse" === t.type } var Le = function t(e) { g(this, t), this._chartData = e }, je = function (t) { k(i, t); var e = E(i); function i(t) { var n; return g(this, i), (n = e.call(this, t))._startScrollCoordinate = {}, n._touchCoordinate = null, n._touchCancelCrosshair = !1, n._touchZoomed = !1, n._pinchScale = 1, n } return _(i, [{ key: "pinchStartEvent", value: function () { this._pinchScale = 1, this._touchZoomed = !0 } }, { key: "pinchEvent", value: function (t, e) { var i = 5 * (e - this._pinchScale); this._pinchScale = e, this._chartData.timeScaleStore().zoom(i, t) } }, { key: "mouseLeaveEvent", value: function (t) { Re(t) && this._chartData.crosshairStore().set() } }, { key: "mouseMoveEvent", value: function (t) { Re(t) && this._chartData.crosshairStore().set({ x: t.localX, y: t.paneY, paneId: t.paneId }) } }, { key: "mouseWheelEvent", value: function (t) { if (Math.abs(t.deltaX) > Math.abs(t.deltaY)) { if (t.cancelable && t.preventDefault(), 0 === Math.abs(t.deltaX)) return; this._chartData.timeScaleStore().startScroll(), this._chartData.timeScaleStore().scroll(-t.deltaX) } else { var e = -t.deltaY / 100; if (0 === e) return; switch (t.cancelable && t.preventDefault(), t.deltaMode) { case t.DOM_DELTA_PAGE: e *= 120; break; case t.DOM_DELTA_LINE: e *= 32 }if (0 !== e) { var i = Math.sign(e) * Math.min(1, Math.abs(e)); this._chartData.timeScaleStore().zoom(i, { x: t.localX, y: t.localY }) } } } }, { key: "mouseClickEvent", value: function (t) { Oe(t) && (this._touchCoordinate || this._touchCancelCrosshair || this._touchZoomed || (this._touchCoordinate = { x: t.localX, y: t.localY }, this._chartData.crosshairStore().set({ x: t.localX, y: t.paneY, paneId: t.paneId }))) } }, { key: "mouseDownEvent", value: function (t) { if (this._startScrollCoordinate = { x: t.localX, y: t.localY }, this._chartData.timeScaleStore().startScroll(), Oe(t)) if (this._touchZoomed = !1, this._touchCoordinate) { var e = t.localX - this._touchCoordinate.x, i = t.localY - this._touchCoordinate.y; 10 > Math.sqrt(e * e + i * i) ? (this._touchCoordinate = { x: t.localX, y: t.localY }, this._chartData.crosshairStore().set({ x: t.localX, y: t.paneY, paneId: t.paneId })) : (this._touchCancelCrosshair = !0, this._touchCoordinate = null, this._chartData.crosshairStore().set()) } else this._touchCancelCrosshair = !1 } }, { key: "pressedMouseMoveEvent", value: function (t) { var e = { x: t.localX, y: t.paneY, paneId: t.paneId }; if (Oe(t)) { if (this._touchCoordinate) return this._touchCoordinate = { x: t.localX, y: t.localY }, void this._chartData.crosshairStore().set(e); e = null } var i = t.localX - this._startScrollCoordinate.x; this._chartData.timeScaleStore().scroll(i, e) } }, { key: "longTapEvent", value: function (t) { Oe(t) && (this._touchCoordinate = { x: t.localX, y: t.localY }, this._chartData.crosshairStore().set({ x: t.localX, y: t.paneY, paneId: t.paneId })) } }]), i }(Le), Be = function (t) { k(i, t); var e = E(i); function i(t, n) { var r; return g(this, i), (r = e.call(this, t))._yAxis = n, r } return _(i, [{ key: "_performOverlayMouseHover", value: function (t, e, i, n) { var r; if (t) { var a, o = T(t); try { for (o.s(); !(a = o.n()).done && !(r = a.value.checkEventCoordinateOn(i));); } catch (t) { o.e(t) } finally { o.f() } r && e.id === r.id || (e.id && e.instance && Re(n) && e.instance.onMouseLeave({ id: e.id, points: e.instance.points(), event: n }), r && r.id !== e.id && r.instance && Re(n) && r.instance.onMouseEnter({ id: r.id, points: r.instance.points(), event: n })) } return r } }, { key: "mouseUpEvent", value: function () { this._chartData.shapeStore().updatePressedInstance() } }, { key: "mouseMoveEvent", value: function (t) { if (this._waitingForMouseMove) return !1; this._waitingForMouseMove = !0; var e, i, n, r = { x: t.localX, y: t.paneY }, a = this._chartData.shapeStore().progressInstance(), o = a.paneId, s = a.instance; if (s && s.isDrawing()) t.paneId && (s.isStart() && this._chartData.shapeStore().updateProgressInstance(this._yAxis(t.paneId), t.paneId), o === t.paneId && s.mouseMoveForDrawing(r, t), e = s.checkEventCoordinateOn(r)), i = { id: "", element: qt, elementIndex: -1 }; else { var h = this._chartData.annotationStore().get(t.paneId), u = this._chartData.shapeStore().instances(t.paneId), l = this._chartData.shapeStore().mouseOperate().hover, c = this._chartData.annotationStore().mouseOperate(); e = this._performOverlayMouseHover(u, l, r, t), n = this._performOverlayMouseHover(h, c, r, t) } this._chartData.shapeStore().setMouseOperate({ hover: e || { id: "", element: qt, elementIndex: -1 }, click: i }), this._chartData.annotationStore().setMouseOperate(n || { id: "" }), this._waitingForMouseMove = !1 } }, { key: "mouseDownEvent", value: function (t) { var e, i = { x: t.localX, y: t.paneY }, n = this._chartData.shapeStore().progressInstance(), r = n.instance, a = n.paneId, o = { id: "", element: qt, elementIndex: -1 }; if (r && r.isDrawing() && a === t.paneId) r.mouseLeftButtonDownForDrawing(), e = r.checkEventCoordinateOn(i); else { var s, h = T(this._chartData.shapeStore().instances(t.paneId)); try { for (h.s(); !(s = h.n()).done;) { var u = s.value; if (e = u.checkEventCoordinateOn(i)) { this._chartData.shapeStore().updatePressedInstance(u, t.paneId, e.element), e.element === Ft ? o = v({}, e) : u.startPressedOtherMove(i), u.onClick({ id: e.id, points: u.points(), event: t }); break } } } catch (t) { h.e(t) } finally { h.f() } var l = this._chartData.annotationStore().get(t.paneId); if (l) { var c, f = T(l); try { for (f.s(); !(c = f.n()).done;) { var d = c.value, p = d.checkEventCoordinateOn(i); if (p) { d.onClick({ id: p.id, points: d.points(), event: t }); break } } } catch (t) { f.e(t) } finally { f.f() } } } this._chartData.shapeStore().setMouseOperate({ hover: o, click: e || { id: "", element: qt, elementIndex: -1 } }) && this._chartData.invalidate(1) } }, { key: "mouseRightDownEvent", value: function (t) { var e, i = this._chartData.shapeStore().progressInstance().instance; (e = i || this._chartData.shapeStore().instances(t.paneId).find((function (e) { return e.checkEventCoordinateOn({ x: t.localX, y: t.paneY }) }))) && !e.onRightClick({ id: e.id(), points: e.points(), event: t }) && this._chartData.shapeStore().removeInstance(e.id()); var n = this._chartData.annotationStore().get(t.paneId); if (n) { var r = n.find((function (e) { return e.checkEventCoordinateOn({ x: t.localX, y: t.paneY }) })); r && r.onRightClick({ id: r.id(), points: r.points(), event: t }) } } }, { key: "pressedMouseMoveEvent", value: function (t) { var e = this._chartData.shapeStore().pressedInstance(), i = e.instance; if (i && e.paneId === t.paneId) { var n = { x: t.localX, y: t.paneY }; e.element === Ft ? i.mousePressedPointMove(n, t) : i.mousePressedOtherMove(n), this._chartData.crosshairStore().set({ x: t.localX, y: t.paneY, paneId: t.paneId }) } } }]), i }(Le), ze = function (t) { k(i, t); var e = E(i); function i() { return g(this, i), e.apply(this, arguments) } return _(i, [{ key: "keyBoardDownEvent", value: function (t) { if (t.shiftKey) switch (t.code) { case "Equal": this._chartData.timeScaleStore().zoom(.5); break; case "Minus": this._chartData.timeScaleStore().zoom(-.5); break; case "ArrowLeft": this._chartData.timeScaleStore().startScroll(), this._chartData.timeScaleStore().scroll(-3 * this._chartData.timeScaleStore().dataSpace()); break; case "ArrowRight": this._chartData.timeScaleStore().startScroll(), this._chartData.timeScaleStore().scroll(3 * this._chartData.timeScaleStore().dataSpace()) } } }]), i }(Le), Ne = function () { function t(e, i, n) { g(this, t), this._target = e, this._chartData = i, this._chartContentLeftRight = {}, this._chartContentTopBottom = {}, this._paneContentSize = {}, this._event = new Pe(this._target, { pinchStartEvent: this._pinchStartEvent.bind(this), pinchEvent: this._pinchEvent.bind(this), mouseUpEvent: this._mouseUpEvent.bind(this), mouseClickEvent: this._mouseClickEvent.bind(this), mouseDownEvent: this._mouseDownEvent.bind(this), mouseRightDownEvent: this._mouseRightDownEvent.bind(this), mouseLeaveEvent: this._mouseLeaveEvent.bind(this), mouseMoveEvent: this._mouseMoveEvent.bind(this), mouseWheelEvent: this._mouseWheelEvent.bind(this), pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this), longTapEvent: this._longTapEvent.bind(this) }, { treatVertTouchDragAsPageScroll: !1, treatHorzTouchDragAsPageScroll: !1 }), this._boundKeyBoardDownEvent = this._keyBoardDownEvent.bind(this), this._target.addEventListener("keydown", this._boundKeyBoardDownEvent), this._boundContextMenuEvent = function (t) { t.preventDefault() }, this._target.addEventListener("contextmenu", this._boundContextMenuEvent, !1), this._zoomScrollEventHandler = new je(i), this._overlayEventHandler = new Be(i, n), this._keyBoardEventHandler = new ze(i) } return _(t, [{ key: "_keyBoardDownEvent", value: function (t) { this._keyBoardEventHandler.keyBoardDownEvent(t) } }, { key: "_pinchStartEvent", value: function () { this._zoomScrollEventHandler.pinchStartEvent() } }, { key: "_pinchEvent", value: function (t, e) { this._zoomScrollEventHandler.pinchEvent(t, e) } }, { key: "_mouseUpEvent", value: function (t) { this._checkEventInChartContent(t) && (this._target.style.cursor = "crosshair"), this._shouldPerformOverlayEvent() && this._overlayEventHandler.mouseUpEvent(t) } }, { key: "_mouseLeaveEvent", value: function (t) { this._zoomScrollEventHandler.mouseLeaveEvent(t) } }, { key: "_mouseMoveEvent", value: function (t) { if (this._checkEventInChartContent(t)) { this._target.style.cursor = "crosshair"; var e = this._compatChartEvent(t, !0); this._shouldPerformOverlayEvent() && this._overlayEventHandler.mouseMoveEvent(e), this._chartData.dragPaneFlag() || this._zoomScrollEventHandler.mouseMoveEvent(e) } else this._target.style.cursor = "default", this._zoomScrollEventHandler.mouseLeaveEvent(t) } }, { key: "_mouseWheelEvent", value: function (t) { this._checkZoomScroll() && this._checkEventInChartContent(t) && this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(t)) } }, { key: "_mouseClickEvent", value: function (t) { this._checkZoomScroll() && this._checkEventInChartContent(t) && this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(t, !0)) } }, { key: "_mouseDownEvent", value: function (t) { if (this._checkEventInChartContent(t)) { this._target.style.cursor = "pointer"; var e = this._compatChartEvent(t, !0); this._shouldPerformOverlayEvent() && this._overlayEventHandler.mouseDownEvent(e), this._checkZoomScroll() && this._zoomScrollEventHandler.mouseDownEvent(e) } } }, { key: "_mouseRightDownEvent", value: function (t) { this._shouldPerformOverlayEvent() && this._checkEventInChartContent(t) && this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(t, !0)) } }, { key: "_pressedMouseMoveEvent", value: function (t) { if (this._checkEventInChartContent(t)) { var e = this._compatChartEvent(t, !0); this._checkZoomScroll() ? this._zoomScrollEventHandler.pressedMouseMoveEvent(e) : this._overlayEventHandler.pressedMouseMoveEvent(e) } } }, { key: "_longTapEvent", value: function (t) { this._checkZoomScroll() && this._checkEventInChartContent(t) && this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(t, !0)) } }, { key: "_checkZoomScroll", value: function () { return !this._chartData.dragPaneFlag() && !this._chartData.shapeStore().isPressed() && !this._chartData.shapeStore().isDrawing() } }, { key: "_shouldPerformOverlayEvent", value: function () { return !this._chartData.shapeStore().isEmpty() || !this._chartData.annotationStore().isEmpty() } }, { key: "_compatChartEvent", value: function (t, e) { if (e) for (var i in this._paneContentSize) if (Object.prototype.hasOwnProperty.call(this._paneContentSize, i)) { var n = this._paneContentSize[i]; if (t.localY > n.contentTop && n.contentBottom > t.localY) { t.paneY = t.localY - n.contentTop, t.paneId = i; break } } return t.localX -= this._chartContentLeftRight.contentLeft, t } }, { key: "_checkEventInChartContent", value: function (t) { return t.localX > this._chartContentLeftRight.contentLeft && this._chartContentLeftRight.contentRight > t.localX && t.localY > this._chartContentTopBottom.contentTop && this._chartContentTopBottom.contentBottom > t.localY } }, { key: "setChartContentLeftRight", value: function (t) { this._chartContentLeftRight = t } }, { key: "setChartContentTopBottom", value: function (t) { this._chartContentTopBottom = t } }, { key: "setPaneContentSize", value: function (t) { this._paneContentSize = t } }, { key: "destroy", value: function () { this._event.destroy(), this._target.removeEventListener("keydown", this._boundKeyBoardDownEvent), this._target.removeEventListener("contextmenu", this._boundContextMenuEvent) } }]), t }(); function Fe(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 20, i = 0; return function () { var n = Date.now(), r = this, a = arguments; n - i > e && (t.apply(r, a), i = n) } } var qe = function (t) { k(i, t); var e = E(i); function i(t) { var n, r = t.id, a = t.point, o = t.chartData, s = t.xAxis, h = t.yAxis, u = t.styles; return g(this, i), (n = e.call(this, { id: r, chartData: o, xAxis: s, yAxis: h }))._point = a, n._symbolCoordinate = {}, n.setStyles(u, o.styleOptions().annotation), n } return _(i, [{ key: "_drawSymbol", value: function (t, e, i) { var n = this._chartData.timeScaleStore().barSpace(), r = i.symbol, a = r.size, o = r.activeSize, s = e ? L(o) ? o : n : L(a) ? a : n, h = e ? r.activeColor : r.color; switch (r.type) { case "circle": wt(t, h, this._symbolCoordinate, s / 2); break; case "rect": !function (t, e, i, n, r, a) { t.fillStyle = e, t.fillRect(i, n, r, a) }(t, h, this._symbolCoordinate.x - s / 2, this._symbolCoordinate.y - s / 2, s, s); break; case Q: !function (t, e, i, n, r) { t.fillStyle = e, t.beginPath(), t.moveTo(i.x - n / 2, i.y), t.lineTo(i.x, i.y - r / 2), t.lineTo(i.x + n / 2, i.y), t.lineTo(i.x, i.y + r / 2), t.closePath(), t.fill() }(t, h, this._symbolCoordinate, s, s); break; case $: !function (t, e, i, n, r) { t.fillStyle = e, t.beginPath(), t.moveTo(i.x - n / 2, i.y + r / 2), t.lineTo(i.x, i.y - r / 2), t.lineTo(i.x + n / 2, i.y + r / 2), t.closePath(), t.fill() }(t, h, this._symbolCoordinate, s, s); break; case "custom": t.save(), this.drawCustomSymbol({ ctx: t, point: this._point, coordinate: this._symbolCoordinate, viewport: { width: this._xAxis.width(), height: this._yAxis.height(), barSpace: n }, styles: r, isActive: e }), t.restore() } } }, { key: "draw", value: function (t) { var e = this._styles || this._chartData.styleOptions().annotation, i = e.offset || [0, 0], n = 0; switch (e.position) { case "point": n = this._yAxis.convertToPixel(this._point.value); break; case "top": n = 0; break; case "bottom": n = this._yAxis.height() }this._symbolCoordinate.y = n + i[0]; var r = this._id === this._chartData.annotationStore().mouseOperate().id; this._drawSymbol(t, r, e), this.drawExtend && (t.save(), this.drawExtend({ ctx: t, point: this._point, coordinate: this._symbolCoordinate, viewport: { width: this._xAxis.width(), height: this._yAxis.height() }, styles: e, isActive: r }), t.restore()) } }, { key: "checkEventCoordinateOn", value: function (t) { var e, i, n, r, a, o = this._chartData.timeScaleStore().barSpace(), s = (this._styles || this._chartData.styleOptions().annotation).symbol, h = L(s.size) ? s.size : o; switch (s.type) { case "circle": e = Tt(this._symbolCoordinate, h / 2, t); break; case "rect": e = function (t, e, i) { return !(t.x > i.x || i.x > e.x || t.y > i.y || i.y > e.y) }({ x: this._symbolCoordinate.x - h / 2, y: this._symbolCoordinate.y - h / 2 }, { x: this._symbolCoordinate.x + h / 2, y: this._symbolCoordinate.y + h / 2 }, t); break; case Q: e = (n = h) * (r = h) / 2 + 2 > Math.abs((i = this._symbolCoordinate).x - (a = t).x) * r + Math.abs(i.y - a.y) * n; break; case $: e = function (t, e) { var i = kt(t[0], t[1], t[2]), n = kt(t[0], t[1], e) + kt(t[0], t[2], e) + kt(t[1], t[2], e); return 2 > Math.abs(i - n) }([{ x: this._symbolCoordinate.x - h / 2, y: this._symbolCoordinate.y + h / 2 }, { x: this._symbolCoordinate.x, y: this._symbolCoordinate.y - h / 2 }, { x: this._symbolCoordinate.x + h / 2, y: this._symbolCoordinate.y + h / 2 }], t); break; case "custom": e = this.checkEventCoordinateOnCustomSymbol({ eventCoordinate: t, coordinate: this._symbolCoordinate, size: h }) }if (e) return { id: this._id, instance: this } } }, { key: "createSymbolCoordinate", value: function (t) { var e = this._styles || this._chartData.styleOptions().annotation; this._symbolCoordinate = { x: t + (e.offset || [0, 0])[1] } } }, { key: "points", value: function () { return this._point } }, { key: "checkEventCoordinateOnCustomSymbol", value: function (t) { } }, { key: "drawCustomSymbol", value: function (t) { } }]), i }(_t), He = function (t) { k(i, t); var e = E(i); function i(t) { var n, r = t.id, a = t.point, o = t.text, s = t.mark, h = t.chartData, u = t.xAxis, l = t.yAxis, c = t.styles; return g(this, i), (n = e.call(this, { id: r, chartData: h, xAxis: u, yAxis: l }))._point = a || {}, n._text = o, n._mark = s, n.setStyles(c, h.styleOptions().tag), n } return _(i, [{ key: "update", value: function (t) { var e = t.point, i = t.text, n = t.mark, r = t.styles, a = !1; return R(e) && (this._point = e, a = !0), j(i) && (this._text = i, a = !0), j(n) && (this._mark = n, a = !0), this.setStyles(r, this._chartData.styleOptions().tag) && (a = !0), a } }, { key: "drawMarkLine", value: function (t) { var e = this._chartData.styleOptions(), i = e.yAxis, n = this._styles || e.tag, r = this._getY(n); t.save(), this._drawLine(t, r, n.line), this._drawMark(t, r, n, i), t.restore() } }, { key: "drawText", value: function (t) { if (j(this._text)) { var e = this._chartData.styleOptions(), i = this._styles || e.tag, n = i.text; t.save(), t.font = Nt(n.size, n.weight, n.family); var r, a = this._getTextRectWidth(t, n), o = n.paddingTop + n.paddingBottom + n.size; r = this._yAxis.isFromYAxisZero() ? 0 : this._yAxis.width() - a; var s = this._getY(i); he(t, n.backgroundColor, r, s - o / 2, a, o, n.borderRadius), ne(t, n.color, r + n.paddingLeft, s, this._text), t.restore() } } }, { key: "_drawLine", value: function (t, e, i) { i.show && (t.strokeStyle = i.color, t.lineWidth = i.size, i.style === q && t.setLineDash(i.dashValue), Rt(t, e, 0, this._xAxis.width())) } }, { key: "_drawMark", value: function (t, e, i, n) { if (j(this._mark)) { var r = i.mark; t.font = Nt(r.size, r.weight, r.family); var a, o = r.paddingLeft + r.paddingRight + zt(t, this._mark), s = r.paddingTop + r.paddingBottom + r.size; if (n.inside) { var h = 0; j(this._text) && (h = this._getTextRectWidth(t, i.text)), a = n.position === V ? h : this._xAxis.width() - h - o } else a = n.position === V ? 0 : this._xAxis.width() - o; he(t, r.backgroundColor, a, e - s / 2, o, s, r.borderRadius), t.textBaseline = "middle", t.font = Nt(r.size, r.weight, r.family), ne(t, r.color, a + r.paddingLeft, e, this._mark) } } }, { key: "_getY", value: function (t) { var e = t.offset; switch (t.position) { case "top": return e; case "bottom": return this._yAxis.height() + e; default: return this._yAxis.convertToNicePixel(this._point.value) + e } } }, { key: "_getTextRectWidth", value: function (t, e) { return t.font = Nt(e.size, e.weight, e.family), e.paddingLeft + e.paddingRight + zt(t, this._text) } }]), i }(_t), Ve = function () { function t(e, i) { var n = this; g(this, t), this._initChartContainer(e), this._shapeBaseId = 0, this._paneBaseId = 0, this._separatorDragStartTopPaneHeight = 0, this._separatorDragStartBottomPaneHeight = 0, this._chartData = new Gt(i, { invalidate: this._invalidatePane.bind(this), crosshair: this._crosshairObserver.bind(this) }), this._xAxisPane = new xe({ container: this._chartContainer, chartData: this._chartData }), this._panes = new Map([[ut, new be({ container: this._chartContainer, chartData: this._chartData, xAxis: this._xAxisPane.xAxis(), id: ut })]]), this._separators = new Map, this._chartWidth = {}, this._chartHeight = {}, this._chartEvent = new Ne(this._chartContainer, this._chartData, (function (t) { return n._panes.get(t).yAxis() })), this.adjustPaneViewport(!0, !0, !0) } return _(t, [{ key: "_initChartContainer", value: function (t) { this._container = t, this._chartContainer = Jt("div", { userSelect: "none", webkitUserSelect: "none", msUserSelect: "none", MozUserSelect: "none", webkitTapHighlightColor: "transparent", position: "relative", outline: "none", borderStyle: "none", width: "100%", cursor: "crosshair" }), this._chartContainer.tabIndex = 1, t.appendChild(this._chartContainer) } }, { key: "_crosshairObserver", value: function (t) { var e = this, i = t.dataIndex, n = t.kLineData, r = t.x, a = t.y; if (this.chartData().actionStore().has(lt.CROSSHAIR)) { var o = {}; this._panes.forEach((function (t, n) { var r = {}; e.chartData().technicalIndicatorStore().instances(n).forEach((function (t) { r[t.name] = t.result[i] })), o[n] = r })), this._chartData.actionStore().execute(lt.CROSSHAIR, { coordinate: { x: r, y: a }, dataIndex: i, kLineData: n, technicalIndicatorData: o }) } } }, { key: "_separatorStartDrag", value: function (t, e) { this._separatorDragStartTopPaneHeight = this._panes.get(t).height(), this._separatorDragStartBottomPaneHeight = this._panes.get(e).height() } }, { key: "_separatorDrag", value: function (t, e, i) { var n = this._separatorDragStartTopPaneHeight + t, r = this._separatorDragStartBottomPaneHeight - t; n > this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight && (n = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight, r = 0), 0 > n && (n = 0, r = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight), this._panes.get(e).setHeight(n), this._panes.get(i).setHeight(r), this._chartData.actionStore().execute(lt.PANE_DRAG, { topPaneId: e, bottomPaneId: i, topPaneHeight: n, bottomPaneHeight: r }), this.adjustPaneViewport(!0, !0, !0, !0, !0) } }, { key: "_invalidatePane", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3; if (1 === t) this._xAxisPane.invalidate(t), this._panes.forEach((function (e) { e.invalidate(t) })); else { var e = !1; this._panes.forEach((function (t) { var i = t.yAxis().computeAxis(); i && (e = i) })), this.adjustPaneViewport(!1, e, !0) } } }, { key: "_measurePaneHeight", value: function () { var t = this, e = this._chartData.styleOptions(), i = this._container.offsetHeight, n = e.separator.size, r = n * this._separators.size, a = this._xAxisPane.xAxis().getSelfHeight(), o = i - a - r, s = 0; this._panes.forEach((function (t) { if (t.id() !== ut) { var e = t.height(); s + e > o ? (t.setHeight(o - s), s = o) : s += e } })); var h = o - s, u = {}; u.candle_pane = { contentTop: 0, contentBottom: h }; var l = h, c = h; this._panes.get(ut).setHeight(h), this._chartHeight.candle_pane = h, this._panes.forEach((function (e) { if (e.id() !== ut) { var i = e.height(); c += i + n, u[e.id()] = { contentTop: l, contentBottom: c }, t._chartHeight[e.id()] = i, l = c } })), this._xAxisPane.setHeight(a), this._chartHeight.xAxis = a, this._chartHeight.total = i, this._chartEvent.setPaneContentSize(u), this._chartEvent.setChartContentTopBottom({ contentTop: 0, contentBottom: c }) } }, { key: "_measurePaneWidth", value: function () { var t, e, i, n = this, r = this._chartData.styleOptions().yAxis, a = r.position === V, o = this._container.offsetWidth, s = Number.MIN_SAFE_INTEGER; r.inside ? (t = o, s = o, e = 0, i = 0) : (this._panes.forEach((function (t) { s = Math.max(s, t.yAxis().getSelfWidth()) })), t = o - s, a ? (e = 0, i = s) : (i = 0, e = o - s)), this._chartData.timeScaleStore().setTotalDataSpace(t), this._panes.forEach((function (r, a) { r.setWidth(t, s), r.setOffsetLeft(i, e); var o = n._separators.get(a); o && o.setSize(i, t) })), this._chartWidth = { content: t, yAxis: s, total: o }, this._xAxisPane.setWidth(t, s), this._xAxisPane.setOffsetLeft(i, e), this._chartEvent.setChartContentLeftRight({ contentLeft: i, contentRight: i + t }) } }, { key: "adjustPaneViewport", value: function (t, e, i, n, r) { t && this._measurePaneHeight(); var a = !1; n && this._panes.forEach((function (t) { var e = t.yAxis().computeAxis(r); a || (a = e) })), (!n && e || n && a) && this._measurePaneWidth(), i && (this._xAxisPane.xAxis().computeAxis(!0), this._xAxisPane.layout(), this._panes.forEach((function (t) { t.layout() }))) } }, { key: "hasPane", value: function (t) { return this._panes.has(t) } }, { key: "chartData", value: function () { return this._chartData } }, { key: "removeTechnicalIndicator", value: function (t, e) { var i = this; if (this._chartData.technicalIndicatorStore().removeInstance(t, e)) { var n = !1; if (t !== ut && !this._chartData.technicalIndicatorStore().hasInstance(t)) { n = !0, this._panes.get(t).destroy(); var r = this._separators.get(t).topPaneId(); this._separators.get(t).destroy(), this._panes.delete(t), this._separators.delete(t), this._separators.forEach((function (t) { var e = t.topPaneId(); i._separators.has(e) || t.updatePaneId(r) })) } this.adjustPaneViewport(n, !0, !0, !0, !0) } } }, { key: "createTechnicalIndicator", value: function (t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; if (this._panes.has(i.id)) { var n = !1; return this._chartData.technicalIndicatorStore().addInstance(i.id, t, e) && (n = this._panes.get(i.id).yAxis().computeAxis()), this.setPaneOptions(i, n), i.id } var r = i.id || "".concat(ht).concat(++this._paneBaseId), a = !B(i.dragEnabled) || i.dragEnabled; this._separators.set(r, new Ie(this._chartContainer, this._chartData, Array.from(this._panes.keys()).pop(), r, a, { startDrag: this._separatorStartDrag.bind(this), drag: Fe(this._separatorDrag.bind(this), 50) })); var o = new me({ container: this._chartContainer, chartData: this._chartData, xAxis: this._xAxisPane.xAxis(), id: r, height: i.height || 100 }); return this._panes.set(r, o), this._chartData.technicalIndicatorStore().addInstance(r, t, e), this.adjustPaneViewport(!0, !0, !0, !0, !0), r } }, { key: "createShape", value: function (t, e, i) { var n = e.points, r = e.styles, a = e.lock, o = e.data, s = e.onDrawStart, h = e.onDrawing, u = e.onDrawEnd, l = e.onClick, c = e.onRightClick, f = e.onPressedMove, d = e.onMouseEnter, p = e.onMouseLeave, m = e.onRemove, v = e.id || "".concat("shape_").concat(++this._shapeBaseId); if (!this._chartData.shapeStore().hasInstance(v)) { var y = null; this.hasPane(i) ? y = this._panes.get(i).yAxis() : n && n.length > 0 && (i = ut, y = this._panes.get(ut).yAxis()); var g = new t({ id: v, chartData: this._chartData, xAxis: this._xAxisPane.xAxis(), yAxis: y, points: n, styles: r, lock: a, data: o }); return O(s) && s({ id: v }), bt(g, [{ key: "onDrawing", fn: h }, { key: "onDrawEnd", fn: u }, { key: "onClick", fn: l }, { key: "onRightClick", fn: c }, { key: "onPressedMove", fn: f }, { key: "onMouseEnter", fn: d }, { key: "onMouseLeave", fn: p }, { key: "onRemove", fn: m }]), this._chartData.shapeStore().addInstance(g, i), v } return null } }, { key: "createAnnotation", value: function (t, e) { var i = this, n = []; t.forEach((function (t) { var r = t.point, a = t.styles, o = t.checkEventCoordinateOnCustomSymbol, s = t.drawCustomSymbol, h = t.drawExtend, u = t.onClick, l = t.onRightClick, c = t.onMouseEnter, f = t.onMouseLeave; if (r && r.timestamp) { var d = new qe({ id: r.timestamp, chartData: i._chartData, point: r, xAxis: i._xAxisPane.xAxis(), yAxis: i._panes.get(e).yAxis(), styles: a }); bt(d, [{ key: "drawExtend", fn: h }, { key: "drawCustomSymbol", fn: s }, { key: "checkEventCoordinateOnCustomSymbol", fn: o }, { key: "onClick", fn: u }, { key: "onRightClick", fn: l }, { key: "onMouseEnter", fn: c }, { key: "onMouseLeave", fn: f }]), n.push(d) } })), n.length > 0 && this._chartData.annotationStore().add(n, e) } }, { key: "createTag", value: function (t, e) { var i = this, n = [], r = !1, a = !1; t.forEach((function (t) { var o = t.id, s = t.point, h = t.text, u = t.mark, l = t.styles; if (j(o)) if (i._chartData.tagStore().has(o, e)) { var c = i._chartData.tagStore().update(o, e, { point: s, text: h, mark: u, styles: l }); r || (r = c) } else a = !0, n.push(new He({ id: o, point: s, text: h, mark: u, styles: l, chartData: i._chartData, xAxis: i._xAxisPane.xAxis(), yAxis: i._panes.get(e).yAxis() })) })), a ? this._chartData.tagStore().add(n, e) : r && this._invalidatePane(1) } }, { key: "setPaneOptions", value: function (t, e) { var i = e, n = !1; if (t.id !== ut) { var r = this._panes.get(t.id); r && (L(t.height) && t.height > 0 && r.height() !== t.height && (i = !0, r.setHeight(t.height), n = !0), B(t.dragEnabled) && this._separators.get(t.id).setDragEnabled(t.dragEnabled)) } i && this.adjustPaneViewport(n, !0, !0, !0, !0) } }, { key: "setTimezone", value: function (t) { this._chartData.timeScaleStore().setTimezone(t), this._xAxisPane.xAxis().computeAxis(!0), this._xAxisPane.invalidate(3) } }, { key: "convertToPixel", value: function (t, e) { var i, n = this, r = e.paneId, a = void 0 === r ? ut : r, o = e.absoluteYAxis, s = [].concat(t), h = [], u = this._chartData.styleOptions().separator.size, l = 0, c = T(this._panes.values()); try { var f = function () { var t = i.value; if (t.id() === a) return h = s.map((function (e) { var i = e.timestamp, r = e.value, a = {}, s = e.dataIndex; if (j(i) && (s = n._chartData.timeScaleStore().timestampToDataIndex(i)), j(s) && (a.x = n._xAxisPane.xAxis().convertToPixel(s)), j(r)) { var h = t.yAxis().convertToPixel(r); a.y = o ? l + h : h } return a })), "break"; l += t.height() + u }; for (c.s(); !(i = c.n()).done && "break" !== f();); } catch (t) { c.e(t) } finally { c.f() } return I(t) ? h : h[0] || {} } }, { key: "convertFromPixel", value: function (t, e) { var i, n = this, r = e.paneId, a = void 0 === r ? ut : r, o = e.absoluteYAxis, s = [].concat(t), h = [], u = this._chartData.styleOptions().separator.size, l = 0, c = T(this._panes.values()); try { var f = function () { var t = i.value; if (t.id() === a) return h = s.map((function (e) { var i = e.x, r = e.y, a = {}; if (j(i) && (a.dataIndex = n._xAxisPane.xAxis().convertFromPixel(i), a.timestamp = n._chartData.timeScaleStore().dataIndexToTimestamp(a.dataIndex)), j(r)) { var s = o ? r - l : r; a.value = t.yAxis().convertFromPixel(s) } return a })), "break"; l += t.height() + u }; for (c.s(); !(i = c.n()).done && "break" !== f();); } catch (t) { c.e(t) } finally { c.f() } return I(t) ? h : h[0] || {} } }, { key: "chartWidth", value: function () { return this._chartWidth } }, { key: "chartHeight", value: function () { return this._chartHeight } }, { key: "getConvertPictureUrl", value: function (t, e, i) { var n = this, r = this._chartContainer.offsetWidth, a = this._chartContainer.offsetHeight, o = Jt("canvas", { width: "".concat(r, "px"), height: "".concat(a, "px") }), s = o.getContext("2d"), h = Bt(o); o.width = r * h, o.height = a * h, s.scale(h, h), s.fillStyle = i, s.fillRect(0, 0, r, a); var u = 0; return this._panes.forEach((function (e, i) { if (i !== ut) { var a = n._separators.get(i); s.drawImage(a.getImage(), 0, u, r, a.height()), u += a.height() } s.drawImage(e.getImage(t), 0, u, r, e.height()), u += e.height() })), s.drawImage(this._xAxisPane.getImage(t), 0, u, r, this._xAxisPane.height()), o.toDataURL("image/".concat(e)) } }, { key: "destroy", value: function () { this._panes.forEach((function (t) { t.destroy() })), this._separators.forEach((function (t) { t.destroy() })), this._panes.clear(), this._separators.clear(), this._xAxisPane.destroy(), this._container.removeChild(this._chartContainer), this._chartEvent.destroy() } }]), t }(), Ue = function () { function t(e, i) { g(this, t), this._chartPane = new Ve(e, i) } return _(t, [{ key: "getWidth", value: function () { return this._chartPane.chartWidth() } }, { key: "getHeight", value: function () { return this._chartPane.chartHeight() } }, { key: "setStyleOptions", value: function (t) { R(t) && (this._chartPane.chartData().applyStyleOptions(t), this._chartPane.adjustPaneViewport(!0, !0, !0, !0, !0)) } }, { key: "getStyleOptions", value: function () { return P(this._chartPane.chartData().styleOptions()) } }, { key: "setPriceVolumePrecision", value: function (t, e) { L(t) && t >= 0 && L(e) && e >= 0 && this._chartPane.chartData().setPriceVolumePrecision(t, e) } }, { key: "setTimezone", value: function (t) { this._chartPane.setTimezone(t) } }, { key: "getTimezone", value: function () { return this._chartPane.chartData().timeScaleStore().timezone() } }, { key: "resize", value: function () { this._chartPane.adjustPaneViewport(!0, !0, !0, !0, !0) } }, { key: "setOffsetRightSpace", value: function (t) { L(t) && this._chartPane.chartData().timeScaleStore().setOffsetRightSpace(t, !0) } }, { key: "setLeftMinVisibleBarCount", value: function (t) { L(t) && t > 0 && this._chartPane.chartData().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t)) } }, { key: "setRightMinVisibleBarCount", value: function (t) { L(t) && t > 0 && this._chartPane.chartData().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(t)) } }, { key: "setDataSpace", value: function (t) { L(t) && this._chartPane.chartData().timeScaleStore().setDataSpace(t) } }, { key: "getDataSpace", value: function () { return this._chartPane.chartData().timeScaleStore().dataSpace() } }, { key: "getBarSpace", value: function () { return this._chartPane.chartData().timeScaleStore().barSpace() } }, { key: "clearData", value: function () { this._chartPane.chartData().clearDataList() } }, { key: "getDataList", value: function () { return this._chartPane.chartData().dataList() } }, { key: "applyNewData", value: function (t, e) { var i = this; if (I(t)) { var n = this._chartPane.chartData(); n.clearDataList(), n.addData(t, 0, e), Promise.resolve(n.technicalIndicatorStore().calcInstance()).then((function (t) { t && i._chartPane.adjustPaneViewport(!1, !0, !0, !0) })) } } }, { key: "applyMoreData", value: function (t, e) { var i = this; if (I(t)) { var n = this._chartPane.chartData(); n.addData(t, 0, e), Promise.resolve(n.technicalIndicatorStore().calcInstance()).then((function (t) { t && i._chartPane.adjustPaneViewport(!1, !0, !0, !0) })) } } }, { key: "updateData", value: function (t) { var e = this; if (R(t) && !I(t)) { var i = this._chartPane.chartData(), n = i.dataList(), r = n.length, a = et(t, "timestamp", 0), o = et(n[r - 1], "timestamp", 0); if (a >= o) { var s = r; a === o && (s = r - 1), i.addData(t, s), Promise.resolve(i.technicalIndicatorStore().calcInstance()).then((function (t) { t && e._chartPane.adjustPaneViewport(!1, !0, !0, !0) })) } } } }, { key: "loadMore", value: function (t) { O(t) && this._chartPane.chartData().timeScaleStore().setLoadMoreCallback(t) } }, { key: "createTechnicalIndicator", value: function (t, e, i) { if (!j(t)) return null; var n = R(t) && !I(t) ? t : { name: t }; return this._chartPane.chartData().technicalIndicatorStore().hasTemplate(n.name) ? this._chartPane.createTechnicalIndicator(n, e, i) : null } }, { key: "addTechnicalIndicatorTemplate", value: function (t) { if (R(t)) { var e = [].concat(t); this._chartPane.chartData().technicalIndicatorStore().addTemplate(e) } } }, { key: "overrideTechnicalIndicator", value: function (t, e) { var i = this; if (R(t) && !I(t)) { var n = this._chartPane.chartData().technicalIndicatorStore().override(t, e); n && n.then((function (t) { i._chartPane.adjustPaneViewport(!1, !0, !0, !0) })) } } }, { key: "getTechnicalIndicatorTemplate", value: function (t) { return this._chartPane.chartData().technicalIndicatorStore().getTemplateInfo(t) } }, { key: "getTechnicalIndicatorByPaneId", value: function (t, e) { return this._chartPane.chartData().technicalIndicatorStore().getInstanceInfo(t, e) } }, { key: "removeTechnicalIndicator", value: function (t, e) { this._chartPane.removeTechnicalIndicator(t, e) } }, { key: "addShapeTemplate", value: function (t) { if (R(t)) { var e = [].concat(t); this._chartPane.chartData().shapeStore().addTemplate(e) } } }, { key: "createShape", value: function (t, e) { if (!j(t)) return null; var i = R(t) && !I(t) ? t : { name: t }, n = this._chartPane.chartData().shapeStore().getTemplate(i.name); return n ? this._chartPane.createShape(n, i, e) : null } }, { key: "getShape", value: function (t) { return this._chartPane.chartData().shapeStore().getInstanceInfo(t) } }, { key: "setShapeOptions", value: function (t) { R(t) && !I(t) && this._chartPane.chartData().shapeStore().setInstanceOptions(t) } }, { key: "removeShape", value: function (t) { this._chartPane.chartData().shapeStore().removeInstance(t) } }, { key: "createAnnotation", value: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ut; if (R(t) && this._chartPane.hasPane(e)) { var i = [].concat(t); this._chartPane.createAnnotation(i, e) } } }, { key: "removeAnnotation", value: function (t, e) { this._chartPane.chartData().annotationStore().remove(t, e) } }, { key: "createTag", value: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ut; if (R(t) && this._chartPane.hasPane(e)) { var i = [].concat(t); this._chartPane.createTag(i, e) } } }, { key: "removeTag", value: function (t, e) { this._chartPane.chartData().tagStore().remove(t, e) } }, { key: "setPaneOptions", value: function (t) { R(t) && this._chartPane.setPaneOptions(t, !1) } }, { key: "setZoomEnabled", value: function (t) { this._chartPane.chartData().timeScaleStore().setZoomEnabled(t) } }, { key: "isZoomEnabled", value: function () { return this._chartPane.chartData().timeScaleStore().zoomEnabled() } }, { key: "setScrollEnabled", value: function (t) { this._chartPane.chartData().timeScaleStore().setScrollEnabled(t) } }, { key: "isScrollEnabled", value: function () { return this._chartPane.chartData().timeScaleStore().scrollEnabled() } }, { key: "scrollByDistance", value: function (t, e) { var i = this; if (L(t)) if (L(e) && e > 0) { this._chartPane.chartData().timeScaleStore().startScroll(); var n = (new Date).getTime(); !function r() { var a = ((new Date).getTime() - n) / e, o = a >= 1, s = o ? t : t * a; i._chartPane.chartData().timeScaleStore().scroll(s), o || te(r) }() } else this._chartPane.chartData().timeScaleStore().startScroll(), this._chartPane.chartData().timeScaleStore().scroll(t) } }, { key: "scrollToRealTime", value: function (t) { var e = (this._chartPane.chartData().timeScaleStore().offsetRightBarCount() - this._chartPane.chartData().timeScaleStore().offsetRightSpace() / this._chartPane.chartData().timeScaleStore().dataSpace()) * this._chartPane.chartData().timeScaleStore().dataSpace(); this.scrollByDistance(e, t) } }, { key: "scrollToDataIndex", value: function (t, e) { if (L(t)) { var i = (this._chartPane.chartData().dataList().length - 1 - t) * this._chartPane.chartData().timeScaleStore().dataSpace(); this.scrollByDistance(i, e) } } }, { key: "zoomAtCoordinate", value: function (t, e, i) { var n = this; if (L(t)) if (L(i) && i > 0) { var r = this._chartPane.chartData().timeScaleStore().dataSpace(), a = r * t - r, o = (new Date).getTime(); !function t() { var s = ((new Date).getTime() - o) / i, h = s >= 1, u = h ? a : a * s; n._chartPane.chartData().timeScaleStore().zoom(u / r, e), h || te(t) }() } else this._chartPane.chartData().timeScaleStore().zoom(t, e) } }, { key: "zoomAtDataIndex", value: function (t, e, i) { if (L(t) && L(e)) { var n = this._chartPane.chartData().timeScaleStore().dataIndexToCoordinate(e); this.zoomAtCoordinate(t, { x: n }, i) } } }, { key: "convertToPixel", value: function (t, e) { return this._chartPane.convertToPixel(t, e) } }, { key: "convertFromPixel", value: function (t, e) { return this._chartPane.convertFromPixel(t, e) } }, { key: "subscribeAction", value: function (t, e) { this._chartPane.chartData().actionStore().subscribe(t, e) } }, { key: "unsubscribeAction", value: function (t, e) { this._chartPane.chartData().actionStore().unsubscribe(t, e) } }, { key: "getConvertPictureUrl", value: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "jpeg", i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "#FFFFFF"; if ("png" === e || "jpeg" === e || "bmp" === e) return this._chartPane.getConvertPictureUrl(t, e, i) } }, { key: "destroy", value: function () { this._chartPane.destroy() } }]), t }(), We = {}, Ye = 1, Ke = "k_line_chart_"; p.addTechnicalIndicatorTemplate([{ name: "AVP", series: "price", precision: 2, plots: [{ key: "avp", title: "AVP: ", type: "line" }], calcTechnicalIndicator: function (t) { var e = 0, i = 0; return t.map((function (t) { var n = {}; return e += t.turnover || 0, 0 !== (i += t.volume || 0) && (n.avp = e / i), n })) } }, e, i, n, { name: "EMV", calcParams: [14, 9], plots: [{ key: "emv", title: "EMV: ", type: "line" }, { key: "maEmv", title: "MAEMV: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = [], o = []; return t.forEach((function (e, s) { var h = {}, u = t[s - 1] || e, l = e.high, c = e.low, f = e.turnover || 0, d = 0; 0 !== f && (d = ((l + c) / 2 - (u.high + u.low) / 2) * (l - c) / f), a.push(d), n += d, i[0] - 1 > s || (h.emv = n, n -= a[s - (i[0] - 1)], r += h.emv, i[0] + i[1] - 2 > s || (h.maEmv = r / i[1], r -= o[s - (i[1] - 1)].emv)), o.push(h) })), o } }, { name: "EMA", series: "price", calcParams: [6, 12, 20], precision: 2, shouldCheckParamCount: !1, shouldOhlc: !0, plots: [{ key: "ema6", title: "EMA6: ", type: "line" }, { key: "ema12", title: "EMA12: ", type: "line" }, { key: "ema20", title: "EMA20: ", type: "line" }], regeneratePlots: function (t) { return t.map((function (t) { return { key: "ema".concat(t), title: "EMA".concat(t, ": "), type: "line" } })) }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots, r = 0, a = []; return t.map((function (t, e) { var o = {}, s = t.close; return r += s, i.forEach((function (t, i) { t - 1 > e || (a[i] = e > t - 1 ? (2 * s + (t - 1) * a[i]) / (t + 1) : r / t, o[n[i].key] = a[i]) })), o })) } }, { name: "MA", series: "price", calcParams: [5, 10, 30, 60], precision: 2, shouldCheckParamCount: !1, shouldOhlc: !0, plots: [{ key: "ma5", title: "MA5: ", type: "line" }, { key: "ma10", title: "MA10: ", type: "line" }, { key: "ma30", title: "MA30: ", type: "line" }, { key: "ma60", title: "MA60: ", type: "line" }], regeneratePlots: function (t) { return t.map((function (t) { return { key: "ma".concat(t), title: "MA".concat(t, ": "), type: "line" } })) }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots, r = []; return t.map((function (e, a) { var o = {}, s = e.close; return i.forEach((function (e, i) { r[i] = (r[i] || 0) + s, e - 1 > a || (o[n[i].key] = r[i] / e, r[i] -= t[a - (e - 1)].close) })), o })) } }, r, { name: "SMA", series: "price", calcParams: [12, 2], precision: 2, plots: [{ key: "sma", title: "SMA: ", type: "line" }], shouldCheckParamCount: !0, shouldOhlc: !0, calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0; return t.map((function (t, e) { var a = {}, o = t.close; return n += o, i[0] - 1 > e || (a.sma = r = e > i[0] - 1 ? (o * i[1] + r * (i[0] - i[1] + 1)) / (i[0] + 1) : n / i[0]), a })) } }, { name: "TRIX", calcParams: [12, 9], plots: [{ key: "trix", title: "TRIX: ", type: "line" }, { key: "maTrix", title: "MATRIX: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i, n, r, a = e.params, o = 0, s = 0, h = 0, u = 0, l = []; return t.forEach((function (t, e) { var c = {}, f = t.close; if (o += f, e >= a[0] - 1 && (s += i = e > a[0] - 1 ? (2 * f + (a[0] - 1) * i) / (a[0] + 1) : o / a[0], e >= 2 * a[0] - 2 && (h += n = e > 2 * a[0] - 2 ? (2 * i + (a[0] - 1) * n) / (a[0] + 1) : s / a[0], e >= 3 * a[0] - 3))) { var d, p = 0; e > 3 * a[0] - 3 ? p = ((d = (2 * n + (a[0] - 1) * r) / (a[0] + 1)) - r) / r * 100 : d = h / a[0], r = d, c.trix = p, u += p, 3 * a[0] + a[1] - 4 > e || (c.maTrix = u / a[1], u -= l[e - (a[1] - 1)].trix) } l.push(c) })), l } }, { name: "BRAR", calcParams: [26], plots: [{ key: "br", title: "BR: ", type: "line" }, { key: "ar", title: "AR: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = 0, o = 0; return t.map((function (e, s) { var h = {}, u = e.high, l = e.low, c = e.open, f = (t[s - 1] || e).close; if (a += u - c, o += c - l, n += u - f, r += f - l, s >= i[0] - 1) { h.ar = 0 !== o ? a / o * 100 : 0, h.br = 0 !== r ? n / r * 100 : 0; var d = t[s - (i[0] - 1)], p = d.high, m = d.low, v = d.open, y = (t[s - i[0]] || t[s - (i[0] - 1)]).close; n -= p - y, r -= y - m, a -= p - v, o -= v - m } return h })) } }, a, { name: "MTM", calcParams: [12, 6], plots: [{ key: "mtm", title: "MTM: ", type: "line" }, { key: "maMtm", title: "MAMTM: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = []; return t.forEach((function (e, a) { var o = {}; a < i[0] || (o.mtm = e.close - t[a - i[0]].close, n += o.mtm, i[0] + i[1] - 1 > a || (o.maMtm = n / i[1], n -= r[a - (i[1] - 1)].mtm)), r.push(o) })), r } }, { name: "PSY", calcParams: [12, 6], plots: [{ key: "psy", title: "PSY: ", type: "line" }, { key: "maPsy", title: "MAPSY: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = [], o = []; return t.forEach((function (e, s) { var h = {}, u = e.close - (t[s - 1] || e).close > 0 ? 1 : 0; a.push(u), n += u, i[0] - 1 > s || (h.psy = n / i[0] * 100, r += h.psy, i[0] + i[1] - 2 > s || (h.maPsy = r / i[1], r -= o[s - (i[1] - 1)].psy), n -= a[s - (i[0] - 1)]), o.push(h) })), o } }, { name: "ROC", calcParams: [12, 6], shouldCheckParamCount: !0, plots: [{ key: "roc", title: "ROC: ", type: "line" }, { key: "maRoc", title: "MAROC: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = [], r = 0; return t.forEach((function (e, a) { var o = {}; if (a >= i[0] - 1) { var s = (t[a - i[0]] || t[a - (i[0] - 1)]).close; o.roc = 0 !== s ? (e.close - s) / s * 100 : 0, r += o.roc, i[0] - 1 + i[1] - 1 > a || (o.maRoc = r / i[1], r -= n[a - (i[1] - 1)].roc) } n.push(o) })), n } }, { name: "VR", calcParams: [26, 6], plots: [{ key: "vr", title: "VR: ", type: "line" }, { key: "maVr", title: "MAVR: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = 0, o = 0, s = []; return t.forEach((function (e, h) { var u = {}, l = e.close, c = (t[h - 1] || e).close, f = e.volume; if (l > c ? n += f : c > l ? r += f : a += f, h >= i[0] - 1) { var d = a / 2; u.vr = r + d === 0 ? 0 : (n + d) / (r + d) * 100, o += u.vr, i[0] + i[1] - 2 > h || (u.maVr = o / i[1], o -= s[h - (i[1] - 1)].vr); var p = t[h - (i[0] - 1)], m = t[h - i[0]] || p, v = p.close, y = p.volume; v > m.close ? n -= y : m.close > v ? r -= y : a -= y } s.push(u) })), s } }, o, { name: "BIAS", calcParams: [6, 12, 24], shouldCheckParamCount: !1, plots: [{ key: "bias6", title: "BIAS6: ", type: "line" }, { key: "bias12", title: "BIAS12: ", type: "line" }, { key: "bias24", title: "BIAS24: ", type: "line" }], regeneratePlots: function (t) { return t.map((function (t) { return { key: "bias".concat(t), title: "BIAS".concat(t, ": "), type: "line" } })) }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots, r = []; return t.map((function (e, a) { var o = {}, s = e.close; return i.forEach((function (e, h) { if (r[h] = (r[h] || 0) + s, a >= e - 1) { var u = r[h] / i[h]; o[n[h].key] = (s - u) / u * 100, r[h] -= t[a - (e - 1)].close } })), o })) } }, s, h, l, c, f, d, { name: "OBV", calcParams: [30], plots: [{ key: "obv", title: "OBV: ", type: "line" }, { key: "maObv", title: "MAOBV: ", type: "line" }], calcTechnicalIndicator: function (t, e) { var i = e.params, n = 0, r = 0, a = []; return t.forEach((function (e, o) { var s = t[o - 1] || e; s.close > e.close ? r -= e.volume : e.close > s.close && (r += e.volume); var h = { obv: r }; n += r, i[0] - 1 > o || (h.maObv = n / i[0], n -= a[o - (i[0] - 1)].obv), a.push(h) })), a } }, { name: "PVT", plots: [{ key: "pvt", title: "PVT: ", type: "line" }], calcTechnicalIndicator: function (t) { var e = 0; return t.map((function (i, n) { var r = {}, a = (t[n - 1] || i).close, o = 0; return 0 !== a && (o = (i.close - a) / a * i.volume), r.pvt = e += o, r })) } }, { name: "VOL", series: "volume", calcParams: [5, 10, 20], shouldCheckParamCount: !1, shouldFormatBigNumber: !0, precision: 0, minValue: 0, plots: [{ key: "ma5", title: "MA5: ", type: "line" }, { key: "ma10", title: "MA10: ", type: "line" }, { key: "ma20", title: "MA20: ", type: "line" }, { key: "volume", title: "VOLUME: ", type: "bar", baseValue: 0, color: function (t, e) { var i = t.current.kLineData || {}; return i.close > i.open ? e.bar.upColor : i.open > i.close ? e.bar.downColor : e.bar.noChangeColor } }], regeneratePlots: function (t) { var e = t.map((function (t) { return { key: "ma".concat(t), title: "MA".concat(t, ": "), type: "line" } })); return e.push({ key: "volume", title: "VOLUME: ", type: "bar", baseValue: 0, color: function (t, e) { var i = t.current.kLineData || {}; return i.close > i.open ? e.bar.upColor : i.open > i.close ? e.bar.downColor : e.bar.noChangeColor } }), e }, calcTechnicalIndicator: function (t, e) { var i = e.params, n = e.plots, r = []; return t.map((function (e, a) { var o = e.volume || 0, s = { volume: o }; return i.forEach((function (e, i) { r[i] = (r[i] || 0) + o, e - 1 > a || (s[n[i].key] = r[i] / e, r[i] -= t[a - (e - 1)].volume) })), s })) } }]), p.addShapeTemplate([{ name: "horizontalRayLine", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Dt(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = { x: 0, y: e[0].y }; return e[1] && e[1].x > e[0].x && (i.x = t.viewport.width), [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[e[0], i]] }] }, performEventPressedMove: function (t) { var e = t.points, i = t.pressPoint; e[0].value = i.value, e[1].value = i.value }, performEventMoveForDrawing: function (t) { 2 === t.step && (t.points[0].value = t.movePoint.value) } }, { name: "horizontalSegment", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return At(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = []; return 2 === e.length && (i = [e]), [{ type: "line", isDraw: !0, isCheck: !0, dataSource: i }] }, performEventPressedMove: function (t) { var e = t.points, i = t.pressPoint; e[0].value = i.value, e[1].value = i.value }, performEventMoveForDrawing: function (t) { 2 === t.step && (t.points[0].value = t.movePoint.value) } }, { name: "horizontalStraightLine", totalStep: 2, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[{ x: 0, y: e[0].y }, { x: t.viewport.width, y: e[0].y }]] }] } }, { name: "verticalRayLine", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Dt(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = { x: e[0].x, y: 0 }; return e[1] && e[1].y > e[0].y && (i.y = t.viewport.height), [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[e[0], i]] }] }, performEventPressedMove: function (t) { var e = t.points, i = t.pressPoint; e[0].timestamp = i.timestamp, e[0].dataIndex = i.dataIndex, e[1].timestamp = i.timestamp, e[1].dataIndex = i.dataIndex }, performEventMoveForDrawing: function (t) { var e = t.points, i = t.movePoint; 2 === t.step && (e[0].timestamp = i.timestamp, e[0].dataIndex = i.dataIndex) } }, { name: "verticalSegment", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return At(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = []; return 2 === e.length && (i = [e]), [{ type: "line", isDraw: !0, isCheck: !0, dataSource: i }] }, performEventPressedMove: function (t) { var e = t.points, i = t.pressPoint; e[0].timestamp = i.timestamp, e[0].dataIndex = i.dataIndex, e[1].timestamp = i.timestamp, e[1].dataIndex = i.dataIndex }, performEventMoveForDrawing: function (t) { var e = t.points, i = t.movePoint; 2 === t.step && (e[0].timestamp = i.timestamp, e[0].dataIndex = i.dataIndex) } }, { name: "verticalStraightLine", totalStep: 2, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[{ x: e[0].x, y: 0 }, { x: e[0].x, y: t.viewport.height }]] }] } }, { name: "rayLine", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Dt(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e, i, n, r = t.coordinates, a = t.viewport; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [(e = r[0], i = r[1], n = { x: a.width, y: a.height }, e && i ? [e, e.x === i.x && e.y !== i.y ? i.y > e.y ? { x: e.x, y: n.y } : { x: e.x, y: 0 } : e.x > i.x ? { x: 0, y: xt(e, i, { x: 0, y: e.y }) } : { x: n.x, y: xt(e, i, { x: n.x, y: e.y }) }] : [])] }] } }, { name: "segment", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return At(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = []; return 2 === e.length && (i = [e]), [{ type: "line", isDraw: !0, isCheck: !0, dataSource: i }] } }, { name: "straightLine", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = t.viewport; return 2 > e.length || e[0].x === e[1].x ? [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[{ x: e[0].x, y: 0 }, { x: e[0].x, y: i.height }]] }] : [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[{ x: 0, y: xt(e[0], e[1], { x: 0, y: e[0].y }) }, { x: i.width, y: xt(e[0], e[1], { x: i.width, y: e[0].y }) }]] }] } }, { name: "parallelStraightLine", totalStep: 4, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.viewport; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: Ct(t.coordinates, { x: e.width, y: e.height }) }] } }, { name: "priceChannelLine", totalStep: 4, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.viewport; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: Ct(t.coordinates, { x: e.width, y: e.height }, 1) }] } }, { name: "priceLine", totalStep: 2, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Dt(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.coordinates, i = t.precision; return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: [[e[0], { x: t.viewport.width, y: e[0].y }]] }, { type: "text", isDraw: !0, isCheck: !1, dataSource: [{ x: e[0].x, y: e[0].y, text: t.yAxis.convertFromPixel(e[0].y).toFixed(i.price) }] }] } }, { name: "fibonacciLine", totalStep: 3, checkEventCoordinateOnShape: function (t) { var e = t.dataSource; return Et(e[0], e[1], t.eventCoordinate) }, createShapeDataSource: function (t) { var e = t.points, i = t.coordinates, n = t.precision; if (i.length > 0) { var r = [], a = [], o = t.viewport.width; if (i.length > 1) { var s = i[0].y - i[1].y, h = e[0].value - e[1].value;[1, .786, .618, .5, .382, .236, 0].forEach((function (t) { var u = i[1].y + s * t, l = (e[1].value + h * t).toFixed(n.price); r.push([{ x: 0, y: u }, { x: o, y: u }]), a.push({ x: 0, y: u, text: "".concat(l, " (").concat((100 * t).toFixed(1), "%)") }) })) } return [{ type: "line", isDraw: !0, isCheck: !0, dataSource: r }, { type: "text", isDraw: !0, isCheck: !1, dataSource: a }] } return [] } }]), t.dispose = function (t) { if (t) { var e; if (z(t)) { var i = document.getElementById(t); e = i && i.chartId } else e = t instanceof Ue ? t.id : t && t.chartId; e && (We[e].destroy(), delete We[e]) } }, t.extension = p, t.init = function (t) { var e, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!t) return null; if (!(e = z(t) ? document.getElementById(t) : t)) return null; var n = We[e.chartId || ""]; if (n) return n; var r = "".concat(Ke).concat(Ye++); return (n = new Ue(e, i)).id = r, e.chartId = r, We[r] = n, n }, t.version = function () { return "8.0.0" }, Object.defineProperty(t, "__esModule", { value: !0 }) }(e)
    }, 6983: function (t, e, i) { t.exports = i("c98c")(i("2416")) }, "69dc": function (t, e, i) { var n = i("7b0be").keccak256, r = i("73f30"), a = function (t, e) { var i = r.reverse(r.pad(6, r.fromNumber(t))), a = r.flatten([i, "0x0000", e]); return n(a).slice(2) }; t.exports = function t(e) { "string" == typeof e && "0x" !== e.slice(0, 2) ? e = r.fromString(e) : "string" != typeof e && void 0 !== e.length && (e = r.fromUint8Array(e)); var i = r.length(e); if (i <= 4096) return a(i, e); for (var n = 4096; 128 * n < i;)n *= 128; for (var o = [], s = 0; s < i; s += n) { var h = n < i - s ? n : i - s; o.push(t(r.slice(e, s, s + h))) } return a(i, r.flatten(o)) } }, "69f2": function (t, e, i) { (e = t.exports = function (t) { t = t.toLowerCase(); var i = e[t]; if (!i) throw new Error(t + " is not supported (we accept pull requests)"); return new i }).sha = i("087f"), e.sha1 = i("7e78"), e.sha224 = i("72aa"), e.sha256 = i("a255"), e.sha384 = i("b837"), e.sha512 = i("4fd1") }, "6f82": function (t, e, i) { "use strict"; (function (t) { var n = this && this.__importDefault || function (t) { return t && t.__esModule ? t : { default: t } }; Object.defineProperty(e, "__esModule", { value: !0 }), e.getLength = e.decode = e.encode = void 0; var r = n(i("399f")); function a(t, e) { if ("0" === t[0] && "0" === t[1]) throw new Error("invalid RLP: extra zeros"); return parseInt(t, e) } function o(e, i) { if (e < 56) return t.from([e + i]); var n = h(e), r = h(i + 55 + n.length / 2); return t.from(r + n, "hex") } function s(t) { return "0x" === t.slice(0, 2) } function h(t) { if (t < 0) throw new Error("Invalid integer as argument, must be unsigned!"); var e = t.toString(16); return e.length % 2 ? "0" + e : e } function u(e) { if (!t.isBuffer(e)) { if ("string" == typeof e) return s(e) ? t.from((n = "string" != typeof (a = e) ? a : s(a) ? a.slice(2) : a).length % 2 ? "0" + n : n, "hex") : t.from(e); if ("number" == typeof e || "bigint" == typeof e) return e ? (i = h(e), t.from(i, "hex")) : t.from([]); if (null == e) return t.from([]); if (e instanceof Uint8Array) return t.from(e); if (r.default.isBN(e)) return t.from(e.toArray()); throw new Error("invalid type") } var i, n, a; return e } e.encode = function e(i) { if (Array.isArray(i)) { for (var n = [], r = 0; r < i.length; r++)n.push(e(i[r])); var a = t.concat(n); return t.concat([o(a.length, 192), a]) } var s = u(i); return 1 === s.length && s[0] < 128 ? s : t.concat([o(s.length, 128), s]) }, e.decode = function (e, i) { if (void 0 === i && (i = !1), !e || 0 === e.length) return t.from([]); var n = function e(i) { var n, r, o, s, h, u = [], l = i[0]; if (l <= 127) return { data: i.slice(0, 1), remainder: i.slice(1) }; if (l <= 183) { if (n = l - 127, o = 128 === l ? t.from([]) : i.slice(1, n), 2 === n && o[0] < 128) throw new Error("invalid rlp encoding: byte must be less 0x80"); return { data: o, remainder: i.slice(n) } } if (l <= 191) { if (r = l - 182, i.length - 1 < r) throw new Error("invalid RLP: not enough bytes for string length"); if ((n = a(i.slice(1, r).toString("hex"), 16)) <= 55) throw new Error("invalid RLP: expected string length to be greater than 55"); if ((o = i.slice(r, n + r)).length < n) throw new Error("invalid RLP: not enough bytes for string"); return { data: o, remainder: i.slice(n + r) } } if (l <= 247) { for (n = l - 191, s = i.slice(1, n); s.length;)h = e(s), u.push(h.data), s = h.remainder; return { data: u, remainder: i.slice(n) } } r = l - 246, n = a(i.slice(1, r).toString("hex"), 16); var c = r + n; if (c > i.length) throw new Error("invalid rlp: total length is larger than the data"); if (0 === (s = i.slice(r, c)).length) throw new Error("invalid rlp, List has a invalid length"); for (; s.length;)h = e(s), u.push(h.data), s = h.remainder; return { data: u, remainder: i.slice(c) } }(u(e)); if (i) return n; if (0 !== n.remainder.length) throw new Error("invalid remainder"); return n.data }, e.getLength = function (e) { if (!e || 0 === e.length) return t.from([]); var i = u(e), n = i[0]; if (n <= 127) return i.length; if (n <= 183) return n - 127; if (n <= 191) return n - 182; if (n <= 247) return n - 191; var r = n - 246; return r + a(i.slice(1, r).toString("hex"), 16) } }).call(this, i("b639").Buffer) }, "6fde": function (t, e) { const i = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]; e.p1600 = function (t) { for (let e = 0; e < 24; ++e) { const n = t[0] ^ t[10] ^ t[20] ^ t[30] ^ t[40], r = t[1] ^ t[11] ^ t[21] ^ t[31] ^ t[41], a = t[2] ^ t[12] ^ t[22] ^ t[32] ^ t[42], o = t[3] ^ t[13] ^ t[23] ^ t[33] ^ t[43], s = t[4] ^ t[14] ^ t[24] ^ t[34] ^ t[44], h = t[5] ^ t[15] ^ t[25] ^ t[35] ^ t[45], u = t[6] ^ t[16] ^ t[26] ^ t[36] ^ t[46], l = t[7] ^ t[17] ^ t[27] ^ t[37] ^ t[47], c = t[8] ^ t[18] ^ t[28] ^ t[38] ^ t[48], f = t[9] ^ t[19] ^ t[29] ^ t[39] ^ t[49]; let d = c ^ (a << 1 | o >>> 31), p = f ^ (o << 1 | a >>> 31); const m = t[0] ^ d, v = t[1] ^ p, y = t[10] ^ d, g = t[11] ^ p, b = t[20] ^ d, _ = t[21] ^ p, w = t[30] ^ d, k = t[31] ^ p, M = t[40] ^ d, x = t[41] ^ p; d = n ^ (s << 1 | h >>> 31), p = r ^ (h << 1 | s >>> 31); const S = t[2] ^ d, E = t[3] ^ p, D = t[12] ^ d, A = t[13] ^ p, T = t[22] ^ d, C = t[23] ^ p, P = t[32] ^ d, I = t[33] ^ p, O = t[42] ^ d, R = t[43] ^ p; d = a ^ (u << 1 | l >>> 31), p = o ^ (l << 1 | u >>> 31); const L = t[4] ^ d, j = t[5] ^ p, B = t[14] ^ d, z = t[15] ^ p, N = t[24] ^ d, F = t[25] ^ p, q = t[34] ^ d, H = t[35] ^ p, V = t[44] ^ d, U = t[45] ^ p; d = s ^ (c << 1 | f >>> 31), p = h ^ (f << 1 | c >>> 31); const W = t[6] ^ d, Y = t[7] ^ p, K = t[16] ^ d, Z = t[17] ^ p, X = t[26] ^ d, G = t[27] ^ p, J = t[36] ^ d, $ = t[37] ^ p, Q = t[46] ^ d, tt = t[47] ^ p; d = u ^ (n << 1 | r >>> 31), p = l ^ (r << 1 | n >>> 31); const et = t[8] ^ d, it = t[9] ^ p, nt = t[18] ^ d, rt = t[19] ^ p, at = t[28] ^ d, ot = t[29] ^ p, st = t[38] ^ d, ht = t[39] ^ p, ut = t[48] ^ d, lt = t[49] ^ p, ct = m, ft = v, dt = g << 4 | y >>> 28, pt = y << 4 | g >>> 28, mt = b << 3 | _ >>> 29, vt = _ << 3 | b >>> 29, yt = k << 9 | w >>> 23, gt = w << 9 | k >>> 23, bt = M << 18 | x >>> 14, _t = x << 18 | M >>> 14, wt = S << 1 | E >>> 31, kt = E << 1 | S >>> 31, Mt = A << 12 | D >>> 20, xt = D << 12 | A >>> 20, St = T << 10 | C >>> 22, Et = C << 10 | T >>> 22, Dt = I << 13 | P >>> 19, At = P << 13 | I >>> 19, Tt = O << 2 | R >>> 30, Ct = R << 2 | O >>> 30, Pt = j << 30 | L >>> 2, It = L << 30 | j >>> 2, Ot = B << 6 | z >>> 26, Rt = z << 6 | B >>> 26, Lt = F << 11 | N >>> 21, jt = N << 11 | F >>> 21, Bt = q << 15 | H >>> 17, zt = H << 15 | q >>> 17, Nt = U << 29 | V >>> 3, Ft = V << 29 | U >>> 3, qt = W << 28 | Y >>> 4, Ht = Y << 28 | W >>> 4, Vt = Z << 23 | K >>> 9, Ut = K << 23 | Z >>> 9, Wt = X << 25 | G >>> 7, Yt = G << 25 | X >>> 7, Kt = J << 21 | $ >>> 11, Zt = $ << 21 | J >>> 11, Xt = tt << 24 | Q >>> 8, Gt = Q << 24 | tt >>> 8, Jt = et << 27 | it >>> 5, $t = it << 27 | et >>> 5, Qt = nt << 20 | rt >>> 12, te = rt << 20 | nt >>> 12, ee = ot << 7 | at >>> 25, ie = at << 7 | ot >>> 25, ne = st << 8 | ht >>> 24, re = ht << 8 | st >>> 24, ae = ut << 14 | lt >>> 18, oe = lt << 14 | ut >>> 18; t[0] = ct ^ ~Mt & Lt, t[1] = ft ^ ~xt & jt, t[10] = qt ^ ~Qt & mt, t[11] = Ht ^ ~te & vt, t[20] = wt ^ ~Ot & Wt, t[21] = kt ^ ~Rt & Yt, t[30] = Jt ^ ~dt & St, t[31] = $t ^ ~pt & Et, t[40] = Pt ^ ~Vt & ee, t[41] = It ^ ~Ut & ie, t[2] = Mt ^ ~Lt & Kt, t[3] = xt ^ ~jt & Zt, t[12] = Qt ^ ~mt & Dt, t[13] = te ^ ~vt & At, t[22] = Ot ^ ~Wt & ne, t[23] = Rt ^ ~Yt & re, t[32] = dt ^ ~St & Bt, t[33] = pt ^ ~Et & zt, t[42] = Vt ^ ~ee & yt, t[43] = Ut ^ ~ie & gt, t[4] = Lt ^ ~Kt & ae, t[5] = jt ^ ~Zt & oe, t[14] = mt ^ ~Dt & Nt, t[15] = vt ^ ~At & Ft, t[24] = Wt ^ ~ne & bt, t[25] = Yt ^ ~re & _t, t[34] = St ^ ~Bt & Xt, t[35] = Et ^ ~zt & Gt, t[44] = ee ^ ~yt & Tt, t[45] = ie ^ ~gt & Ct, t[6] = Kt ^ ~ae & ct, t[7] = Zt ^ ~oe & ft, t[16] = Dt ^ ~Nt & qt, t[17] = At ^ ~Ft & Ht, t[26] = ne ^ ~bt & wt, t[27] = re ^ ~_t & kt, t[36] = Bt ^ ~Xt & Jt, t[37] = zt ^ ~Gt & $t, t[46] = yt ^ ~Tt & Pt, t[47] = gt ^ ~Ct & It, t[8] = ae ^ ~ct & Mt, t[9] = oe ^ ~ft & xt, t[18] = Nt ^ ~qt & Qt, t[19] = Ft ^ ~Ht & te, t[28] = bt ^ ~wt & Ot, t[29] = _t ^ ~kt & Rt, t[38] = Xt ^ ~Jt & dt, t[39] = Gt ^ ~$t & pt, t[48] = Tt ^ ~Pt & Vt, t[49] = Ct ^ ~It & Ut, t[0] ^= i[2 * e], t[1] ^= i[2 * e + 1] } } }, "72aa": function (t, e, i) { var n = i("3fb5"), r = i("a255"), a = i("b672"), o = i("8707").Buffer, s = new Array(64); function h() { this.init(), this._w = s, a.call(this, 64, 56) } n(h, r), h.prototype.init = function () { return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this }, h.prototype._hash = function () { var t = o.allocUnsafe(28); return t.writeInt32BE(this._a, 0), t.writeInt32BE(this._b, 4), t.writeInt32BE(this._c, 8), t.writeInt32BE(this._d, 12), t.writeInt32BE(this._e, 16), t.writeInt32BE(this._f, 20), t.writeInt32BE(this._g, 24), t }, t.exports = h }, "75cc": function (t, e, i) { "use strict"; (function (t, n) { function r() { throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11") } var a = i("8707"), o = i("11dc"), s = a.Buffer, h = a.kMaxLength, u = t.crypto || t.msCrypto, l = Math.pow(2, 32) - 1; function c(t, e) { if ("number" != typeof t || t != t) throw new TypeError("offset must be a number"); if (t > l || t < 0) throw new TypeError("offset must be a uint32"); if (t > h || t > e) throw new RangeError("offset out of range") } function f(t, e, i) { if ("number" != typeof t || t != t) throw new TypeError("size must be a number"); if (t > l || t < 0) throw new TypeError("size must be a uint32"); if (t + e > i || t > h) throw new RangeError("buffer too small") } function d(t, e, i, r) { if (n.browser) { var a = t.buffer, s = new Uint8Array(a, e, i); return u.getRandomValues(s), r ? void n.nextTick((function () { r(null, t) })) : t } if (!r) return o(i).copy(t, e), t; o(i, (function (i, n) { if (i) return r(i); n.copy(t, e), r(null, t) })) } u && u.getRandomValues || !n.browser ? (e.randomFill = function (e, i, n, r) { if (!(s.isBuffer(e) || e instanceof t.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array'); if ("function" == typeof i) r = i, i = 0, n = e.length; else if ("function" == typeof n) r = n, n = e.length - i; else if ("function" != typeof r) throw new TypeError('"cb" argument must be a function'); return c(i, e.length), f(n, i, e.length), d(e, i, n, r) }, e.randomFillSync = function (e, i, n) { void 0 === i && (i = 0); if (!(s.isBuffer(e) || e instanceof t.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array'); c(i, e.length), void 0 === n && (n = e.length - i); return f(n, i, e.length), d(e, i, n) }) : (e.randomFill = r, e.randomFillSync = r) }).call(this, i("c8ba"), i("4362")) }, 7658: function (t, e, i) { "use strict"; var n = e; function r(t) { return 1 === t.length ? "0" + t : t } function a(t) { for (var e = "", i = 0; i < t.length; i++)e += r(t[i].toString(16)); return e } n.toArray = function (t, e) { if (Array.isArray(t)) return t.slice(); if (!t) return []; var i = []; if ("string" != typeof t) { for (var n = 0; n < t.length; n++)i[n] = 0 | t[n]; return i } if ("hex" === e) { (t = t.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (t = "0" + t); for (n = 0; n < t.length; n += 2)i.push(parseInt(t[n] + t[n + 1], 16)) } else for (n = 0; n < t.length; n++) { var r = t.charCodeAt(n), a = r >> 8, o = 255 & r; a ? i.push(a, o) : i.push(o) } return i }, n.zero2 = r, n.toHex = a, n.encode = function (t, e) { return "hex" === e ? a(t) : t } }, "780f": function (t, e, i) { "use strict"; t.exports = a; var n = i("27bf"), r = Object.create(i("3a7c")); function a(t) { if (!(this instanceof a)) return new a(t); n.call(this, t) } r.inherits = i("3fb5"), r.inherits(a, n), a.prototype._transform = function (t, e, i) { i(null, t) } }, "7a10": function (t, e, i) { var n = i("d0eb"), r = i("fdac"); function a(t) { this.rand = t || new r.Rand } t.exports = a, a.create = function (t) { return new a(t) }, a.prototype._randbelow = function (t) { var e = t.bitLength(), i = Math.ceil(e / 8); do { var r = new n(this.rand.generate(i)) } while (r.cmp(t) >= 0); return r }, a.prototype._randrange = function (t, e) { var i = e.sub(t); return t.add(this._randbelow(i)) }, a.prototype.test = function (t, e, i) { var r = t.bitLength(), a = n.mont(t), o = new n(1).toRed(a); e || (e = Math.max(1, r / 48 | 0)); for (var s = t.subn(1), h = 0; !s.testn(h); h++); for (var u = t.shrn(h), l = s.toRed(a); e > 0; e--) { var c = this._randrange(new n(2), s); i && i(c); var f = c.toRed(a).redPow(u); if (0 !== f.cmp(o) && 0 !== f.cmp(l)) { for (var d = 1; d < h; d++) { if (0 === (f = f.redSqr()).cmp(o)) return !1; if (0 === f.cmp(l)) break } if (d === h) return !1 } } return !0 }, a.prototype.getDivisor = function (t, e) { var i = t.bitLength(), r = n.mont(t), a = new n(1).toRed(r); e || (e = Math.max(1, i / 48 | 0)); for (var o = t.subn(1), s = 0; !o.testn(s); s++); for (var h = t.shrn(s), u = o.toRed(r); e > 0; e--) { var l = this._randrange(new n(2), o), c = t.gcd(l); if (0 !== c.cmpn(1)) return c; var f = l.toRed(r).redPow(h); if (0 !== f.cmp(a) && 0 !== f.cmp(u)) { for (var d = 1; d < s; d++) { if (0 === (f = f.redSqr()).cmp(a)) return f.fromRed().subn(1).gcd(t); if (0 === f.cmp(u)) break } if (d === s) return (f = f.redSqr()).fromRed().subn(1).gcd(t) } } return !1 } }, "7d2a": function (t, e) { var i = Math.pow(2, 30) - 1; t.exports = function (t, e) { if ("number" != typeof t) throw new TypeError("Iterations not a number"); if (t < 0) throw new TypeError("Bad iterations"); if ("number" != typeof e) throw new TypeError("Key length not a number"); if (e < 0 || e > i || e != e) throw new TypeError("Bad key length") } }, "7d72": function (t, e, i) { "use strict"; var n = i("8707").Buffer, r = n.isEncoding || function (t) { switch ((t = "" + t) && t.toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": case "raw": return !0; default: return !1 } }; function a(t) { var e; switch (this.encoding = function (t) { var e = function (t) { if (!t) return "utf8"; for (var e; ;)switch (t) { case "utf8": case "utf-8": return "utf8"; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return "utf16le"; case "latin1": case "binary": return "latin1"; case "base64": case "ascii": case "hex": return t; default: if (e) return; t = ("" + t).toLowerCase(), e = !0 } }(t); if ("string" != typeof e && (n.isEncoding === r || !r(t))) throw new Error("Unknown encoding: " + t); return e || t }(t), this.encoding) { case "utf16le": this.text = h, this.end = u, e = 4; break; case "utf8": this.fillLast = s, e = 4; break; case "base64": this.text = l, this.end = c, e = 3; break; default: return this.write = f, void (this.end = d) }this.lastNeed = 0, this.lastTotal = 0, this.lastChar = n.allocUnsafe(e) } function o(t) { return t <= 127 ? 0 : t >> 5 == 6 ? 2 : t >> 4 == 14 ? 3 : t >> 3 == 30 ? 4 : t >> 6 == 2 ? -1 : -2 } function s(t) { var e = this.lastTotal - this.lastNeed, i = function (t, e, i) { if (128 != (192 & e[0])) return t.lastNeed = 0, ""; if (t.lastNeed > 1 && e.length > 1) { if (128 != (192 & e[1])) return t.lastNeed = 1, ""; if (t.lastNeed > 2 && e.length > 2 && 128 != (192 & e[2])) return t.lastNeed = 2, "" } }(this, t); return void 0 !== i ? i : this.lastNeed <= t.length ? (t.copy(this.lastChar, e, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (t.copy(this.lastChar, e, 0, t.length), void (this.lastNeed -= t.length)) } function h(t, e) { if ((t.length - e) % 2 == 0) { var i = t.toString("utf16le", e); if (i) { var n = i.charCodeAt(i.length - 1); if (n >= 55296 && n <= 56319) return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = t[t.length - 2], this.lastChar[1] = t[t.length - 1], i.slice(0, -1) } return i } return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = t[t.length - 1], t.toString("utf16le", e, t.length - 1) } function u(t) { var e = t && t.length ? this.write(t) : ""; if (this.lastNeed) { var i = this.lastTotal - this.lastNeed; return e + this.lastChar.toString("utf16le", 0, i) } return e } function l(t, e) { var i = (t.length - e) % 3; return 0 === i ? t.toString("base64", e) : (this.lastNeed = 3 - i, this.lastTotal = 3, 1 === i ? this.lastChar[0] = t[t.length - 1] : (this.lastChar[0] = t[t.length - 2], this.lastChar[1] = t[t.length - 1]), t.toString("base64", e, t.length - i)) } function c(t) { var e = t && t.length ? this.write(t) : ""; return this.lastNeed ? e + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : e } function f(t) { return t.toString(this.encoding) } function d(t) { return t && t.length ? this.write(t) : "" } e.StringDecoder = a, a.prototype.write = function (t) { if (0 === t.length) return ""; var e, i; if (this.lastNeed) { if (void 0 === (e = this.fillLast(t))) return ""; i = this.lastNeed, this.lastNeed = 0 } else i = 0; return i < t.length ? e ? e + this.text(t, i) : this.text(t, i) : e || "" }, a.prototype.end = function (t) { var e = t && t.length ? this.write(t) : ""; return this.lastNeed ? e + "" : e }, a.prototype.text = function (t, e) { var i = function (t, e, i) { var n = e.length - 1; if (n < i) return 0; var r = o(e[n]); if (r >= 0) return r > 0 && (t.lastNeed = r - 1), r; if (--n < i || -2 === r) return 0; if ((r = o(e[n])) >= 0) return r > 0 && (t.lastNeed = r - 2), r; if (--n < i || -2 === r) return 0; if ((r = o(e[n])) >= 0) return r > 0 && (2 === r ? r = 0 : t.lastNeed = r - 3), r; return 0 }(this, t, e); if (!this.lastNeed) return t.toString("utf8", e); this.lastTotal = i; var n = t.length - (i - this.lastNeed); return t.copy(this.lastChar, 0, n), t.toString("utf8", e, n) }, a.prototype.fillLast = function (t) { if (this.lastNeed <= t.length) return t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal); t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, t.length), this.lastNeed -= t.length } }, "7e78": function (t, e, i) { var n = i("3fb5"), r = i("b672"), a = i("8707").Buffer, o = [1518500249, 1859775393, -1894007588, -899497514], s = new Array(80); function h() { this.init(), this._w = s, r.call(this, 64, 56) } function u(t) { return t << 5 | t >>> 27 } function l(t) { return t << 30 | t >>> 2 } function c(t, e, i, n) { return 0 === t ? e & i | ~e & n : 2 === t ? e & i | e & n | i & n : e ^ i ^ n } n(h, r), h.prototype.init = function () { return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this }, h.prototype._update = function (t) { for (var e, i = this._w, n = 0 | this._a, r = 0 | this._b, a = 0 | this._c, s = 0 | this._d, h = 0 | this._e, f = 0; f < 16; ++f)i[f] = t.readInt32BE(4 * f); for (; f < 80; ++f)i[f] = (e = i[f - 3] ^ i[f - 8] ^ i[f - 14] ^ i[f - 16]) << 1 | e >>> 31; for (var d = 0; d < 80; ++d) { var p = ~~(d / 20), m = u(n) + c(p, r, a, s) + h + i[d] + o[p] | 0; h = s, s = a, a = l(r), r = n, n = m } this._a = n + this._a | 0, this._b = r + this._b | 0, this._c = a + this._c | 0, this._d = s + this._d | 0, this._e = h + this._e | 0 }, h.prototype._hash = function () { var t = a.allocUnsafe(20); return t.writeInt32BE(0 | this._a, 0), t.writeInt32BE(0 | this._b, 4), t.writeInt32BE(0 | this._c, 8), t.writeInt32BE(0 | this._d, 12), t.writeInt32BE(0 | this._e, 16), t }, t.exports = h }, 8111: function (t, e, i) { "use strict"; const n = i("cfab"), r = {}; for (const [t, e] of Object.entries(n)) r[t.toUpperCase().replace(/-/g, "_")] = e; t.exports = Object.freeze(r) }, "83d5": function (t, e) { t.exports = function (t, e) { for (var i = t.length, n = -1; ++n < i;)t[n] ^= e[n]; return t } }, "85b1": function (t, e, i) { var n = i("5162"); t.exports = function (t) { return "string" != typeof t ? t : n(t) ? t.slice(2) : t } }, 8707: function (t, e, i) { var n = i("b639"), r = n.Buffer; function a(t, e) { for (var i in t) e[i] = t[i] } function o(t, e, i) { return r(t, e, i) } r.from && r.alloc && r.allocUnsafe && r.allocUnsafeSlow ? t.exports = n : (a(n, e), e.Buffer = o), a(r, o), o.from = function (t, e, i) { if ("number" == typeof t) throw new TypeError("Argument must not be a number"); return r(t, e, i) }, o.alloc = function (t, e, i) { if ("number" != typeof t) throw new TypeError("Argument must be a number"); var n = r(t); return void 0 !== e ? "string" == typeof i ? n.fill(e, i) : n.fill(e) : n.fill(0), n }, o.allocUnsafe = function (t) { if ("number" != typeof t) throw new TypeError("Argument must be a number"); return r(t) }, o.allocUnsafeSlow = function (t) { if ("number" != typeof t) throw new TypeError("Argument must be a number"); return n.SlowBuffer(t) } }, "88a2": function (t, e, i) { "use strict"; (function (e) { var n = Object.keys || function (t) { var e = []; for (var i in t) e.push(i); return e }; t.exports = u; var r = i("68a0"), a = i("9bdc"); i("3fb5")(u, r); for (var o = n(a.prototype), s = 0; s < o.length; s++) { var h = o[s]; u.prototype[h] || (u.prototype[h] = a.prototype[h]) } function u(t) { if (!(this instanceof u)) return new u(t); r.call(this, t), a.call(this, t), this.allowHalfOpen = !0, t && (!1 === t.readable && (this.readable = !1), !1 === t.writable && (this.writable = !1), !1 === t.allowHalfOpen && (this.allowHalfOpen = !1, this.once("end", l))) } function l() { this._writableState.ended || e.nextTick(c, this) } function c(t) { t.end() } Object.defineProperty(u.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), Object.defineProperty(u.prototype, "writableBuffer", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(u.prototype, "writableLength", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(u.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed) }, set: function (t) { void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = t, this._writableState.destroyed = t) } }) }).call(this, i("4362")) }, "8be6": function (t, e, i) { var n = i("8707").Buffer; t.exports = function (t, e, i) { if (n.isBuffer(t)) return t; if ("string" == typeof t) return n.from(t, e); if (ArrayBuffer.isView(t)) return n.from(t.buffer); throw new TypeError(i + " must be a string, a Buffer, a typed array or a DataView") } }, 9054: function (t, e, i) { "use strict"; var n = {}; function r(t, e, i) { i || (i = Error); var r = function (t) { var i, n; function r(i, n, r) { return t.call(this, function (t, i, n) { return "string" == typeof e ? e : e(t, i, n) }(i, n, r)) || this } return n = t, (i = r).prototype = Object.create(n.prototype), i.prototype.constructor = i, i.__proto__ = n, r }(i); r.prototype.name = i.name, r.prototype.code = t, n[t] = r } function a(t, e) { if (Array.isArray(t)) { var i = t.length; return t = t.map((function (t) { return String(t) })), i > 2 ? "one of ".concat(e, " ").concat(t.slice(0, i - 1).join(", "), ", or ") + t[i - 1] : 2 === i ? "one of ".concat(e, " ").concat(t[0], " or ").concat(t[1]) : "of ".concat(e, " ").concat(t[0]) } return "of ".concat(e, " ").concat(String(t)) } r("ERR_INVALID_OPT_VALUE", (function (t, e) { return 'The value "' + e + '" is invalid for option "' + t + '"' }), TypeError), r("ERR_INVALID_ARG_TYPE", (function (t, e, i) { var n, r, o, s; if ("string" == typeof e && (r = "not ", e.substr(!o || o < 0 ? 0 : +o, r.length) === r) ? (n = "must not be", e = e.replace(/^not /, "")) : n = "must be", function (t, e, i) { return (void 0 === i || i > t.length) && (i = t.length), t.substring(i - e.length, i) === e }(t, " argument")) s = "The ".concat(t, " ").concat(n, " ").concat(a(e, "type")); else { var h = function (t, e, i) { return "number" != typeof i && (i = 0), !(i + e.length > t.length) && -1 !== t.indexOf(e, i) }(t, ".") ? "property" : "argument"; s = 'The "'.concat(t, '" ').concat(h, " ").concat(n, " ").concat(a(e, "type")) } return s += ". Received type ".concat(typeof i) }), TypeError), r("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), r("ERR_METHOD_NOT_IMPLEMENTED", (function (t) { return "The " + t + " method is not implemented" })), r("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), r("ERR_STREAM_DESTROYED", (function (t) { return "Cannot call " + t + " after a stream was destroyed" })), r("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), r("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), r("ERR_STREAM_WRITE_AFTER_END", "write after end"), r("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), r("ERR_UNKNOWN_ENCODING", (function (t) { return "Unknown encoding: " + t }), TypeError), r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), t.exports.codes = n }, "91dd": function (t, e, i) { "use strict"; function n(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } t.exports = function (t, e, i, a) { e = e || "&", i = i || "="; var o = {}; if ("string" != typeof t || 0 === t.length) return o; var s = /\+/g; t = t.split(e); var h = 1e3; a && "number" == typeof a.maxKeys && (h = a.maxKeys); var u = t.length; h > 0 && u > h && (u = h); for (var l = 0; l < u; ++l) { var c, f, d, p, m = t[l].replace(s, "%20"), v = m.indexOf(i); v >= 0 ? (c = m.substr(0, v), f = m.substr(v + 1)) : (c = m, f = ""), d = decodeURIComponent(c), p = decodeURIComponent(f), n(o, d) ? r(o[d]) ? o[d].push(p) : o[d] = [o[d], p] : o[d] = p } return o }; var r = Array.isArray || function (t) { return "[object Array]" === Object.prototype.toString.call(t) } }, "925e": function (t, e, i) { (function (e, n, r) { var a = i("a9f1"), o = i("3fb5"), s = i("c90b"), h = i("e372"), u = i("d938"), l = s.IncomingMessage, c = s.readyStates; var f = t.exports = function (t) { var i, n = this; h.Writable.call(n), n._opts = t, n._body = [], n._headers = {}, t.auth && n.setHeader("Authorization", "Basic " + new e(t.auth).toString("base64")), Object.keys(t.headers).forEach((function (e) { n.setHeader(e, t.headers[e]) })); var r = !0; if ("disable-fetch" === t.mode || "requestTimeout" in t && !a.abortController) r = !1, i = !0; else if ("prefer-streaming" === t.mode) i = !1; else if ("allow-wrong-content-type" === t.mode) i = !a.overrideMimeType; else { if (t.mode && "default" !== t.mode && "prefer-fast" !== t.mode) throw new Error("Invalid value for opts.mode"); i = !0 } n._mode = function (t, e) { return a.fetch && e ? "fetch" : a.mozchunkedarraybuffer ? "moz-chunked-arraybuffer" : a.msstream ? "ms-stream" : a.arraybuffer && t ? "arraybuffer" : a.vbArray && t ? "text:vbarray" : "text" }(i, r), n._fetchTimer = null, n.on("finish", (function () { n._onFinish() })) }; o(f, h.Writable), f.prototype.setHeader = function (t, e) { var i = t.toLowerCase(); -1 === d.indexOf(i) && (this._headers[i] = { name: t, value: e }) }, f.prototype.getHeader = function (t) { var e = this._headers[t.toLowerCase()]; return e ? e.value : null }, f.prototype.removeHeader = function (t) { delete this._headers[t.toLowerCase()] }, f.prototype._onFinish = function () { var t = this; if (!t._destroyed) { var i = t._opts, o = t._headers, s = null; "GET" !== i.method && "HEAD" !== i.method && (s = a.arraybuffer ? u(e.concat(t._body)) : a.blobConstructor ? new n.Blob(t._body.map((function (t) { return u(t) })), { type: (o["content-type"] || {}).value || "" }) : e.concat(t._body).toString()); var h = []; if (Object.keys(o).forEach((function (t) { var e = o[t].name, i = o[t].value; Array.isArray(i) ? i.forEach((function (t) { h.push([e, t]) })) : h.push([e, i]) })), "fetch" === t._mode) { var l = null; if (a.abortController) { var f = new AbortController; l = f.signal, t._fetchAbortController = f, "requestTimeout" in i && 0 !== i.requestTimeout && (t._fetchTimer = n.setTimeout((function () { t.emit("requestTimeout"), t._fetchAbortController && t._fetchAbortController.abort() }), i.requestTimeout)) } n.fetch(t._opts.url, { method: t._opts.method, headers: h, body: s || void 0, mode: "cors", credentials: i.withCredentials ? "include" : "same-origin", signal: l }).then((function (e) { t._fetchResponse = e, t._connect() }), (function (e) { n.clearTimeout(t._fetchTimer), t._destroyed || t.emit("error", e) })) } else { var d = t._xhr = new n.XMLHttpRequest; try { d.open(t._opts.method, t._opts.url, !0) } catch (e) { return void r.nextTick((function () { t.emit("error", e) })) } "responseType" in d && (d.responseType = t._mode.split(":")[0]), "withCredentials" in d && (d.withCredentials = !!i.withCredentials), "text" === t._mode && "overrideMimeType" in d && d.overrideMimeType("text/plain; charset=x-user-defined"), "requestTimeout" in i && (d.timeout = i.requestTimeout, d.ontimeout = function () { t.emit("requestTimeout") }), h.forEach((function (t) { d.setRequestHeader(t[0], t[1]) })), t._response = null, d.onreadystatechange = function () { switch (d.readyState) { case c.LOADING: case c.DONE: t._onXHRProgress() } }, "moz-chunked-arraybuffer" === t._mode && (d.onprogress = function () { t._onXHRProgress() }), d.onerror = function () { t._destroyed || t.emit("error", new Error("XHR error")) }; try { d.send(s) } catch (e) { return void r.nextTick((function () { t.emit("error", e) })) } } } }, f.prototype._onXHRProgress = function () { (function (t) { try { var e = t.status; return null !== e && 0 !== e } catch (t) { return !1 } })(this._xhr) && !this._destroyed && (this._response || this._connect(), this._response._onXHRProgress()) }, f.prototype._connect = function () { var t = this; t._destroyed || (t._response = new l(t._xhr, t._fetchResponse, t._mode, t._fetchTimer), t._response.on("error", (function (e) { t.emit("error", e) })), t.emit("response", t._response)) }, f.prototype._write = function (t, e, i) { this._body.push(t), i() }, f.prototype.abort = f.prototype.destroy = function () { this._destroyed = !0, n.clearTimeout(this._fetchTimer), this._response && (this._response._destroyed = !0), this._xhr ? this._xhr.abort() : this._fetchAbortController && this._fetchAbortController.abort() }, f.prototype.end = function (t, e, i) { "function" == typeof t && (i = t, t = void 0), h.Writable.prototype.end.call(this, t, e, i) }, f.prototype.flushHeaders = function () { }, f.prototype.setTimeout = function () { }, f.prototype.setNoDelay = function () { }, f.prototype.setSocketKeepAlive = function () { }; var d = ["accept-charset", "accept-encoding", "access-control-request-headers", "access-control-request-method", "connection", "content-length", "cookie", "cookie2", "date", "dnt", "expect", "host", "keep-alive", "origin", "referer", "te", "trailer", "transfer-encoding", "upgrade", "via"] }).call(this, i("b639").Buffer, i("c8ba"), i("4362")) }, "92a9": function (t, e, i) { (function (e) { const { Transform: n } = i("e399"); t.exports = t => class i extends n { constructor(e, i, n, r) { super(r), this._rate = e, this._capacity = i, this._delimitedSuffix = n, this._options = r, this._state = new t, this._state.initialize(e, i), this._finalized = !1 } _transform(t, e, i) { let n = null; try { this.update(t, e) } catch (t) { n = t } i(n) } _flush() { } _read(t) { this.push(this.squeeze(t)) } update(t, i) { if (!e.isBuffer(t) && "string" != typeof t) throw new TypeError("Data must be a string or a buffer"); if (this._finalized) throw new Error("Squeeze already called"); return e.isBuffer(t) || (t = e.from(t, i)), this._state.absorb(t), this } squeeze(t, e) { this._finalized || (this._finalized = !0, this._state.absorbLastFewBits(this._delimitedSuffix)); let i = this._state.squeeze(t); return void 0 !== e && (i = i.toString(e)), i } _resetState() { return this._state.initialize(this._rate, this._capacity), this } _clone() { const t = new i(this._rate, this._capacity, this._delimitedSuffix, this._options); return this._state.copy(t._state), t._finalized = this._finalized, t } } }).call(this, i("b639").Buffer) }, 9490: function (t, e, i) { (function (t) { var n = i("925e"), r = i("c90b"), a = i("53a8"), o = i("8c05"), s = i("0b16"), h = e; h.request = function (e, i) { e = "string" == typeof e ? s.parse(e) : a(e); var r = -1 === t.location.protocol.search(/^https?:$/) ? "http:" : "", o = e.protocol || r, h = e.hostname || e.host, u = e.port, l = e.path || "/"; h && -1 !== h.indexOf(":") && (h = "[" + h + "]"), e.url = (h ? o + "//" + h : "") + (u ? ":" + u : "") + l, e.method = (e.method || "GET").toUpperCase(), e.headers = e.headers || {}; var c = new n(e); return i && c.on("response", i), c }, h.get = function (t, e) { var i = h.request(t, e); return i.end(), i }, h.ClientRequest = n, h.IncomingMessage = r.IncomingMessage, h.Agent = function () { }, h.Agent.defaultMaxSockets = 4, h.globalAgent = new h.Agent, h.STATUS_CODES = o, h.METHODS = ["CHECKOUT", "CONNECT", "COPY", "DELETE", "GET", "HEAD", "LOCK", "M-SEARCH", "MERGE", "MKACTIVITY", "MKCOL", "MOVE", "NOTIFY", "OPTIONS", "PATCH", "POST", "PROPFIND", "PROPPATCH", "PURGE", "PUT", "REPORT", "SEARCH", "SUBSCRIBE", "TRACE", "UNLOCK", "UNSUBSCRIBE"] }).call(this, i("c8ba")) }, "966d": function (t, e, i) { "use strict"; (function (e) { void 0 === e || !e.version || 0 === e.version.indexOf("v0.") || 0 === e.version.indexOf("v1.") && 0 !== e.version.indexOf("v1.8.") ? t.exports = { nextTick: function (t, i, n, r) { if ("function" != typeof t) throw new TypeError('"callback" argument must be a function'); var a, o, s = arguments.length; switch (s) { case 0: case 1: return e.nextTick(t); case 2: return e.nextTick((function () { t.call(null, i) })); case 3: return e.nextTick((function () { t.call(null, i, n) })); case 4: return e.nextTick((function () { t.call(null, i, n, r) })); default: for (a = new Array(s - 1), o = 0; o < a.length;)a[o++] = arguments[o]; return e.nextTick((function () { t.apply(null, a) })) } } } : t.exports = e }).call(this, i("4362")) }, "96cf": function (t, e, i) { var n = function (t) { "use strict"; var e = Object.prototype, i = e.hasOwnProperty, n = "function" == typeof Symbol ? Symbol : {}, r = n.iterator || "@@iterator", a = n.asyncIterator || "@@asyncIterator", o = n.toStringTag || "@@toStringTag"; function s(t, e, i) { return Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { s({}, "") } catch (t) { s = function (t, e, i) { return t[e] = i } } function h(t, e, i, n) { var r = e && e.prototype instanceof c ? e : c, a = Object.create(r.prototype), o = new M(n || []); return a._invoke = function (t, e, i) { var n = "suspendedStart"; return function (r, a) { if ("executing" === n) throw new Error("Generator is already running"); if ("completed" === n) { if ("throw" === r) throw a; return S() } for (i.method = r, i.arg = a; ;) { var o = i.delegate; if (o) { var s = _(o, i); if (s) { if (s === l) continue; return s } } if ("next" === i.method) i.sent = i._sent = i.arg; else if ("throw" === i.method) { if ("suspendedStart" === n) throw n = "completed", i.arg; i.dispatchException(i.arg) } else "return" === i.method && i.abrupt("return", i.arg); n = "executing"; var h = u(t, e, i); if ("normal" === h.type) { if (n = i.done ? "completed" : "suspendedYield", h.arg === l) continue; return { value: h.arg, done: i.done } } "throw" === h.type && (n = "completed", i.method = "throw", i.arg = h.arg) } } }(t, i, o), a } function u(t, e, i) { try { return { type: "normal", arg: t.call(e, i) } } catch (t) { return { type: "throw", arg: t } } } t.wrap = h; var l = {}; function c() { } function f() { } function d() { } var p = {}; s(p, r, (function () { return this })); var m = Object.getPrototypeOf, v = m && m(m(x([]))); v && v !== e && i.call(v, r) && (p = v); var y = d.prototype = c.prototype = Object.create(p); function g(t) { ["next", "throw", "return"].forEach((function (e) { s(t, e, (function (t) { return this._invoke(e, t) })) })) } function b(t, e) { var n; this._invoke = function (r, a) { function o() { return new e((function (n, o) { !function n(r, a, o, s) { var h = u(t[r], t, a); if ("throw" !== h.type) { var l = h.arg, c = l.value; return c && "object" == typeof c && i.call(c, "__await") ? e.resolve(c.__await).then((function (t) { n("next", t, o, s) }), (function (t) { n("throw", t, o, s) })) : e.resolve(c).then((function (t) { l.value = t, o(l) }), (function (t) { return n("throw", t, o, s) })) } s(h.arg) }(r, a, n, o) })) } return n = n ? n.then(o, o) : o() } } function _(t, e) { var i = t.iterator[e.method]; if (void 0 === i) { if (e.delegate = null, "throw" === e.method) { if (t.iterator.return && (e.method = "return", e.arg = void 0, _(t, e), "throw" === e.method)) return l; e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method") } return l } var n = u(i, t.iterator, e.arg); if ("throw" === n.type) return e.method = "throw", e.arg = n.arg, e.delegate = null, l; var r = n.arg; return r ? r.done ? (e[t.resultName] = r.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = void 0), e.delegate = null, l) : r : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, l) } function w(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function k(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e } function M(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(w, this), this.reset(!0) } function x(t) { if (t) { var e = t[r]; if (e) return e.call(t); if ("function" == typeof t.next) return t; if (!isNaN(t.length)) { var n = -1, a = function e() { for (; ++n < t.length;)if (i.call(t, n)) return e.value = t[n], e.done = !1, e; return e.value = void 0, e.done = !0, e }; return a.next = a } } return { next: S } } function S() { return { value: void 0, done: !0 } } return f.prototype = d, s(y, "constructor", d), s(d, "constructor", f), f.displayName = s(d, o, "GeneratorFunction"), t.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === f || "GeneratorFunction" === (e.displayName || e.name)) }, t.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, d) : (t.__proto__ = d, s(t, o, "GeneratorFunction")), t.prototype = Object.create(y), t }, t.awrap = function (t) { return { __await: t } }, g(b.prototype), s(b.prototype, a, (function () { return this })), t.AsyncIterator = b, t.async = function (e, i, n, r, a) { void 0 === a && (a = Promise); var o = new b(h(e, i, n, r), a); return t.isGeneratorFunction(i) ? o : o.next().then((function (t) { return t.done ? t.value : o.next() })) }, g(y), s(y, o, "Generator"), s(y, r, (function () { return this })), s(y, "toString", (function () { return "[object Generator]" })), t.keys = function (t) { var e = []; for (var i in t) e.push(i); return e.reverse(), function i() { for (; e.length;) { var n = e.pop(); if (n in t) return i.value = n, i.done = !1, i } return i.done = !0, i } }, t.values = x, M.prototype = { constructor: M, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(k), !t) for (var e in this) "t" === e.charAt(0) && i.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0) }, stop: function () { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var e = this; function n(i, n) { return o.type = "throw", o.arg = t, e.next = i, n && (e.method = "next", e.arg = void 0), !!n } for (var r = this.tryEntries.length - 1; r >= 0; --r) { var a = this.tryEntries[r], o = a.completion; if ("root" === a.tryLoc) return n("end"); if (a.tryLoc <= this.prev) { var s = i.call(a, "catchLoc"), h = i.call(a, "finallyLoc"); if (s && h) { if (this.prev < a.catchLoc) return n(a.catchLoc, !0); if (this.prev < a.finallyLoc) return n(a.finallyLoc) } else if (s) { if (this.prev < a.catchLoc) return n(a.catchLoc, !0) } else { if (!h) throw new Error("try statement without catch or finally"); if (this.prev < a.finallyLoc) return n(a.finallyLoc) } } } }, abrupt: function (t, e) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var r = this.tryEntries[n]; if (r.tryLoc <= this.prev && i.call(r, "finallyLoc") && this.prev < r.finallyLoc) { var a = r; break } } a && ("break" === t || "continue" === t) && a.tryLoc <= e && e <= a.finallyLoc && (a = null); var o = a ? a.completion : {}; return o.type = t, o.arg = e, a ? (this.method = "next", this.next = a.finallyLoc, l) : this.complete(o) }, complete: function (t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), l }, finish: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var i = this.tryEntries[e]; if (i.finallyLoc === t) return this.complete(i.completion, i.afterLoc), k(i), l } }, catch: function (t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var i = this.tryEntries[e]; if (i.tryLoc === t) { var n = i.completion; if ("throw" === n.type) { var r = n.arg; k(i) } return r } } throw new Error("illegal catch attempt") }, delegateYield: function (t, e, i) { return this.delegate = { iterator: x(t), resultName: e, nextLoc: i }, "next" === this.method && (this.arg = void 0), l } }, t }(t.exports); try { regeneratorRuntime = n } catch (t) { "object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n) } }, "9bdc": function (t, e, i) { "use strict"; (function (e, n) { function r(t) { var e = this; this.next = null, this.entry = null, this.finish = function () { !function (t, e, i) { var n = t.entry; t.entry = null; for (; n;) { var r = n.callback; e.pendingcb--, r(i), n = n.next } e.corkedRequestsFree.next = t }(e, t) } } var a; t.exports = S, S.WritableState = x; var o = { deprecate: i("b7d1") }, s = i("027d"), h = i("b639").Buffer, u = e.Uint8Array || function () { }; var l, c = i("ac0c"), f = i("4d28").getHighWaterMark, d = i("9054").codes, p = d.ERR_INVALID_ARG_TYPE, m = d.ERR_METHOD_NOT_IMPLEMENTED, v = d.ERR_MULTIPLE_CALLBACK, y = d.ERR_STREAM_CANNOT_PIPE, g = d.ERR_STREAM_DESTROYED, b = d.ERR_STREAM_NULL_VALUES, _ = d.ERR_STREAM_WRITE_AFTER_END, w = d.ERR_UNKNOWN_ENCODING, k = c.errorOrDestroy; function M() { } function x(t, e, o) { a = a || i("88a2"), t = t || {}, "boolean" != typeof o && (o = e instanceof a), this.objectMode = !!t.objectMode, o && (this.objectMode = this.objectMode || !!t.writableObjectMode), this.highWaterMark = f(this, t, "writableHighWaterMark", o), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1; var s = !1 === t.decodeStrings; this.decodeStrings = !s, this.defaultEncoding = t.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (t) { !function (t, e) { var i = t._writableState, r = i.sync, a = i.writecb; if ("function" != typeof a) throw new v; if (function (t) { t.writing = !1, t.writecb = null, t.length -= t.writelen, t.writelen = 0 }(i), e) !function (t, e, i, r, a) { --e.pendingcb, i ? (n.nextTick(a, r), n.nextTick(P, t, e), t._writableState.errorEmitted = !0, k(t, r)) : (a(r), t._writableState.errorEmitted = !0, k(t, r), P(t, e)) }(t, i, r, e, a); else { var o = T(i) || t.destroyed; o || i.corked || i.bufferProcessing || !i.bufferedRequest || A(t, i), r ? n.nextTick(D, t, i, o, a) : D(t, i, o, a) } }(e, t) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new r(this) } function S(t) { var e = this instanceof (a = a || i("88a2")); if (!e && !l.call(S, this)) return new S(t); this._writableState = new x(t, this, e), this.writable = !0, t && ("function" == typeof t.write && (this._write = t.write), "function" == typeof t.writev && (this._writev = t.writev), "function" == typeof t.destroy && (this._destroy = t.destroy), "function" == typeof t.final && (this._final = t.final)), s.call(this) } function E(t, e, i, n, r, a, o) { e.writelen = n, e.writecb = o, e.writing = !0, e.sync = !0, e.destroyed ? e.onwrite(new g("write")) : i ? t._writev(r, e.onwrite) : t._write(r, a, e.onwrite), e.sync = !1 } function D(t, e, i, n) { i || function (t, e) { 0 === e.length && e.needDrain && (e.needDrain = !1, t.emit("drain")) }(t, e), e.pendingcb--, n(), P(t, e) } function A(t, e) { e.bufferProcessing = !0; var i = e.bufferedRequest; if (t._writev && i && i.next) { var n = e.bufferedRequestCount, a = new Array(n), o = e.corkedRequestsFree; o.entry = i; for (var s = 0, h = !0; i;)a[s] = i, i.isBuf || (h = !1), i = i.next, s += 1; a.allBuffers = h, E(t, e, !0, e.length, a, "", o.finish), e.pendingcb++, e.lastBufferedRequest = null, o.next ? (e.corkedRequestsFree = o.next, o.next = null) : e.corkedRequestsFree = new r(e), e.bufferedRequestCount = 0 } else { for (; i;) { var u = i.chunk, l = i.encoding, c = i.callback; if (E(t, e, !1, e.objectMode ? 1 : u.length, u, l, c), i = i.next, e.bufferedRequestCount--, e.writing) break } null === i && (e.lastBufferedRequest = null) } e.bufferedRequest = i, e.bufferProcessing = !1 } function T(t) { return t.ending && 0 === t.length && null === t.bufferedRequest && !t.finished && !t.writing } function C(t, e) { t._final((function (i) { e.pendingcb--, i && k(t, i), e.prefinished = !0, t.emit("prefinish"), P(t, e) })) } function P(t, e) { var i = T(e); if (i && (function (t, e) { e.prefinished || e.finalCalled || ("function" != typeof t._final || e.destroyed ? (e.prefinished = !0, t.emit("prefinish")) : (e.pendingcb++, e.finalCalled = !0, n.nextTick(C, t, e))) }(t, e), 0 === e.pendingcb && (e.finished = !0, t.emit("finish"), e.autoDestroy))) { var r = t._readableState; (!r || r.autoDestroy && r.endEmitted) && t.destroy() } return i } i("3fb5")(S, s), x.prototype.getBuffer = function () { for (var t = this.bufferedRequest, e = []; t;)e.push(t), t = t.next; return e }, function () { try { Object.defineProperty(x.prototype, "buffer", { get: o.deprecate((function () { return this.getBuffer() }), "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003") }) } catch (t) { } }(), "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (l = Function.prototype[Symbol.hasInstance], Object.defineProperty(S, Symbol.hasInstance, { value: function (t) { return !!l.call(this, t) || this === S && (t && t._writableState instanceof x) } })) : l = function (t) { return t instanceof this }, S.prototype.pipe = function () { k(this, new y) }, S.prototype.write = function (t, e, i) { var r, a = this._writableState, o = !1, s = !a.objectMode && (r = t, h.isBuffer(r) || r instanceof u); return s && !h.isBuffer(t) && (t = function (t) { return h.from(t) }(t)), "function" == typeof e && (i = e, e = null), s ? e = "buffer" : e || (e = a.defaultEncoding), "function" != typeof i && (i = M), a.ending ? function (t, e) { var i = new _; k(t, i), n.nextTick(e, i) }(this, i) : (s || function (t, e, i, r) { var a; return null === i ? a = new b : "string" == typeof i || e.objectMode || (a = new p("chunk", ["string", "Buffer"], i)), !a || (k(t, a), n.nextTick(r, a), !1) }(this, a, t, i)) && (a.pendingcb++, o = function (t, e, i, n, r, a) { if (!i) { var o = function (t, e, i) { t.objectMode || !1 === t.decodeStrings || "string" != typeof e || (e = h.from(e, i)); return e }(e, n, r); n !== o && (i = !0, r = "buffer", n = o) } var s = e.objectMode ? 1 : n.length; e.length += s; var u = e.length < e.highWaterMark; u || (e.needDrain = !0); if (e.writing || e.corked) { var l = e.lastBufferedRequest; e.lastBufferedRequest = { chunk: n, encoding: r, isBuf: i, callback: a, next: null }, l ? l.next = e.lastBufferedRequest : e.bufferedRequest = e.lastBufferedRequest, e.bufferedRequestCount += 1 } else E(t, e, !1, s, n, r, a); return u }(this, a, s, t, e, i)), o }, S.prototype.cork = function () { this._writableState.corked++ }, S.prototype.uncork = function () { var t = this._writableState; t.corked && (t.corked--, t.writing || t.corked || t.bufferProcessing || !t.bufferedRequest || A(this, t)) }, S.prototype.setDefaultEncoding = function (t) { if ("string" == typeof t && (t = t.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((t + "").toLowerCase()) > -1)) throw new w(t); return this._writableState.defaultEncoding = t, this }, Object.defineProperty(S.prototype, "writableBuffer", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(S.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), S.prototype._write = function (t, e, i) { i(new m("_write()")) }, S.prototype._writev = null, S.prototype.end = function (t, e, i) { var r = this._writableState; return "function" == typeof t ? (i = t, t = null, e = null) : "function" == typeof e && (i = e, e = null), null != t && this.write(t, e), r.corked && (r.corked = 1, this.uncork()), r.ending || function (t, e, i) { e.ending = !0, P(t, e), i && (e.finished ? n.nextTick(i) : t.once("finish", i)); e.ended = !0, t.writable = !1 }(this, r, i), this }, Object.defineProperty(S.prototype, "writableLength", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(S.prototype, "destroyed", { enumerable: !1, get: function () { return void 0 !== this._writableState && this._writableState.destroyed }, set: function (t) { this._writableState && (this._writableState.destroyed = t) } }), S.prototype.destroy = c.destroy, S.prototype._undestroy = c.undestroy, S.prototype._destroy = function (t, e) { e(t) } }).call(this, i("c8ba"), i("4362")) }, "9f6a": function (t, e, i) { "use strict"; !function (e) { function i(t) { const e = new Uint32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]); let i = 1779033703, n = 3144134277, r = 1013904242, a = 2773480762, o = 1359893119, s = 2600822924, h = 528734635, u = 1541459225; const l = new Uint32Array(64); function c(t) { let c = 0, f = t.length; for (; f >= 64;) { let d, p, m, v, y, g = i, b = n, _ = r, w = a, k = o, M = s, x = h, S = u; for (p = 0; p < 16; p++)m = c + 4 * p, l[p] = (255 & t[m]) << 24 | (255 & t[m + 1]) << 16 | (255 & t[m + 2]) << 8 | 255 & t[m + 3]; for (p = 16; p < 64; p++)d = l[p - 2], v = (d >>> 17 | d << 15) ^ (d >>> 19 | d << 13) ^ d >>> 10, d = l[p - 15], y = (d >>> 7 | d << 25) ^ (d >>> 18 | d << 14) ^ d >>> 3, l[p] = (v + l[p - 7] | 0) + (y + l[p - 16] | 0) | 0; for (p = 0; p < 64; p++)v = (((k >>> 6 | k << 26) ^ (k >>> 11 | k << 21) ^ (k >>> 25 | k << 7)) + (k & M ^ ~k & x) | 0) + (S + (e[p] + l[p] | 0) | 0) | 0, y = ((g >>> 2 | g << 30) ^ (g >>> 13 | g << 19) ^ (g >>> 22 | g << 10)) + (g & b ^ g & _ ^ b & _) | 0, S = x, x = M, M = k, k = w + v | 0, w = _, _ = b, b = g, g = v + y | 0; i = i + g | 0, n = n + b | 0, r = r + _ | 0, a = a + w | 0, o = o + k | 0, s = s + M | 0, h = h + x | 0, u = u + S | 0, c += 64, f -= 64 } } c(t); let f, d = t.length % 64, p = t.length / 536870912 | 0, m = t.length << 3, v = d < 56 ? 56 : 120, y = t.slice(t.length - d, t.length); for (y.push(128), f = d + 1; f < v; f++)y.push(0); return y.push(p >>> 24 & 255), y.push(p >>> 16 & 255), y.push(p >>> 8 & 255), y.push(p >>> 0 & 255), y.push(m >>> 24 & 255), y.push(m >>> 16 & 255), y.push(m >>> 8 & 255), y.push(m >>> 0 & 255), c(y), [i >>> 24 & 255, i >>> 16 & 255, i >>> 8 & 255, i >>> 0 & 255, n >>> 24 & 255, n >>> 16 & 255, n >>> 8 & 255, n >>> 0 & 255, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, r >>> 0 & 255, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, a >>> 0 & 255, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, o >>> 0 & 255, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, s >>> 0 & 255, h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, h >>> 0 & 255, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, u >>> 0 & 255] } function n(t, e, n) { t = t.length <= 64 ? t : i(t); const r = 64 + e.length + 4, a = new Array(r), o = new Array(64); let s, h = []; for (s = 0; s < 64; s++)a[s] = 54; for (s = 0; s < t.length; s++)a[s] ^= t[s]; for (s = 0; s < e.length; s++)a[64 + s] = e[s]; for (s = r - 4; s < r; s++)a[s] = 0; for (s = 0; s < 64; s++)o[s] = 92; for (s = 0; s < t.length; s++)o[s] ^= t[s]; function u() { for (let t = r - 1; t >= r - 4; t--) { if (a[t]++, a[t] <= 255) return; a[t] = 0 } } for (; n >= 32;)u(), h = h.concat(i(o.concat(i(a)))), n -= 32; return n > 0 && (u(), h = h.concat(i(o.concat(i(a))).slice(0, n))), h } function r(t, e, i, n, r) { let a; for (h(t, 16 * (2 * i - 1), r, 0, 16), a = 0; a < 2 * i; a++)s(t, 16 * a, r, 16), o(r, n), h(r, 0, t, e + 16 * a, 16); for (a = 0; a < i; a++)h(t, e + 2 * a * 16, t, 16 * a, 16); for (a = 0; a < i; a++)h(t, e + 16 * (2 * a + 1), t, 16 * (a + i), 16) } function a(t, e) { return t << e | t >>> 32 - e } function o(t, e) { h(t, 0, e, 0, 16); for (let t = 8; t > 0; t -= 2)e[4] ^= a(e[0] + e[12], 7), e[8] ^= a(e[4] + e[0], 9), e[12] ^= a(e[8] + e[4], 13), e[0] ^= a(e[12] + e[8], 18), e[9] ^= a(e[5] + e[1], 7), e[13] ^= a(e[9] + e[5], 9), e[1] ^= a(e[13] + e[9], 13), e[5] ^= a(e[1] + e[13], 18), e[14] ^= a(e[10] + e[6], 7), e[2] ^= a(e[14] + e[10], 9), e[6] ^= a(e[2] + e[14], 13), e[10] ^= a(e[6] + e[2], 18), e[3] ^= a(e[15] + e[11], 7), e[7] ^= a(e[3] + e[15], 9), e[11] ^= a(e[7] + e[3], 13), e[15] ^= a(e[11] + e[7], 18), e[1] ^= a(e[0] + e[3], 7), e[2] ^= a(e[1] + e[0], 9), e[3] ^= a(e[2] + e[1], 13), e[0] ^= a(e[3] + e[2], 18), e[6] ^= a(e[5] + e[4], 7), e[7] ^= a(e[6] + e[5], 9), e[4] ^= a(e[7] + e[6], 13), e[5] ^= a(e[4] + e[7], 18), e[11] ^= a(e[10] + e[9], 7), e[8] ^= a(e[11] + e[10], 9), e[9] ^= a(e[8] + e[11], 13), e[10] ^= a(e[9] + e[8], 18), e[12] ^= a(e[15] + e[14], 7), e[13] ^= a(e[12] + e[15], 9), e[14] ^= a(e[13] + e[12], 13), e[15] ^= a(e[14] + e[13], 18); for (let i = 0; i < 16; ++i)t[i] += e[i] } function s(t, e, i, n) { for (let r = 0; r < n; r++)i[r] ^= t[e + r] } function h(t, e, i, n, r) { for (; r--;)i[n++] = t[e++] } function u(t) { if (!t || "number" != typeof t.length) return !1; for (let e = 0; e < t.length; e++) { const i = t[e]; if ("number" != typeof i || i % 1 || i < 0 || i >= 256) return !1 } return !0 } function l(t, e) { if ("number" != typeof t || t % 1) throw new Error("invalid " + e); return t } function c(t, e, i, a, o, c, f) { if (i = l(i, "N"), a = l(a, "r"), o = l(o, "p"), c = l(c, "dkLen"), 0 === i || 0 != (i & i - 1)) throw new Error("N must be power of 2"); if (i > 2147483647 / 128 / a) throw new Error("N too large"); if (a > 2147483647 / 128 / o) throw new Error("r too large"); if (!u(t)) throw new Error("password must be an array or buffer"); if (t = Array.prototype.slice.call(t), !u(e)) throw new Error("salt must be an array or buffer"); e = Array.prototype.slice.call(e); let d = n(t, e, 128 * o * a); const p = new Uint32Array(32 * o * a); for (let t = 0; t < p.length; t++) { const e = 4 * t; p[t] = (255 & d[e + 3]) << 24 | (255 & d[e + 2]) << 16 | (255 & d[e + 1]) << 8 | (255 & d[e + 0]) << 0 } const m = new Uint32Array(64 * a), v = new Uint32Array(32 * a * i), y = 32 * a, g = new Uint32Array(16), b = new Uint32Array(16), _ = o * i * 2; let w, k, M = 0, x = null, S = !1, E = 0, D = 0; const A = f ? parseInt(1e3 / a) : 4294967295, T = "undefined" != typeof setImmediate ? setImmediate : setTimeout, C = function () { if (S) return f(new Error("cancelled"), M / _); let e; switch (E) { case 0: k = 32 * D * a, h(p, k, m, 0, y), E = 1, w = 0; case 1: e = i - w, e > A && (e = A); for (let t = 0; t < e; t++)h(m, 0, v, (w + t) * y, y), r(m, y, a, g, b); if (w += e, M += e, f) { const t = parseInt(1e3 * M / _); if (t !== x) { if (S = f(null, M / _), S) break; x = t } } if (w < i) break; w = 0, E = 2; case 2: e = i - w, e > A && (e = A); for (let t = 0; t < e; t++) { const t = m[16 * (2 * a - 1)] & i - 1; s(v, t * y, m, y), r(m, y, a, g, b) } if (w += e, M += e, f) { const t = parseInt(1e3 * M / _); if (t !== x) { if (S = f(null, M / _), S) break; x = t } } if (w < i) break; if (h(m, 0, p, k, y), D++, D < o) { E = 0; break } d = []; for (let t = 0; t < p.length; t++)d.push(p[t] >> 0 & 255), d.push(p[t] >> 8 & 255), d.push(p[t] >> 16 & 255), d.push(p[t] >> 24 & 255); const u = n(t, d, c); return f && f(null, 1, u), u }f && T(C) }; if (!f) for (; ;) { const t = C(); if (null != t) return t } C() } const f = { scrypt: function (t, e, i, n, r, a, o) { return new Promise((function (s, h) { let u = 0; o && o(0), c(t, e, i, n, r, a, (function (t, e, i) { if (t) h(t); else if (i) o && 1 !== u && o(1), s(new Uint8Array(i)); else if (o && e !== u) return u = e, o(e) })) })) }, syncScrypt: function (t, e, i, n, r, a) { return new Uint8Array(c(t, e, i, n, r, a)) } }; t.exports = f }() }, "9f9d": function (t, e, i) { (function (e, i) { var n; if (e.process && e.process.browser) n = "utf-8"; else if (e.process && e.process.version) { n = parseInt(i.version.split(".")[0].slice(1), 10) >= 6 ? "utf-8" : "binary" } else n = "utf-8"; t.exports = n }).call(this, i("c8ba"), i("4362")) }, a099: function (t, e, i) { e.pbkdf2 = i("206d"), e.pbkdf2Sync = i("e07b") }, a255: function (t, e, i) { var n = i("3fb5"), r = i("b672"), a = i("8707").Buffer, o = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298], s = new Array(64); function h() { this.init(), this._w = s, r.call(this, 64, 56) } function u(t, e, i) { return i ^ t & (e ^ i) } function l(t, e, i) { return t & e | i & (t | e) } function c(t) { return (t >>> 2 | t << 30) ^ (t >>> 13 | t << 19) ^ (t >>> 22 | t << 10) } function f(t) { return (t >>> 6 | t << 26) ^ (t >>> 11 | t << 21) ^ (t >>> 25 | t << 7) } function d(t) { return (t >>> 7 | t << 25) ^ (t >>> 18 | t << 14) ^ t >>> 3 } n(h, r), h.prototype.init = function () { return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this }, h.prototype._update = function (t) { for (var e, i = this._w, n = 0 | this._a, r = 0 | this._b, a = 0 | this._c, s = 0 | this._d, h = 0 | this._e, p = 0 | this._f, m = 0 | this._g, v = 0 | this._h, y = 0; y < 16; ++y)i[y] = t.readInt32BE(4 * y); for (; y < 64; ++y)i[y] = 0 | (((e = i[y - 2]) >>> 17 | e << 15) ^ (e >>> 19 | e << 13) ^ e >>> 10) + i[y - 7] + d(i[y - 15]) + i[y - 16]; for (var g = 0; g < 64; ++g) { var b = v + f(h) + u(h, p, m) + o[g] + i[g] | 0, _ = c(n) + l(n, r, a) | 0; v = m, m = p, p = h, h = s + b | 0, s = a, a = r, r = n, n = b + _ | 0 } this._a = n + this._a | 0, this._b = r + this._b | 0, this._c = a + this._c | 0, this._d = s + this._d | 0, this._e = h + this._e | 0, this._f = p + this._f | 0, this._g = m + this._g | 0, this._h = v + this._h | 0 }, h.prototype._hash = function () { var t = a.allocUnsafe(32); return t.writeInt32BE(this._a, 0), t.writeInt32BE(this._b, 4), t.writeInt32BE(this._c, 8), t.writeInt32BE(this._d, 12), t.writeInt32BE(this._e, 16), t.writeInt32BE(this._f, 20), t.writeInt32BE(this._g, 24), t.writeInt32BE(this._h, 28), t }, t.exports = h }, a390: function (t, e, i) { "use strict"; t.exports = class { constructor(t, e, i, n) { this.name = t, this.code = e, this.alphabet = n, i && n && (this.engine = i(n)) } encode(t) { return this.engine.encode(t) } decode(t) { return this.engine.decode(t) } isImplemented() { return this.engine } } }, a6b6: function (t, e, i) { var n = i("e943"), r = i("85b1"); t.exports = function (t) { if ("string" == typeof t || "number" == typeof t) { var e = new n(1), i = String(t).toLowerCase().trim(), a = "0x" === i.substr(0, 2) || "-0x" === i.substr(0, 3), o = r(i); if ("-" === o.substr(0, 1) && (o = r(o.slice(1)), e = new n(-1, 10)), !(o = "" === o ? "0" : o).match(/^-?[0-9]+$/) && o.match(/^[0-9A-Fa-f]+$/) || o.match(/^[a-fA-F]+$/) || !0 === a && o.match(/^[0-9A-Fa-f]+$/)) return new n(o, 16).mul(e); if ((o.match(/^-?[0-9]+$/) || "" === o) && !1 === a) return new n(o, 10).mul(e) } else if ("object" == typeof t && t.toString && !t.pop && !t.push && t.toString(10).match(/^-?[0-9]+$/) && (t.mul || t.dividedToIntegerBy)) return new n(t.toString(10), 10); throw new Error("[number-to-bn] while converting number " + JSON.stringify(t) + " to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.") } }, a9f1: function (t, e, i) { (function (t) { e.fetch = s(t.fetch) && s(t.ReadableStream), e.writableStream = s(t.WritableStream), e.abortController = s(t.AbortController), e.blobConstructor = !1; try { new Blob([new ArrayBuffer(1)]), e.blobConstructor = !0 } catch (t) { } var i; function n() { if (void 0 !== i) return i; if (t.XMLHttpRequest) { i = new t.XMLHttpRequest; try { i.open("GET", t.XDomainRequest ? "/" : "https://example.com") } catch (t) { i = null } } else i = null; return i } function r(t) { var e = n(); if (!e) return !1; try { return e.responseType = t, e.responseType === t } catch (t) { } return !1 } var a = void 0 !== t.ArrayBuffer, o = a && s(t.ArrayBuffer.prototype.slice); function s(t) { return "function" == typeof t } e.arraybuffer = e.fetch || a && r("arraybuffer"), e.msstream = !e.fetch && o && r("ms-stream"), e.mozchunkedarraybuffer = !e.fetch && a && r("moz-chunked-arraybuffer"), e.overrideMimeType = e.fetch || !!n() && s(n().overrideMimeType), e.vbArray = s(t.VBArray), i = null }).call(this, i("c8ba")) }, aad6: function (t, e) { t.exports = function (t) { var e = t.fs, i = t.files, n = t.os, r = t.path, a = t.child_process, o = t.mimetype, s = t.defaultArchives, h = t.request, u = t.downloadUrl, l = t.bytes, c = t.hash, f = t.pick, d = function (t) { return function (e) { for (var i = {}, n = 0, r = t.length; n < r; ++n)i[t[n]] = e[n]; return i } }, p = function (t) { return function (e) { return "".concat(t, "/bzz-raw:/").concat(e) } }, m = function (t) { return function (e) { return new Promise((function (i, n) { h(p(t)(e), { responseType: "arraybuffer" }, (function (t, e, r) { return t ? n(t) : r.statusCode >= 400 ? n(new Error("Error ".concat(r.statusCode, "."))) : i(new Uint8Array(e)) })) })) } }, v = function (t) { return function (e) { return function e(i) { return function (n) { return function (r) { var a = function (t) { return void 0 === t.path ? Promise.resolve() : "application/bzz-manifest+json" === t.contentType ? e(t.hash)(n + t.path)(r) : Promise.resolve((i = n + t.path, function (t) { return function (e) { return e[i] = t, e } })(function (t) { return { type: t.contentType, hash: t.hash } }(t))(r)); var i }; return m(t)(i).then((function (t) { return JSON.parse(j(t)).entries })).then((function (t) { return Promise.all(t.map(a)) })).then((function () { return r })) } } }(e)("")({}) } }, y = function (t) { return function (e) { return v(t)(e).then((function (t) { return d(Object.keys(t))(Object.keys(t).map((function (e) { return t[e].hash }))) })) } }, g = function (t) { return function (e) { return v(t)(e).then((function (e) { var i = Object.keys(e), n = i.map((function (t) { return e[t].hash })), r = i.map((function (t) { return e[t].type })), a = n.map(m(t)); return Promise.all(a).then((function (t) { return d(i)(function (t) { return t.map((function (t, e) { return { type: r[e], data: t } })) }(t)) })) })) } }, b = function (t) { return function (e) { return function (n) { return i.download(p(t)(e))(n) } } }, _ = function (t) { return function (e) { return function (i) { return y(t)(e).then((function (e) { var n = []; for (var a in e) if (a.length > 0) { var o = r.join(i, a); n.push(b(t)(e[a])(o)) } return Promise.all(n).then((function () { return i })) })) } } }, w = function (t) { return function (e) { return new Promise((function (i, n) { var r = { body: "string" == typeof e ? B(e) : e, method: "POST" }; h("".concat(t, "/bzz-raw:/"), r, (function (t, e) { return t ? n(t) : i(e) })) })) } }, k = function (t) { return function (e) { return function (i) { return function (n) { return function r(a) { var o = "/" === i[0] ? i : "/" + i, s = "".concat(t, "/bzz:/").concat(e).concat(o), u = { method: "PUT", headers: { "Content-Type": n.type }, body: n.data }; return new Promise((function (t, e) { h(s, u, (function (i, n) { return i ? e(i) : -1 !== n.indexOf("error") ? e(n) : t(n) })) })).catch((function (t) { return a > 0 && r(a - 1) })) }(3) } } } }, M = function (t) { return function (e) { return S(t)({ "": e }) } }, x = function (t) { return function (i) { return e.readFile(i).then((function (e) { return M(t)({ type: o.lookup(i), data: e }) })) } }, S = function (t) { return function (e) { return w(t)("{}").then((function (i) { return Object.keys(e).reduce((function (i, n) { return i.then(function (i) { return function (n) { return k(t)(n)(i)(e[i]) } }(n)) }), Promise.resolve(i)) })) } }, E = function (t) { return function (i) { return e.readFile(i).then(w(t)) } }, D = function (t) { return function (n) { return function (r) { return i.directoryTree(r).then((function (t) { return Promise.all(t.map((function (t) { return e.readFile(t) }))).then((function (e) { var i = t.map((function (t) { return t.slice(r.length) })), n = t.map((function (t) { return o.lookup(t) || "text/plain" })); return d(i)(e.map((function (t, e) { return { type: n[e], data: t } }))) })) })).then((function (t) { return (e = n ? { "": t[n] } : {}, function (t) { var i = {}; for (var n in e) i[n] = e[n]; for (var r in t) i[r] = t[r]; return i })(t); var e })).then(S(t)) } } }, A = function (t) { return function (e) { if ("data" === e.pick) return f.data().then(w(t)); if ("file" === e.pick) return f.file().then(M(t)); if ("directory" === e.pick) return f.directory().then(S(t)); if (e.path) switch (e.kind) { case "data": return E(t)(e.path); case "file": return x(t)(e.path); case "directory": return D(t)(e.defaultFile)(e.path) } else { if (e.length || "string" == typeof e) return w(t)(e); if (e instanceof Object) return S(t)(e) } return Promise.reject(new Error("Bad arguments")) } }, T = function (t) { return function (e) { return function (i) { return R(t)(e).then((function (n) { return n ? i ? _(t)(e)(i) : g(t)(e) : i ? b(t)(e)(i) : m(t)(e) })) } } }, C = function (t, e) { var r = n.platform().replace("win32", "windows") + "-" + ("x64" === n.arch() ? "amd64" : "386"), a = (e || s)[r], o = u + a.archive + ".tar.gz", h = a.archiveMD5, l = a.binaryMD5; return i.safeDownloadArchived(o)(h)(l)(t) }, P = function (t) { return new Promise((function (e, i) { var n = a.spawn, r = function (t) { return function (e) { return -1 !== ("" + e).indexOf(t) } }, o = t.account, s = t.password, h = t.dataDir, u = t.ensApi, l = t.privateKey, c = 0, f = n(t.binPath, ["--bzzaccount", o || l, "--datadir", h, "--ens-api", u]), d = function (t) { 0 === c && r("Passphrase")(t) ? setTimeout((function () { c = 1, f.stdin.write(s + "\n") }), 500) : r("Swarm http proxy started")(t) && (c = 2, clearTimeout(p), e(f)) }; f.stdout.on("data", d), f.stderr.on("data", d); var p = setTimeout((function () { return i(new Error("Couldn't start swarm process.")) }), 2e4) })) }, I = function (t) { return new Promise((function (e, i) { t.stderr.removeAllListeners("data"), t.stdout.removeAllListeners("data"), t.stdin.removeAllListeners("error"), t.removeAllListeners("error"), t.removeAllListeners("exit"), t.kill("SIGINT"); var n = setTimeout((function () { return t.kill("SIGKILL") }), 8e3); t.once("close", (function () { clearTimeout(n), e() })) })) }, O = function (t) { return w(t)("test").then((function (t) { return "c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7" === t })).catch((function () { return !1 })) }, R = function (t) { return function (e) { return m(t)(e).then((function (t) { try { return !!JSON.parse(j(t)).entries } catch (t) { return !1 } })) } }, L = function (t) { return function (e, i, n, r, a) { var o; return void 0 !== e && (o = t(e)), void 0 !== i && (o = t(i)), void 0 !== n && (o = t(n)), void 0 !== r && (o = t(r)), void 0 !== a && (o = t(a)), o } }, j = function (t) { return l.toString(l.fromUint8Array(t)) }, B = function (t) { return l.toUint8Array(l.fromString(t)) }, z = function (t) { return { download: function (e, i) { return T(t)(e)(i) }, downloadData: L(m(t)), downloadDataToDisk: L(b(t)), downloadDirectory: L(g(t)), downloadDirectoryToDisk: L(_(t)), downloadEntries: L(v(t)), downloadRoutes: L(y(t)), isAvailable: function () { return O(t) }, upload: function (e) { return A(t)(e) }, uploadData: L(w(t)), uploadFile: L(M(t)), uploadFileFromDisk: L(M(t)), uploadDataFromDisk: L(E(t)), uploadDirectory: L(S(t)), uploadDirectoryFromDisk: L(D(t)), uploadToManifest: L(k(t)), pick: f, hash: c, fromString: B, toString: j } }; return { at: z, local: function (t) { return function (e) { return O("http://localhost:8500").then((function (i) { return i ? e(z("http://localhost:8500")).then((function () { })) : C(t.binPath, t.archives).onData((function (e) { return (t.onProgress || function () { })(e.length) })).then((function () { return P(t) })).then((function (t) { return e(z("http://localhost:8500")).then((function () { return t })) })).then(I) })) } }, download: T, downloadBinary: C, downloadData: m, downloadDataToDisk: b, downloadDirectory: g, downloadDirectoryToDisk: _, downloadEntries: v, downloadRoutes: y, isAvailable: O, startProcess: P, stopProcess: I, upload: A, uploadData: w, uploadDataFromDisk: E, uploadFile: M, uploadFileFromDisk: x, uploadDirectory: S, uploadDirectoryFromDisk: D, uploadToManifest: k, pick: f, hash: c, fromString: B, toString: j } } }, ab3a: function (t, e, i) { "use strict"; const n = i("a390"), r = i("42a71"), a = i("e456"), o = i("c444"), s = i("e8a6"), h = [["base1", "1", "", "1"], ["base2", "0", r, "01"], ["base8", "7", r, "01234567"], ["base10", "9", r, "0123456789"], ["base16", "f", a, "0123456789abcdef"], ["base32", "b", o, "abcdefghijklmnopqrstuvwxyz234567"], ["base32pad", "c", o, "abcdefghijklmnopqrstuvwxyz234567="], ["base32hex", "v", o, "0123456789abcdefghijklmnopqrstuv"], ["base32hexpad", "t", o, "0123456789abcdefghijklmnopqrstuv="], ["base32z", "h", o, "ybndrfg8ejkmcpqxot1uwisza345h769"], ["base58flickr", "Z", r, "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"], ["base58btc", "z", r, "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"], ["base64", "m", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"], ["base64pad", "M", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="], ["base64url", "u", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"], ["base64urlpad", "U", s, "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]], u = h.reduce((t, e) => (t[e[0]] = new n(e[0], e[1], e[2], e[3]), t), {}), l = h.reduce((t, e) => (t[e[1]] = u[e[0]], t), {}); t.exports = { names: u, codes: l } }, ab7e: function (t, e, i) { "use strict"; function n(t, e) { const i = t.byteLength, n = new Uint8Array(t), r = e.indexOf("=") === e.length - 1; r && (e = e.substring(0, e.length - 1)); let a = 0, o = 0, s = ""; for (let t = 0; t < i; t++)for (o = o << 8 | n[t], a += 8; a >= 5;)s += e[o >>> a - 5 & 31], a -= 5; if (a > 0 && (s += e[o << 5 - a & 31]), r) for (; s.length % 8 != 0;)s += "="; return s } t.exports = function (t) { return { encode: e => n("string" == typeof e ? Uint8Array.from(e) : e, t), decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base32 character"); return function (t, e) { const i = (t = t.replace(new RegExp("=", "g"), "")).length; let n = 0, r = 0, a = 0; const o = new Uint8Array(5 * i / 8 | 0); for (let s = 0; s < i; s++)r = r << 5 | e.indexOf(t[s]), n += 5, n >= 8 && (o[a++] = r >>> n - 8 & 255, n -= 8); return o.buffer }(e, t) } } } }, ac0c: function (t, e, i) { "use strict"; (function (e) { function i(t, e) { r(t, e), n(t) } function n(t) { t._writableState && !t._writableState.emitClose || t._readableState && !t._readableState.emitClose || t.emit("close") } function r(t, e) { t.emit("error", e) } t.exports = { destroy: function (t, a) { var o = this, s = this._readableState && this._readableState.destroyed, h = this._writableState && this._writableState.destroyed; return s || h ? (a ? a(t) : t && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, e.nextTick(r, this, t)) : e.nextTick(r, this, t)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(t || null, (function (t) { !a && t ? o._writableState ? o._writableState.errorEmitted ? e.nextTick(n, o) : (o._writableState.errorEmitted = !0, e.nextTick(i, o, t)) : e.nextTick(i, o, t) : a ? (e.nextTick(n, o), a(t)) : e.nextTick(n, o) })), this) }, undestroy: function () { this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1) }, errorOrDestroy: function (t, e) { var i = t._readableState, n = t._writableState; i && i.autoDestroy || n && n.autoDestroy ? t.destroy(e) : t.emit("error", e) } } }).call(this, i("4362")) }, ad25: function (t, e, i) { var n = i("2aee"), r = i("11dc"), a = i("98e6"), o = i("f460"), s = i("83d5"), h = i("0106"), u = i("5291"), l = i("a958"), c = i("8707").Buffer; t.exports = function (t, e, i) { var f; f = t.padding ? t.padding : i ? 1 : 4; var d, p = n(t); if (4 === f) d = function (t, e) { var i = t.modulus.byteLength(), n = e.length, u = a("sha1").update(c.alloc(0)).digest(), l = u.length, f = 2 * l; if (n > i - f - 2) throw new Error("message too long"); var d = c.alloc(i - n - f - 2), p = i - l - 1, m = r(l), v = s(c.concat([u, d, c.alloc(1, 1), e], p), o(m, p)), y = s(m, o(v, l)); return new h(c.concat([c.alloc(1), y, v], i)) }(p, e); else if (1 === f) d = function (t, e, i) { var n, a = e.length, o = t.modulus.byteLength(); if (a > o - 11) throw new Error("message too long"); n = i ? c.alloc(o - a - 3, 255) : function (t) { var e, i = c.allocUnsafe(t), n = 0, a = r(2 * t), o = 0; for (; n < t;)o === a.length && (a = r(2 * t), o = 0), (e = a[o++]) && (i[n++] = e); return i }(o - a - 3); return new h(c.concat([c.from([0, i ? 1 : 2]), n, c.alloc(1), e], o)) }(p, e, i); else { if (3 !== f) throw new Error("unknown padding"); if ((d = new h(e)).cmp(p.modulus) >= 0) throw new Error("data too long for modulus") } return i ? l(d, p) : u(d, p) } }, ad71: function (t, e, i) { "use strict"; (function (e, n) { var r = i("966d"); t.exports = b; var a, o = i("e3db"); b.ReadableState = g; i("faa1").EventEmitter; var s = function (t, e) { return t.listeners(e).length }, h = i("429b"), u = i("8707").Buffer, l = e.Uint8Array || function () { }; var c = Object.create(i("3a7c")); c.inherits = i("3fb5"); var f = i(9), d = void 0; d = f && f.debuglog ? f.debuglog("stream") : function () { }; var p, m = i("5e1a"), v = i("4681"); c.inherits(b, h); var y = ["error", "close", "destroy", "pause", "resume"]; function g(t, e) { t = t || {}; var n = e instanceof (a = a || i("b19a")); this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.readableObjectMode); var r = t.highWaterMark, o = t.readableHighWaterMark, s = this.objectMode ? 16 : 16384; this.highWaterMark = r || 0 === r ? r : n && (o || 0 === o) ? o : s, this.highWaterMark = Math.floor(this.highWaterMark), this.buffer = new m, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (p || (p = i("7d72").StringDecoder), this.decoder = new p(t.encoding), this.encoding = t.encoding) } function b(t) { if (a = a || i("b19a"), !(this instanceof b)) return new b(t); this._readableState = new g(t, this), this.readable = !0, t && ("function" == typeof t.read && (this._read = t.read), "function" == typeof t.destroy && (this._destroy = t.destroy)), h.call(this) } function _(t, e, i, n, r) { var a, o = t._readableState; null === e ? (o.reading = !1, function (t, e) { if (e.ended) return; if (e.decoder) { var i = e.decoder.end(); i && i.length && (e.buffer.push(i), e.length += e.objectMode ? 1 : i.length) } e.ended = !0, M(t) }(t, o)) : (r || (a = function (t, e) { var i; n = e, u.isBuffer(n) || n instanceof l || "string" == typeof e || void 0 === e || t.objectMode || (i = new TypeError("Invalid non-string/buffer chunk")); var n; return i }(o, e)), a ? t.emit("error", a) : o.objectMode || e && e.length > 0 ? ("string" == typeof e || o.objectMode || Object.getPrototypeOf(e) === u.prototype || (e = function (t) { return u.from(t) }(e)), n ? o.endEmitted ? t.emit("error", new Error("stream.unshift() after end event")) : w(t, o, e, !0) : o.ended ? t.emit("error", new Error("stream.push() after EOF")) : (o.reading = !1, o.decoder && !i ? (e = o.decoder.write(e), o.objectMode || 0 !== e.length ? w(t, o, e, !1) : S(t, o)) : w(t, o, e, !1))) : n || (o.reading = !1)); return function (t) { return !t.ended && (t.needReadable || t.length < t.highWaterMark || 0 === t.length) }(o) } function w(t, e, i, n) { e.flowing && 0 === e.length && !e.sync ? (t.emit("data", i), t.read(0)) : (e.length += e.objectMode ? 1 : i.length, n ? e.buffer.unshift(i) : e.buffer.push(i), e.needReadable && M(t)), S(t, e) } Object.defineProperty(b.prototype, "destroyed", { get: function () { return void 0 !== this._readableState && this._readableState.destroyed }, set: function (t) { this._readableState && (this._readableState.destroyed = t) } }), b.prototype.destroy = v.destroy, b.prototype._undestroy = v.undestroy, b.prototype._destroy = function (t, e) { this.push(null), e(t) }, b.prototype.push = function (t, e) { var i, n = this._readableState; return n.objectMode ? i = !0 : "string" == typeof t && ((e = e || n.defaultEncoding) !== n.encoding && (t = u.from(t, e), e = ""), i = !0), _(this, t, e, !1, i) }, b.prototype.unshift = function (t) { return _(this, t, null, !0, !1) }, b.prototype.isPaused = function () { return !1 === this._readableState.flowing }, b.prototype.setEncoding = function (t) { return p || (p = i("7d72").StringDecoder), this._readableState.decoder = new p(t), this._readableState.encoding = t, this }; function k(t, e) { return t <= 0 || 0 === e.length && e.ended ? 0 : e.objectMode ? 1 : t != t ? e.flowing && e.length ? e.buffer.head.data.length : e.length : (t > e.highWaterMark && (e.highWaterMark = function (t) { return t >= 8388608 ? t = 8388608 : (t--, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, t |= t >>> 16, t++), t }(t)), t <= e.length ? t : e.ended ? e.length : (e.needReadable = !0, 0)) } function M(t) { var e = t._readableState; e.needReadable = !1, e.emittedReadable || (d("emitReadable", e.flowing), e.emittedReadable = !0, e.sync ? r.nextTick(x, t) : x(t)) } function x(t) { d("emit readable"), t.emit("readable"), T(t) } function S(t, e) { e.readingMore || (e.readingMore = !0, r.nextTick(E, t, e)) } function E(t, e) { for (var i = e.length; !e.reading && !e.flowing && !e.ended && e.length < e.highWaterMark && (d("maybeReadMore read 0"), t.read(0), i !== e.length);)i = e.length; e.readingMore = !1 } function D(t) { d("readable nexttick read 0"), t.read(0) } function A(t, e) { e.reading || (d("resume read 0"), t.read(0)), e.resumeScheduled = !1, e.awaitDrain = 0, t.emit("resume"), T(t), e.flowing && !e.reading && t.read(0) } function T(t) { var e = t._readableState; for (d("flow", e.flowing); e.flowing && null !== t.read();); } function C(t, e) { return 0 === e.length ? null : (e.objectMode ? i = e.buffer.shift() : !t || t >= e.length ? (i = e.decoder ? e.buffer.join("") : 1 === e.buffer.length ? e.buffer.head.data : e.buffer.concat(e.length), e.buffer.clear()) : i = function (t, e, i) { var n; t < e.head.data.length ? (n = e.head.data.slice(0, t), e.head.data = e.head.data.slice(t)) : n = t === e.head.data.length ? e.shift() : i ? function (t, e) { var i = e.head, n = 1, r = i.data; t -= r.length; for (; i = i.next;) { var a = i.data, o = t > a.length ? a.length : t; if (o === a.length ? r += a : r += a.slice(0, t), 0 === (t -= o)) { o === a.length ? (++n, i.next ? e.head = i.next : e.head = e.tail = null) : (e.head = i, i.data = a.slice(o)); break } ++n } return e.length -= n, r }(t, e) : function (t, e) { var i = u.allocUnsafe(t), n = e.head, r = 1; n.data.copy(i), t -= n.data.length; for (; n = n.next;) { var a = n.data, o = t > a.length ? a.length : t; if (a.copy(i, i.length - t, 0, o), 0 === (t -= o)) { o === a.length ? (++r, n.next ? e.head = n.next : e.head = e.tail = null) : (e.head = n, n.data = a.slice(o)); break } ++r } return e.length -= r, i }(t, e); return n }(t, e.buffer, e.decoder), i); var i } function P(t) { var e = t._readableState; if (e.length > 0) throw new Error('"endReadable()" called on non-empty stream'); e.endEmitted || (e.ended = !0, r.nextTick(I, e, t)) } function I(t, e) { t.endEmitted || 0 !== t.length || (t.endEmitted = !0, e.readable = !1, e.emit("end")) } function O(t, e) { for (var i = 0, n = t.length; i < n; i++)if (t[i] === e) return i; return -1 } b.prototype.read = function (t) { d("read", t), t = parseInt(t, 10); var e = this._readableState, i = t; if (0 !== t && (e.emittedReadable = !1), 0 === t && e.needReadable && (e.length >= e.highWaterMark || e.ended)) return d("read: emitReadable", e.length, e.ended), 0 === e.length && e.ended ? P(this) : M(this), null; if (0 === (t = k(t, e)) && e.ended) return 0 === e.length && P(this), null; var n, r = e.needReadable; return d("need readable", r), (0 === e.length || e.length - t < e.highWaterMark) && d("length less than watermark", r = !0), e.ended || e.reading ? d("reading or ended", r = !1) : r && (d("do read"), e.reading = !0, e.sync = !0, 0 === e.length && (e.needReadable = !0), this._read(e.highWaterMark), e.sync = !1, e.reading || (t = k(i, e))), null === (n = t > 0 ? C(t, e) : null) ? (e.needReadable = !0, t = 0) : e.length -= t, 0 === e.length && (e.ended || (e.needReadable = !0), i !== t && e.ended && P(this)), null !== n && this.emit("data", n), n }, b.prototype._read = function (t) { this.emit("error", new Error("_read() is not implemented")) }, b.prototype.pipe = function (t, e) { var i = this, a = this._readableState; switch (a.pipesCount) { case 0: a.pipes = t; break; case 1: a.pipes = [a.pipes, t]; break; default: a.pipes.push(t) }a.pipesCount += 1, d("pipe count=%d opts=%j", a.pipesCount, e); var h = (!e || !1 !== e.end) && t !== n.stdout && t !== n.stderr ? l : b; function u(e, n) { d("onunpipe"), e === i && n && !1 === n.hasUnpiped && (n.hasUnpiped = !0, d("cleanup"), t.removeListener("close", y), t.removeListener("finish", g), t.removeListener("drain", c), t.removeListener("error", v), t.removeListener("unpipe", u), i.removeListener("end", l), i.removeListener("end", b), i.removeListener("data", m), f = !0, !a.awaitDrain || t._writableState && !t._writableState.needDrain || c()) } function l() { d("onend"), t.end() } a.endEmitted ? r.nextTick(h) : i.once("end", h), t.on("unpipe", u); var c = function (t) { return function () { var e = t._readableState; d("pipeOnDrain", e.awaitDrain), e.awaitDrain && e.awaitDrain--, 0 === e.awaitDrain && s(t, "data") && (e.flowing = !0, T(t)) } }(i); t.on("drain", c); var f = !1; var p = !1; function m(e) { d("ondata"), p = !1, !1 !== t.write(e) || p || ((1 === a.pipesCount && a.pipes === t || a.pipesCount > 1 && -1 !== O(a.pipes, t)) && !f && (d("false write response, pause", i._readableState.awaitDrain), i._readableState.awaitDrain++, p = !0), i.pause()) } function v(e) { d("onerror", e), b(), t.removeListener("error", v), 0 === s(t, "error") && t.emit("error", e) } function y() { t.removeListener("finish", g), b() } function g() { d("onfinish"), t.removeListener("close", y), b() } function b() { d("unpipe"), i.unpipe(t) } return i.on("data", m), function (t, e, i) { if ("function" == typeof t.prependListener) return t.prependListener(e, i); t._events && t._events[e] ? o(t._events[e]) ? t._events[e].unshift(i) : t._events[e] = [i, t._events[e]] : t.on(e, i) }(t, "error", v), t.once("close", y), t.once("finish", g), t.emit("pipe", i), a.flowing || (d("pipe resume"), i.resume()), t }, b.prototype.unpipe = function (t) { var e = this._readableState, i = { hasUnpiped: !1 }; if (0 === e.pipesCount) return this; if (1 === e.pipesCount) return t && t !== e.pipes || (t || (t = e.pipes), e.pipes = null, e.pipesCount = 0, e.flowing = !1, t && t.emit("unpipe", this, i)), this; if (!t) { var n = e.pipes, r = e.pipesCount; e.pipes = null, e.pipesCount = 0, e.flowing = !1; for (var a = 0; a < r; a++)n[a].emit("unpipe", this, i); return this } var o = O(e.pipes, t); return -1 === o || (e.pipes.splice(o, 1), e.pipesCount -= 1, 1 === e.pipesCount && (e.pipes = e.pipes[0]), t.emit("unpipe", this, i)), this }, b.prototype.on = function (t, e) { var i = h.prototype.on.call(this, t, e); if ("data" === t) !1 !== this._readableState.flowing && this.resume(); else if ("readable" === t) { var n = this._readableState; n.endEmitted || n.readableListening || (n.readableListening = n.needReadable = !0, n.emittedReadable = !1, n.reading ? n.length && M(this) : r.nextTick(D, this)) } return i }, b.prototype.addListener = b.prototype.on, b.prototype.resume = function () { var t = this._readableState; return t.flowing || (d("resume"), t.flowing = !0, function (t, e) { e.resumeScheduled || (e.resumeScheduled = !0, r.nextTick(A, t, e)) }(this, t)), this }, b.prototype.pause = function () { return d("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (d("pause"), this._readableState.flowing = !1, this.emit("pause")), this }, b.prototype.wrap = function (t) { var e = this, i = this._readableState, n = !1; for (var r in t.on("end", (function () { if (d("wrapped end"), i.decoder && !i.ended) { var t = i.decoder.end(); t && t.length && e.push(t) } e.push(null) })), t.on("data", (function (r) { (d("wrapped data"), i.decoder && (r = i.decoder.write(r)), i.objectMode && null == r) || (i.objectMode || r && r.length) && (e.push(r) || (n = !0, t.pause())) })), t) void 0 === this[r] && "function" == typeof t[r] && (this[r] = function (e) { return function () { return t[e].apply(t, arguments) } }(r)); for (var a = 0; a < y.length; a++)t.on(y[a], this.emit.bind(this, y[a])); return this._read = function (e) { d("wrapped _read", e), n && (n = !1, t.resume()) }, this }, Object.defineProperty(b.prototype, "readableHighWaterMark", { enumerable: !1, get: function () { return this._readableState.highWaterMark } }), b._fromList = C }).call(this, i("c8ba"), i("4362")) }, b19a: function (t, e, i) { "use strict"; var n = i("966d"), r = Object.keys || function (t) { var e = []; for (var i in t) e.push(i); return e }; t.exports = c; var a = Object.create(i("3a7c")); a.inherits = i("3fb5"); var o = i("ad71"), s = i("dc14"); a.inherits(c, o); for (var h = r(s.prototype), u = 0; u < h.length; u++) { var l = h[u]; c.prototype[l] || (c.prototype[l] = s.prototype[l]) } function c(t) { if (!(this instanceof c)) return new c(t); o.call(this, t), s.call(this, t), t && !1 === t.readable && (this.readable = !1), t && !1 === t.writable && (this.writable = !1), this.allowHalfOpen = !0, t && !1 === t.allowHalfOpen && (this.allowHalfOpen = !1), this.once("end", f) } function f() { this.allowHalfOpen || this._writableState.ended || n.nextTick(d, this) } function d(t) { t.end() } Object.defineProperty(c.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), Object.defineProperty(c.prototype, "destroyed", { get: function () { return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed) }, set: function (t) { void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = t, this._writableState.destroyed = t) } }), c.prototype._destroy = function (t, e) { this.push(null), this.end(), n.nextTick(e, t) } }, b383: function (t, e, i) { "use strict"; e.decode = e.parse = i("91dd"), e.encode = e.stringify = i("e099") }, b5ca: function (t, e, i) { "use strict"; var n = i("b639").Buffer, r = i("3fb5"), a = i("93e6"), o = new Array(16), s = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], h = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], u = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], l = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11], c = [0, 1518500249, 1859775393, 2400959708, 2840853838], f = [1352829926, 1548603684, 1836072691, 2053994217, 0]; function d() { a.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520 } function p(t, e) { return t << e | t >>> 32 - e } function m(t, e, i, n, r, a, o, s) { return p(t + (e ^ i ^ n) + a + o | 0, s) + r | 0 } function v(t, e, i, n, r, a, o, s) { return p(t + (e & i | ~e & n) + a + o | 0, s) + r | 0 } function y(t, e, i, n, r, a, o, s) { return p(t + ((e | ~i) ^ n) + a + o | 0, s) + r | 0 } function g(t, e, i, n, r, a, o, s) { return p(t + (e & n | i & ~n) + a + o | 0, s) + r | 0 } function b(t, e, i, n, r, a, o, s) { return p(t + (e ^ (i | ~n)) + a + o | 0, s) + r | 0 } r(d, a), d.prototype._update = function () { for (var t = o, e = 0; e < 16; ++e)t[e] = this._block.readInt32LE(4 * e); for (var i = 0 | this._a, n = 0 | this._b, r = 0 | this._c, a = 0 | this._d, d = 0 | this._e, _ = 0 | this._a, w = 0 | this._b, k = 0 | this._c, M = 0 | this._d, x = 0 | this._e, S = 0; S < 80; S += 1) { var E, D; S < 16 ? (E = m(i, n, r, a, d, t[s[S]], c[0], u[S]), D = b(_, w, k, M, x, t[h[S]], f[0], l[S])) : S < 32 ? (E = v(i, n, r, a, d, t[s[S]], c[1], u[S]), D = g(_, w, k, M, x, t[h[S]], f[1], l[S])) : S < 48 ? (E = y(i, n, r, a, d, t[s[S]], c[2], u[S]), D = y(_, w, k, M, x, t[h[S]], f[2], l[S])) : S < 64 ? (E = g(i, n, r, a, d, t[s[S]], c[3], u[S]), D = v(_, w, k, M, x, t[h[S]], f[3], l[S])) : (E = b(i, n, r, a, d, t[s[S]], c[4], u[S]), D = m(_, w, k, M, x, t[h[S]], f[4], l[S])), i = d, d = a, a = p(r, 10), r = n, n = E, _ = x, x = M, M = p(k, 10), k = w, w = D } var A = this._b + r + M | 0; this._b = this._c + a + x | 0, this._c = this._d + d + _ | 0, this._d = this._e + i + w | 0, this._e = this._a + n + k | 0, this._a = A }, d.prototype._digest = function () { this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update(); var t = n.alloc ? n.alloc(20) : new n(20); return t.writeInt32LE(this._a, 0), t.writeInt32LE(this._b, 4), t.writeInt32LE(this._c, 8), t.writeInt32LE(this._d, 12), t.writeInt32LE(this._e, 16), t }, t.exports = d }, b672: function (t, e, i) { var n = i("8707").Buffer; function r(t, e) { this._block = n.alloc(t), this._finalSize = e, this._blockSize = t, this._len = 0 } r.prototype.update = function (t, e) { "string" == typeof t && (e = e || "utf8", t = n.from(t, e)); for (var i = this._block, r = this._blockSize, a = t.length, o = this._len, s = 0; s < a;) { for (var h = o % r, u = Math.min(a - s, r - h), l = 0; l < u; l++)i[h + l] = t[s + l]; s += u, (o += u) % r == 0 && this._update(i) } return this._len += a, this }, r.prototype.digest = function (t) { var e = this._len % this._blockSize; this._block[e] = 128, this._block.fill(0, e + 1), e >= this._finalSize && (this._update(this._block), this._block.fill(0)); var i = 8 * this._len; if (i <= 4294967295) this._block.writeUInt32BE(i, this._blockSize - 4); else { var n = (4294967295 & i) >>> 0, r = (i - n) / 4294967296; this._block.writeUInt32BE(r, this._blockSize - 8), this._block.writeUInt32BE(n, this._blockSize - 4) } this._update(this._block); var a = this._hash(); return t ? a.toString(t) : a }, r.prototype._update = function () { throw new Error("_update must be implemented by subclass") }, t.exports = r }, b71c: function (t, e, i) { "use strict"; function n(t, e) { var i = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), i.push.apply(i, n) } return i } function r(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } function a(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } var o = i("b639").Buffer, s = i(6).inspect, h = s && s.custom || "inspect"; t.exports = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.head = null, this.tail = null, this.length = 0 } var e, i, u; return e = t, (i = [{ key: "push", value: function (t) { var e = { data: t, next: null }; this.length > 0 ? this.tail.next = e : this.head = e, this.tail = e, ++this.length } }, { key: "unshift", value: function (t) { var e = { data: t, next: this.head }; 0 === this.length && (this.tail = e), this.head = e, ++this.length } }, { key: "shift", value: function () { if (0 !== this.length) { var t = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, t } } }, { key: "clear", value: function () { this.head = this.tail = null, this.length = 0 } }, { key: "join", value: function (t) { if (0 === this.length) return ""; for (var e = this.head, i = "" + e.data; e = e.next;)i += t + e.data; return i } }, { key: "concat", value: function (t) { if (0 === this.length) return o.alloc(0); for (var e, i, n, r = o.allocUnsafe(t >>> 0), a = this.head, s = 0; a;)e = a.data, i = r, n = s, o.prototype.copy.call(e, i, n), s += a.data.length, a = a.next; return r } }, { key: "consume", value: function (t, e) { var i; return t < this.head.data.length ? (i = this.head.data.slice(0, t), this.head.data = this.head.data.slice(t)) : i = t === this.head.data.length ? this.shift() : e ? this._getString(t) : this._getBuffer(t), i } }, { key: "first", value: function () { return this.head.data } }, { key: "_getString", value: function (t) { var e = this.head, i = 1, n = e.data; for (t -= n.length; e = e.next;) { var r = e.data, a = t > r.length ? r.length : t; if (a === r.length ? n += r : n += r.slice(0, t), 0 == (t -= a)) { a === r.length ? (++i, e.next ? this.head = e.next : this.head = this.tail = null) : (this.head = e, e.data = r.slice(a)); break } ++i } return this.length -= i, n } }, { key: "_getBuffer", value: function (t) { var e = o.allocUnsafe(t), i = this.head, n = 1; for (i.data.copy(e), t -= i.data.length; i = i.next;) { var r = i.data, a = t > r.length ? r.length : t; if (r.copy(e, e.length - t, 0, a), 0 == (t -= a)) { a === r.length ? (++n, i.next ? this.head = i.next : this.head = this.tail = null) : (this.head = i, i.data = r.slice(a)); break } ++n } return this.length -= n, e } }, { key: h, value: function (t, e) { return s(this, function (t) { for (var e = 1; e < arguments.length; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? n(Object(i), !0).forEach((function (e) { r(t, e, i[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : n(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t }({}, e, { depth: 0, customInspect: !1 })) } }]) && a(e.prototype, i), u && a(e, u), t }() }, b837: function (t, e, i) { var n = i("3fb5"), r = i("4fd1"), a = i("b672"), o = i("8707").Buffer, s = new Array(160); function h() { this.init(), this._w = s, a.call(this, 128, 112) } n(h, r), h.prototype.init = function () { return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this }, h.prototype._hash = function () { var t = o.allocUnsafe(48); function e(e, i, n) { t.writeInt32BE(e, n), t.writeInt32BE(i, n + 4) } return e(this._ah, this._al, 0), e(this._bh, this._bl, 8), e(this._ch, this._cl, 16), e(this._dh, this._dl, 24), e(this._eh, this._el, 32), e(this._fh, this._fl, 40), t }, t.exports = h }, b8db: function (t, e, i) { "use strict"; t.exports = r; var n = i("53e2"); function r(t) { if (!(this instanceof r)) return new r(t); n.call(this, t) } i("3fb5")(r, n), r.prototype._transform = function (t, e, i) { i(null, t) } }, c2ae: function (t, e, i) { t.exports = i("e372").PassThrough }, c444: function (t, e, i) { "use strict"; function n(t, e) { const i = t.byteLength, n = new Uint8Array(t), r = e.indexOf("=") === e.length - 1; r && (e = e.substring(0, e.length - 1)); let a = 0, o = 0, s = ""; for (let t = 0; t < i; t++)for (o = o << 8 | n[t], a += 8; a >= 5;)s += e[o >>> a - 5 & 31], a -= 5; if (a > 0 && (s += e[o << 5 - a & 31]), r) for (; s.length % 8 != 0;)s += "="; return s } t.exports = function (t) { return { encode: e => n("string" == typeof e ? Uint8Array.from(e) : e, t), decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base32 character"); return function (t, e) { const i = (t = t.replace(new RegExp("=", "g"), "")).length; let n = 0, r = 0, a = 0; const o = new Uint8Array(5 * i / 8 | 0); for (let s = 0; s < i; s++)r = r << 5 | e.indexOf(t[s]), n += 5, n >= 8 && (o[a++] = r >>> n - 8 & 255, n -= 8); return o.buffer }(e, t) } } } }, c591: function (t, e, i) { "use strict"; (function (e) { var n, r = i("b639"), a = r.Buffer, o = {}; for (n in r) r.hasOwnProperty(n) && "SlowBuffer" !== n && "Buffer" !== n && (o[n] = r[n]); var s = o.Buffer = {}; for (n in a) a.hasOwnProperty(n) && "allocUnsafe" !== n && "allocUnsafeSlow" !== n && (s[n] = a[n]); if (o.Buffer.prototype = a.prototype, s.from && s.from !== Uint8Array.from || (s.from = function (t, e, i) { if ("number" == typeof t) throw new TypeError('The "value" argument must not be of type number. Received type ' + typeof t); if (t && void 0 === t.length) throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof t); return a(t, e, i) }), s.alloc || (s.alloc = function (t, e, i) { if ("number" != typeof t) throw new TypeError('The "size" argument must be of type number. Received type ' + typeof t); if (t < 0 || t >= 2 * (1 << 30)) throw new RangeError('The value "' + t + '" is invalid for option "size"'); var n = a(t); return e && 0 !== e.length ? "string" == typeof i ? n.fill(e, i) : n.fill(e) : n.fill(0), n }), !o.kStringMaxLength) try { o.kStringMaxLength = e.binding("buffer").kStringMaxLength } catch (t) { } o.constants || (o.constants = { MAX_LENGTH: o.kMaxLength }, o.kStringMaxLength && (o.constants.MAX_STRING_LENGTH = o.kStringMaxLength)), t.exports = o }).call(this, i("4362")) }, c90b: function (t, e, i) { (function (t, n, r) { var a = i("a9f1"), o = i("3fb5"), s = i("e372"), h = e.readyStates = { UNSENT: 0, OPENED: 1, HEADERS_RECEIVED: 2, LOADING: 3, DONE: 4 }, u = e.IncomingMessage = function (e, i, o, h) { var u = this; if (s.Readable.call(u), u._mode = o, u.headers = {}, u.rawHeaders = [], u.trailers = {}, u.rawTrailers = [], u.on("end", (function () { t.nextTick((function () { u.emit("close") })) })), "fetch" === o) { if (u._fetchResponse = i, u.url = i.url, u.statusCode = i.status, u.statusMessage = i.statusText, i.headers.forEach((function (t, e) { u.headers[e.toLowerCase()] = t, u.rawHeaders.push(e, t) })), a.writableStream) { var l = new WritableStream({ write: function (t) { return new Promise((function (e, i) { u._destroyed ? i() : u.push(new n(t)) ? e() : u._resumeFetch = e })) }, close: function () { r.clearTimeout(h), u._destroyed || u.push(null) }, abort: function (t) { u._destroyed || u.emit("error", t) } }); try { return void i.body.pipeTo(l).catch((function (t) { r.clearTimeout(h), u._destroyed || u.emit("error", t) })) } catch (t) { } } var c = i.body.getReader(); !function t() { c.read().then((function (e) { if (!u._destroyed) { if (e.done) return r.clearTimeout(h), void u.push(null); u.push(new n(e.value)), t() } })).catch((function (t) { r.clearTimeout(h), u._destroyed || u.emit("error", t) })) }() } else { if (u._xhr = e, u._pos = 0, u.url = e.responseURL, u.statusCode = e.status, u.statusMessage = e.statusText, e.getAllResponseHeaders().split(/\r?\n/).forEach((function (t) { var e = t.match(/^([^:]+):\s*(.*)/); if (e) { var i = e[1].toLowerCase(); "set-cookie" === i ? (void 0 === u.headers[i] && (u.headers[i] = []), u.headers[i].push(e[2])) : void 0 !== u.headers[i] ? u.headers[i] += ", " + e[2] : u.headers[i] = e[2], u.rawHeaders.push(e[1], e[2]) } })), u._charset = "x-user-defined", !a.overrideMimeType) { var f = u.rawHeaders["mime-type"]; if (f) { var d = f.match(/;\s*charset=([^;])(;|$)/); d && (u._charset = d[1].toLowerCase()) } u._charset || (u._charset = "utf-8") } } }; o(u, s.Readable), u.prototype._read = function () { var t = this._resumeFetch; t && (this._resumeFetch = null, t()) }, u.prototype._onXHRProgress = function () { var t = this, e = t._xhr, i = null; switch (t._mode) { case "text:vbarray": if (e.readyState !== h.DONE) break; try { i = new r.VBArray(e.responseBody).toArray() } catch (t) { } if (null !== i) { t.push(new n(i)); break } case "text": try { i = e.responseText } catch (e) { t._mode = "text:vbarray"; break } if (i.length > t._pos) { var a = i.substr(t._pos); if ("x-user-defined" === t._charset) { for (var o = new n(a.length), s = 0; s < a.length; s++)o[s] = 255 & a.charCodeAt(s); t.push(o) } else t.push(a, t._charset); t._pos = i.length } break; case "arraybuffer": if (e.readyState !== h.DONE || !e.response) break; i = e.response, t.push(new n(new Uint8Array(i))); break; case "moz-chunked-arraybuffer": if (i = e.response, e.readyState !== h.LOADING || !i) break; t.push(new n(new Uint8Array(i))); break; case "ms-stream": if (i = e.response, e.readyState !== h.LOADING) break; var u = new r.MSStreamReader; u.onprogress = function () { u.result.byteLength > t._pos && (t.push(new n(new Uint8Array(u.result.slice(t._pos)))), t._pos = u.result.byteLength) }, u.onload = function () { t.push(null) }, u.readAsArrayBuffer(i) }t._xhr.readyState === h.DONE && "ms-stream" !== t._mode && t.push(null) } }).call(this, i("4362"), i("b639").Buffer, i("c8ba")) }, c98c: function (t, e, i) { const n = i("e073"), r = i("92a9"); t.exports = function (t) { const e = n(t), i = r(t); return function (t, n) { switch ("string" == typeof t ? t.toLowerCase() : t) { case "keccak224": return new e(1152, 448, null, 224, n); case "keccak256": return new e(1088, 512, null, 256, n); case "keccak384": return new e(832, 768, null, 384, n); case "keccak512": return new e(576, 1024, null, 512, n); case "sha3-224": return new e(1152, 448, 6, 224, n); case "sha3-256": return new e(1088, 512, 6, 256, n); case "sha3-384": return new e(832, 768, 6, 384, n); case "sha3-512": return new e(576, 1024, 6, 512, n); case "shake128": return new i(1344, 256, 31, n); case "shake256": return new i(1088, 512, 31, n); default: throw new Error("Invald algorithm: " + t) } } } }, c9fd: function (t, e, i) { "use strict"; t.exports = i("68f9") }, cc3c: function (t, e, i) { "use strict"; const n = i("cfab"), r = i("1c13").varintEncode, a = {}; for (const t in n) { const e = n[t]; a[t] = r(e) } t.exports = Object.freeze(a) }, cfab: function (t) { t.exports = JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"x11":4352,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}') }, d0eb: function (t, e, i) { (function (t) { !function (t, e) { "use strict"; function n(t, e) { if (!t) throw new Error(e || "Assertion failed") } function r(t, e) { t.super_ = e; var i = function () { }; i.prototype = e.prototype, t.prototype = new i, t.prototype.constructor = t } function a(t, e, i) { if (a.isBN(t)) return t; this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== t && ("le" !== e && "be" !== e || (i = e, e = 10), this._init(t || 0, e || 10, i || "be")) } var o; "object" == typeof t ? t.exports = a : e.BN = a, a.BN = a, a.wordSize = 26; try { o = "undefined" != typeof window && void 0 !== window.Buffer ? window.Buffer : i(15).Buffer } catch (t) { } function s(t, e) { var i = t.charCodeAt(e); return i >= 65 && i <= 70 ? i - 55 : i >= 97 && i <= 102 ? i - 87 : i - 48 & 15 } function h(t, e, i) { var n = s(t, i); return i - 1 >= e && (n |= s(t, i - 1) << 4), n } function u(t, e, i, n) { for (var r = 0, a = Math.min(t.length, i), o = e; o < a; o++) { var s = t.charCodeAt(o) - 48; r *= n, r += s >= 49 ? s - 49 + 10 : s >= 17 ? s - 17 + 10 : s } return r } a.isBN = function (t) { return t instanceof a || null !== t && "object" == typeof t && t.constructor.wordSize === a.wordSize && Array.isArray(t.words) }, a.max = function (t, e) { return t.cmp(e) > 0 ? t : e }, a.min = function (t, e) { return t.cmp(e) < 0 ? t : e }, a.prototype._init = function (t, e, i) { if ("number" == typeof t) return this._initNumber(t, e, i); if ("object" == typeof t) return this._initArray(t, e, i); "hex" === e && (e = 16), n(e === (0 | e) && e >= 2 && e <= 36); var r = 0; "-" === (t = t.toString().replace(/\s+/g, ""))[0] && (r++, this.negative = 1), r < t.length && (16 === e ? this._parseHex(t, r, i) : (this._parseBase(t, e, r), "le" === i && this._initArray(this.toArray(), e, i))) }, a.prototype._initNumber = function (t, e, i) { t < 0 && (this.negative = 1, t = -t), t < 67108864 ? (this.words = [67108863 & t], this.length = 1) : t < 4503599627370496 ? (this.words = [67108863 & t, t / 67108864 & 67108863], this.length = 2) : (n(t < 9007199254740992), this.words = [67108863 & t, t / 67108864 & 67108863, 1], this.length = 3), "le" === i && this._initArray(this.toArray(), e, i) }, a.prototype._initArray = function (t, e, i) { if (n("number" == typeof t.length), t.length <= 0) return this.words = [0], this.length = 1, this; this.length = Math.ceil(t.length / 3), this.words = new Array(this.length); for (var r = 0; r < this.length; r++)this.words[r] = 0; var a, o, s = 0; if ("be" === i) for (r = t.length - 1, a = 0; r >= 0; r -= 3)o = t[r] | t[r - 1] << 8 | t[r - 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); else if ("le" === i) for (r = 0, a = 0; r < t.length; r += 3)o = t[r] | t[r + 1] << 8 | t[r + 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); return this.strip() }, a.prototype._parseHex = function (t, e, i) { this.length = Math.ceil((t.length - e) / 6), this.words = new Array(this.length); for (var n = 0; n < this.length; n++)this.words[n] = 0; var r, a = 0, o = 0; if ("be" === i) for (n = t.length - 1; n >= e; n -= 2)r = h(t, e, n) << a, this.words[o] |= 67108863 & r, a >= 18 ? (a -= 18, o += 1, this.words[o] |= r >>> 26) : a += 8; else for (n = (t.length - e) % 2 == 0 ? e + 1 : e; n < t.length; n += 2)r = h(t, e, n) << a, this.words[o] |= 67108863 & r, a >= 18 ? (a -= 18, o += 1, this.words[o] |= r >>> 26) : a += 8; this.strip() }, a.prototype._parseBase = function (t, e, i) { this.words = [0], this.length = 1; for (var n = 0, r = 1; r <= 67108863; r *= e)n++; n--, r = r / e | 0; for (var a = t.length - i, o = a % n, s = Math.min(a, a - o) + i, h = 0, l = i; l < s; l += n)h = u(t, l, l + n, e), this.imuln(r), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h); if (0 !== o) { var c = 1; for (h = u(t, l, t.length, e), l = 0; l < o; l++)c *= e; this.imuln(c), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h) } this.strip() }, a.prototype.copy = function (t) { t.words = new Array(this.length); for (var e = 0; e < this.length; e++)t.words[e] = this.words[e]; t.length = this.length, t.negative = this.negative, t.red = this.red }, a.prototype.clone = function () { var t = new a(null); return this.copy(t), t }, a.prototype._expand = function (t) { for (; this.length < t;)this.words[this.length++] = 0; return this }, a.prototype.strip = function () { for (; this.length > 1 && 0 === this.words[this.length - 1];)this.length--; return this._normSign() }, a.prototype._normSign = function () { return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this }, a.prototype.inspect = function () { return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">" }; var l = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], c = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], f = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176]; function d(t, e, i) { i.negative = e.negative ^ t.negative; var n = t.length + e.length | 0; i.length = n, n = n - 1 | 0; var r = 0 | t.words[0], a = 0 | e.words[0], o = r * a, s = 67108863 & o, h = o / 67108864 | 0; i.words[0] = s; for (var u = 1; u < n; u++) { for (var l = h >>> 26, c = 67108863 & h, f = Math.min(u, e.length - 1), d = Math.max(0, u - t.length + 1); d <= f; d++) { var p = u - d | 0; l += (o = (r = 0 | t.words[p]) * (a = 0 | e.words[d]) + c) / 67108864 | 0, c = 67108863 & o } i.words[u] = 0 | c, h = 0 | l } return 0 !== h ? i.words[u] = 0 | h : i.length--, i.strip() } a.prototype.toString = function (t, e) { var i; if (e = 0 | e || 1, 16 === (t = t || 10) || "hex" === t) { i = ""; for (var r = 0, a = 0, o = 0; o < this.length; o++) { var s = this.words[o], h = (16777215 & (s << r | a)).toString(16); i = 0 !== (a = s >>> 24 - r & 16777215) || o !== this.length - 1 ? l[6 - h.length] + h + i : h + i, (r += 2) >= 26 && (r -= 26, o--) } for (0 !== a && (i = a.toString(16) + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } if (t === (0 | t) && t >= 2 && t <= 36) { var u = c[t], d = f[t]; i = ""; var p = this.clone(); for (p.negative = 0; !p.isZero();) { var m = p.modn(d).toString(t); i = (p = p.idivn(d)).isZero() ? m + i : l[u - m.length] + m + i } for (this.isZero() && (i = "0" + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } n(!1, "Base should be between 2 and 36") }, a.prototype.toNumber = function () { var t = this.words[0]; return 2 === this.length ? t += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? t += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && n(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -t : t }, a.prototype.toJSON = function () { return this.toString(16) }, a.prototype.toBuffer = function (t, e) { return n(void 0 !== o), this.toArrayLike(o, t, e) }, a.prototype.toArray = function (t, e) { return this.toArrayLike(Array, t, e) }, a.prototype.toArrayLike = function (t, e, i) { var r = this.byteLength(), a = i || Math.max(1, r); n(r <= a, "byte array longer than desired length"), n(a > 0, "Requested array length <= 0"), this.strip(); var o, s, h = "le" === e, u = new t(a), l = this.clone(); if (h) { for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[s] = o; for (; s < a; s++)u[s] = 0 } else { for (s = 0; s < a - r; s++)u[s] = 0; for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[a - s - 1] = o } return u }, Math.clz32 ? a.prototype._countBits = function (t) { return 32 - Math.clz32(t) } : a.prototype._countBits = function (t) { var e = t, i = 0; return e >= 4096 && (i += 13, e >>>= 13), e >= 64 && (i += 7, e >>>= 7), e >= 8 && (i += 4, e >>>= 4), e >= 2 && (i += 2, e >>>= 2), i + e }, a.prototype._zeroBits = function (t) { if (0 === t) return 26; var e = t, i = 0; return 0 == (8191 & e) && (i += 13, e >>>= 13), 0 == (127 & e) && (i += 7, e >>>= 7), 0 == (15 & e) && (i += 4, e >>>= 4), 0 == (3 & e) && (i += 2, e >>>= 2), 0 == (1 & e) && i++, i }, a.prototype.bitLength = function () { var t = this.words[this.length - 1], e = this._countBits(t); return 26 * (this.length - 1) + e }, a.prototype.zeroBits = function () { if (this.isZero()) return 0; for (var t = 0, e = 0; e < this.length; e++) { var i = this._zeroBits(this.words[e]); if (t += i, 26 !== i) break } return t }, a.prototype.byteLength = function () { return Math.ceil(this.bitLength() / 8) }, a.prototype.toTwos = function (t) { return 0 !== this.negative ? this.abs().inotn(t).iaddn(1) : this.clone() }, a.prototype.fromTwos = function (t) { return this.testn(t - 1) ? this.notn(t).iaddn(1).ineg() : this.clone() }, a.prototype.isNeg = function () { return 0 !== this.negative }, a.prototype.neg = function () { return this.clone().ineg() }, a.prototype.ineg = function () { return this.isZero() || (this.negative ^= 1), this }, a.prototype.iuor = function (t) { for (; this.length < t.length;)this.words[this.length++] = 0; for (var e = 0; e < t.length; e++)this.words[e] = this.words[e] | t.words[e]; return this.strip() }, a.prototype.ior = function (t) { return n(0 == (this.negative | t.negative)), this.iuor(t) }, a.prototype.or = function (t) { return this.length > t.length ? this.clone().ior(t) : t.clone().ior(this) }, a.prototype.uor = function (t) { return this.length > t.length ? this.clone().iuor(t) : t.clone().iuor(this) }, a.prototype.iuand = function (t) { var e; e = this.length > t.length ? t : this; for (var i = 0; i < e.length; i++)this.words[i] = this.words[i] & t.words[i]; return this.length = e.length, this.strip() }, a.prototype.iand = function (t) { return n(0 == (this.negative | t.negative)), this.iuand(t) }, a.prototype.and = function (t) { return this.length > t.length ? this.clone().iand(t) : t.clone().iand(this) }, a.prototype.uand = function (t) { return this.length > t.length ? this.clone().iuand(t) : t.clone().iuand(this) }, a.prototype.iuxor = function (t) { var e, i; this.length > t.length ? (e = this, i = t) : (e = t, i = this); for (var n = 0; n < i.length; n++)this.words[n] = e.words[n] ^ i.words[n]; if (this !== e) for (; n < e.length; n++)this.words[n] = e.words[n]; return this.length = e.length, this.strip() }, a.prototype.ixor = function (t) { return n(0 == (this.negative | t.negative)), this.iuxor(t) }, a.prototype.xor = function (t) { return this.length > t.length ? this.clone().ixor(t) : t.clone().ixor(this) }, a.prototype.uxor = function (t) { return this.length > t.length ? this.clone().iuxor(t) : t.clone().iuxor(this) }, a.prototype.inotn = function (t) { n("number" == typeof t && t >= 0); var e = 0 | Math.ceil(t / 26), i = t % 26; this._expand(e), i > 0 && e--; for (var r = 0; r < e; r++)this.words[r] = 67108863 & ~this.words[r]; return i > 0 && (this.words[r] = ~this.words[r] & 67108863 >> 26 - i), this.strip() }, a.prototype.notn = function (t) { return this.clone().inotn(t) }, a.prototype.setn = function (t, e) { n("number" == typeof t && t >= 0); var i = t / 26 | 0, r = t % 26; return this._expand(i + 1), this.words[i] = e ? this.words[i] | 1 << r : this.words[i] & ~(1 << r), this.strip() }, a.prototype.iadd = function (t) { var e, i, n; if (0 !== this.negative && 0 === t.negative) return this.negative = 0, e = this.isub(t), this.negative ^= 1, this._normSign(); if (0 === this.negative && 0 !== t.negative) return t.negative = 0, e = this.isub(t), t.negative = 1, e._normSign(); this.length > t.length ? (i = this, n = t) : (i = t, n = this); for (var r = 0, a = 0; a < n.length; a++)e = (0 | i.words[a]) + (0 | n.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; for (; 0 !== r && a < i.length; a++)e = (0 | i.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; if (this.length = i.length, 0 !== r) this.words[this.length] = r, this.length++; else if (i !== this) for (; a < i.length; a++)this.words[a] = i.words[a]; return this }, a.prototype.add = function (t) { var e; return 0 !== t.negative && 0 === this.negative ? (t.negative = 0, e = this.sub(t), t.negative ^= 1, e) : 0 === t.negative && 0 !== this.negative ? (this.negative = 0, e = t.sub(this), this.negative = 1, e) : this.length > t.length ? this.clone().iadd(t) : t.clone().iadd(this) }, a.prototype.isub = function (t) { if (0 !== t.negative) { t.negative = 0; var e = this.iadd(t); return t.negative = 1, e._normSign() } if (0 !== this.negative) return this.negative = 0, this.iadd(t), this.negative = 1, this._normSign(); var i, n, r = this.cmp(t); if (0 === r) return this.negative = 0, this.length = 1, this.words[0] = 0, this; r > 0 ? (i = this, n = t) : (i = t, n = this); for (var a = 0, o = 0; o < n.length; o++)a = (e = (0 | i.words[o]) - (0 | n.words[o]) + a) >> 26, this.words[o] = 67108863 & e; for (; 0 !== a && o < i.length; o++)a = (e = (0 | i.words[o]) + a) >> 26, this.words[o] = 67108863 & e; if (0 === a && o < i.length && i !== this) for (; o < i.length; o++)this.words[o] = i.words[o]; return this.length = Math.max(this.length, o), i !== this && (this.negative = 1), this.strip() }, a.prototype.sub = function (t) { return this.clone().isub(t) }; var p = function (t, e, i) { var n, r, a, o = t.words, s = e.words, h = i.words, u = 0, l = 0 | o[0], c = 8191 & l, f = l >>> 13, d = 0 | o[1], p = 8191 & d, m = d >>> 13, v = 0 | o[2], y = 8191 & v, g = v >>> 13, b = 0 | o[3], _ = 8191 & b, w = b >>> 13, k = 0 | o[4], M = 8191 & k, x = k >>> 13, S = 0 | o[5], E = 8191 & S, D = S >>> 13, A = 0 | o[6], T = 8191 & A, C = A >>> 13, P = 0 | o[7], I = 8191 & P, O = P >>> 13, R = 0 | o[8], L = 8191 & R, j = R >>> 13, B = 0 | o[9], z = 8191 & B, N = B >>> 13, F = 0 | s[0], q = 8191 & F, H = F >>> 13, V = 0 | s[1], U = 8191 & V, W = V >>> 13, Y = 0 | s[2], K = 8191 & Y, Z = Y >>> 13, X = 0 | s[3], G = 8191 & X, J = X >>> 13, $ = 0 | s[4], Q = 8191 & $, tt = $ >>> 13, et = 0 | s[5], it = 8191 & et, nt = et >>> 13, rt = 0 | s[6], at = 8191 & rt, ot = rt >>> 13, st = 0 | s[7], ht = 8191 & st, ut = st >>> 13, lt = 0 | s[8], ct = 8191 & lt, ft = lt >>> 13, dt = 0 | s[9], pt = 8191 & dt, mt = dt >>> 13; i.negative = t.negative ^ e.negative, i.length = 19; var vt = (u + (n = Math.imul(c, q)) | 0) + ((8191 & (r = (r = Math.imul(c, H)) + Math.imul(f, q) | 0)) << 13) | 0; u = ((a = Math.imul(f, H)) + (r >>> 13) | 0) + (vt >>> 26) | 0, vt &= 67108863, n = Math.imul(p, q), r = (r = Math.imul(p, H)) + Math.imul(m, q) | 0, a = Math.imul(m, H); var yt = (u + (n = n + Math.imul(c, U) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, W) | 0) + Math.imul(f, U) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, W) | 0) + (r >>> 13) | 0) + (yt >>> 26) | 0, yt &= 67108863, n = Math.imul(y, q), r = (r = Math.imul(y, H)) + Math.imul(g, q) | 0, a = Math.imul(g, H), n = n + Math.imul(p, U) | 0, r = (r = r + Math.imul(p, W) | 0) + Math.imul(m, U) | 0, a = a + Math.imul(m, W) | 0; var gt = (u + (n = n + Math.imul(c, K) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, Z) | 0) + Math.imul(f, K) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, Z) | 0) + (r >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, n = Math.imul(_, q), r = (r = Math.imul(_, H)) + Math.imul(w, q) | 0, a = Math.imul(w, H), n = n + Math.imul(y, U) | 0, r = (r = r + Math.imul(y, W) | 0) + Math.imul(g, U) | 0, a = a + Math.imul(g, W) | 0, n = n + Math.imul(p, K) | 0, r = (r = r + Math.imul(p, Z) | 0) + Math.imul(m, K) | 0, a = a + Math.imul(m, Z) | 0; var bt = (u + (n = n + Math.imul(c, G) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, J) | 0) + Math.imul(f, G) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, J) | 0) + (r >>> 13) | 0) + (bt >>> 26) | 0, bt &= 67108863, n = Math.imul(M, q), r = (r = Math.imul(M, H)) + Math.imul(x, q) | 0, a = Math.imul(x, H), n = n + Math.imul(_, U) | 0, r = (r = r + Math.imul(_, W) | 0) + Math.imul(w, U) | 0, a = a + Math.imul(w, W) | 0, n = n + Math.imul(y, K) | 0, r = (r = r + Math.imul(y, Z) | 0) + Math.imul(g, K) | 0, a = a + Math.imul(g, Z) | 0, n = n + Math.imul(p, G) | 0, r = (r = r + Math.imul(p, J) | 0) + Math.imul(m, G) | 0, a = a + Math.imul(m, J) | 0; var _t = (u + (n = n + Math.imul(c, Q) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, tt) | 0) + Math.imul(f, Q) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, tt) | 0) + (r >>> 13) | 0) + (_t >>> 26) | 0, _t &= 67108863, n = Math.imul(E, q), r = (r = Math.imul(E, H)) + Math.imul(D, q) | 0, a = Math.imul(D, H), n = n + Math.imul(M, U) | 0, r = (r = r + Math.imul(M, W) | 0) + Math.imul(x, U) | 0, a = a + Math.imul(x, W) | 0, n = n + Math.imul(_, K) | 0, r = (r = r + Math.imul(_, Z) | 0) + Math.imul(w, K) | 0, a = a + Math.imul(w, Z) | 0, n = n + Math.imul(y, G) | 0, r = (r = r + Math.imul(y, J) | 0) + Math.imul(g, G) | 0, a = a + Math.imul(g, J) | 0, n = n + Math.imul(p, Q) | 0, r = (r = r + Math.imul(p, tt) | 0) + Math.imul(m, Q) | 0, a = a + Math.imul(m, tt) | 0; var wt = (u + (n = n + Math.imul(c, it) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, nt) | 0) + Math.imul(f, it) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, nt) | 0) + (r >>> 13) | 0) + (wt >>> 26) | 0, wt &= 67108863, n = Math.imul(T, q), r = (r = Math.imul(T, H)) + Math.imul(C, q) | 0, a = Math.imul(C, H), n = n + Math.imul(E, U) | 0, r = (r = r + Math.imul(E, W) | 0) + Math.imul(D, U) | 0, a = a + Math.imul(D, W) | 0, n = n + Math.imul(M, K) | 0, r = (r = r + Math.imul(M, Z) | 0) + Math.imul(x, K) | 0, a = a + Math.imul(x, Z) | 0, n = n + Math.imul(_, G) | 0, r = (r = r + Math.imul(_, J) | 0) + Math.imul(w, G) | 0, a = a + Math.imul(w, J) | 0, n = n + Math.imul(y, Q) | 0, r = (r = r + Math.imul(y, tt) | 0) + Math.imul(g, Q) | 0, a = a + Math.imul(g, tt) | 0, n = n + Math.imul(p, it) | 0, r = (r = r + Math.imul(p, nt) | 0) + Math.imul(m, it) | 0, a = a + Math.imul(m, nt) | 0; var kt = (u + (n = n + Math.imul(c, at) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ot) | 0) + Math.imul(f, at) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ot) | 0) + (r >>> 13) | 0) + (kt >>> 26) | 0, kt &= 67108863, n = Math.imul(I, q), r = (r = Math.imul(I, H)) + Math.imul(O, q) | 0, a = Math.imul(O, H), n = n + Math.imul(T, U) | 0, r = (r = r + Math.imul(T, W) | 0) + Math.imul(C, U) | 0, a = a + Math.imul(C, W) | 0, n = n + Math.imul(E, K) | 0, r = (r = r + Math.imul(E, Z) | 0) + Math.imul(D, K) | 0, a = a + Math.imul(D, Z) | 0, n = n + Math.imul(M, G) | 0, r = (r = r + Math.imul(M, J) | 0) + Math.imul(x, G) | 0, a = a + Math.imul(x, J) | 0, n = n + Math.imul(_, Q) | 0, r = (r = r + Math.imul(_, tt) | 0) + Math.imul(w, Q) | 0, a = a + Math.imul(w, tt) | 0, n = n + Math.imul(y, it) | 0, r = (r = r + Math.imul(y, nt) | 0) + Math.imul(g, it) | 0, a = a + Math.imul(g, nt) | 0, n = n + Math.imul(p, at) | 0, r = (r = r + Math.imul(p, ot) | 0) + Math.imul(m, at) | 0, a = a + Math.imul(m, ot) | 0; var Mt = (u + (n = n + Math.imul(c, ht) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ut) | 0) + Math.imul(f, ht) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ut) | 0) + (r >>> 13) | 0) + (Mt >>> 26) | 0, Mt &= 67108863, n = Math.imul(L, q), r = (r = Math.imul(L, H)) + Math.imul(j, q) | 0, a = Math.imul(j, H), n = n + Math.imul(I, U) | 0, r = (r = r + Math.imul(I, W) | 0) + Math.imul(O, U) | 0, a = a + Math.imul(O, W) | 0, n = n + Math.imul(T, K) | 0, r = (r = r + Math.imul(T, Z) | 0) + Math.imul(C, K) | 0, a = a + Math.imul(C, Z) | 0, n = n + Math.imul(E, G) | 0, r = (r = r + Math.imul(E, J) | 0) + Math.imul(D, G) | 0, a = a + Math.imul(D, J) | 0, n = n + Math.imul(M, Q) | 0, r = (r = r + Math.imul(M, tt) | 0) + Math.imul(x, Q) | 0, a = a + Math.imul(x, tt) | 0, n = n + Math.imul(_, it) | 0, r = (r = r + Math.imul(_, nt) | 0) + Math.imul(w, it) | 0, a = a + Math.imul(w, nt) | 0, n = n + Math.imul(y, at) | 0, r = (r = r + Math.imul(y, ot) | 0) + Math.imul(g, at) | 0, a = a + Math.imul(g, ot) | 0, n = n + Math.imul(p, ht) | 0, r = (r = r + Math.imul(p, ut) | 0) + Math.imul(m, ht) | 0, a = a + Math.imul(m, ut) | 0; var xt = (u + (n = n + Math.imul(c, ct) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ft) | 0) + Math.imul(f, ct) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ft) | 0) + (r >>> 13) | 0) + (xt >>> 26) | 0, xt &= 67108863, n = Math.imul(z, q), r = (r = Math.imul(z, H)) + Math.imul(N, q) | 0, a = Math.imul(N, H), n = n + Math.imul(L, U) | 0, r = (r = r + Math.imul(L, W) | 0) + Math.imul(j, U) | 0, a = a + Math.imul(j, W) | 0, n = n + Math.imul(I, K) | 0, r = (r = r + Math.imul(I, Z) | 0) + Math.imul(O, K) | 0, a = a + Math.imul(O, Z) | 0, n = n + Math.imul(T, G) | 0, r = (r = r + Math.imul(T, J) | 0) + Math.imul(C, G) | 0, a = a + Math.imul(C, J) | 0, n = n + Math.imul(E, Q) | 0, r = (r = r + Math.imul(E, tt) | 0) + Math.imul(D, Q) | 0, a = a + Math.imul(D, tt) | 0, n = n + Math.imul(M, it) | 0, r = (r = r + Math.imul(M, nt) | 0) + Math.imul(x, it) | 0, a = a + Math.imul(x, nt) | 0, n = n + Math.imul(_, at) | 0, r = (r = r + Math.imul(_, ot) | 0) + Math.imul(w, at) | 0, a = a + Math.imul(w, ot) | 0, n = n + Math.imul(y, ht) | 0, r = (r = r + Math.imul(y, ut) | 0) + Math.imul(g, ht) | 0, a = a + Math.imul(g, ut) | 0, n = n + Math.imul(p, ct) | 0, r = (r = r + Math.imul(p, ft) | 0) + Math.imul(m, ct) | 0, a = a + Math.imul(m, ft) | 0; var St = (u + (n = n + Math.imul(c, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, mt) | 0) + Math.imul(f, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, mt) | 0) + (r >>> 13) | 0) + (St >>> 26) | 0, St &= 67108863, n = Math.imul(z, U), r = (r = Math.imul(z, W)) + Math.imul(N, U) | 0, a = Math.imul(N, W), n = n + Math.imul(L, K) | 0, r = (r = r + Math.imul(L, Z) | 0) + Math.imul(j, K) | 0, a = a + Math.imul(j, Z) | 0, n = n + Math.imul(I, G) | 0, r = (r = r + Math.imul(I, J) | 0) + Math.imul(O, G) | 0, a = a + Math.imul(O, J) | 0, n = n + Math.imul(T, Q) | 0, r = (r = r + Math.imul(T, tt) | 0) + Math.imul(C, Q) | 0, a = a + Math.imul(C, tt) | 0, n = n + Math.imul(E, it) | 0, r = (r = r + Math.imul(E, nt) | 0) + Math.imul(D, it) | 0, a = a + Math.imul(D, nt) | 0, n = n + Math.imul(M, at) | 0, r = (r = r + Math.imul(M, ot) | 0) + Math.imul(x, at) | 0, a = a + Math.imul(x, ot) | 0, n = n + Math.imul(_, ht) | 0, r = (r = r + Math.imul(_, ut) | 0) + Math.imul(w, ht) | 0, a = a + Math.imul(w, ut) | 0, n = n + Math.imul(y, ct) | 0, r = (r = r + Math.imul(y, ft) | 0) + Math.imul(g, ct) | 0, a = a + Math.imul(g, ft) | 0; var Et = (u + (n = n + Math.imul(p, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(p, mt) | 0) + Math.imul(m, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(m, mt) | 0) + (r >>> 13) | 0) + (Et >>> 26) | 0, Et &= 67108863, n = Math.imul(z, K), r = (r = Math.imul(z, Z)) + Math.imul(N, K) | 0, a = Math.imul(N, Z), n = n + Math.imul(L, G) | 0, r = (r = r + Math.imul(L, J) | 0) + Math.imul(j, G) | 0, a = a + Math.imul(j, J) | 0, n = n + Math.imul(I, Q) | 0, r = (r = r + Math.imul(I, tt) | 0) + Math.imul(O, Q) | 0, a = a + Math.imul(O, tt) | 0, n = n + Math.imul(T, it) | 0, r = (r = r + Math.imul(T, nt) | 0) + Math.imul(C, it) | 0, a = a + Math.imul(C, nt) | 0, n = n + Math.imul(E, at) | 0, r = (r = r + Math.imul(E, ot) | 0) + Math.imul(D, at) | 0, a = a + Math.imul(D, ot) | 0, n = n + Math.imul(M, ht) | 0, r = (r = r + Math.imul(M, ut) | 0) + Math.imul(x, ht) | 0, a = a + Math.imul(x, ut) | 0, n = n + Math.imul(_, ct) | 0, r = (r = r + Math.imul(_, ft) | 0) + Math.imul(w, ct) | 0, a = a + Math.imul(w, ft) | 0; var Dt = (u + (n = n + Math.imul(y, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(y, mt) | 0) + Math.imul(g, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(g, mt) | 0) + (r >>> 13) | 0) + (Dt >>> 26) | 0, Dt &= 67108863, n = Math.imul(z, G), r = (r = Math.imul(z, J)) + Math.imul(N, G) | 0, a = Math.imul(N, J), n = n + Math.imul(L, Q) | 0, r = (r = r + Math.imul(L, tt) | 0) + Math.imul(j, Q) | 0, a = a + Math.imul(j, tt) | 0, n = n + Math.imul(I, it) | 0, r = (r = r + Math.imul(I, nt) | 0) + Math.imul(O, it) | 0, a = a + Math.imul(O, nt) | 0, n = n + Math.imul(T, at) | 0, r = (r = r + Math.imul(T, ot) | 0) + Math.imul(C, at) | 0, a = a + Math.imul(C, ot) | 0, n = n + Math.imul(E, ht) | 0, r = (r = r + Math.imul(E, ut) | 0) + Math.imul(D, ht) | 0, a = a + Math.imul(D, ut) | 0, n = n + Math.imul(M, ct) | 0, r = (r = r + Math.imul(M, ft) | 0) + Math.imul(x, ct) | 0, a = a + Math.imul(x, ft) | 0; var At = (u + (n = n + Math.imul(_, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(_, mt) | 0) + Math.imul(w, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(w, mt) | 0) + (r >>> 13) | 0) + (At >>> 26) | 0, At &= 67108863, n = Math.imul(z, Q), r = (r = Math.imul(z, tt)) + Math.imul(N, Q) | 0, a = Math.imul(N, tt), n = n + Math.imul(L, it) | 0, r = (r = r + Math.imul(L, nt) | 0) + Math.imul(j, it) | 0, a = a + Math.imul(j, nt) | 0, n = n + Math.imul(I, at) | 0, r = (r = r + Math.imul(I, ot) | 0) + Math.imul(O, at) | 0, a = a + Math.imul(O, ot) | 0, n = n + Math.imul(T, ht) | 0, r = (r = r + Math.imul(T, ut) | 0) + Math.imul(C, ht) | 0, a = a + Math.imul(C, ut) | 0, n = n + Math.imul(E, ct) | 0, r = (r = r + Math.imul(E, ft) | 0) + Math.imul(D, ct) | 0, a = a + Math.imul(D, ft) | 0; var Tt = (u + (n = n + Math.imul(M, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(M, mt) | 0) + Math.imul(x, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(x, mt) | 0) + (r >>> 13) | 0) + (Tt >>> 26) | 0, Tt &= 67108863, n = Math.imul(z, it), r = (r = Math.imul(z, nt)) + Math.imul(N, it) | 0, a = Math.imul(N, nt), n = n + Math.imul(L, at) | 0, r = (r = r + Math.imul(L, ot) | 0) + Math.imul(j, at) | 0, a = a + Math.imul(j, ot) | 0, n = n + Math.imul(I, ht) | 0, r = (r = r + Math.imul(I, ut) | 0) + Math.imul(O, ht) | 0, a = a + Math.imul(O, ut) | 0, n = n + Math.imul(T, ct) | 0, r = (r = r + Math.imul(T, ft) | 0) + Math.imul(C, ct) | 0, a = a + Math.imul(C, ft) | 0; var Ct = (u + (n = n + Math.imul(E, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(E, mt) | 0) + Math.imul(D, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(D, mt) | 0) + (r >>> 13) | 0) + (Ct >>> 26) | 0, Ct &= 67108863, n = Math.imul(z, at), r = (r = Math.imul(z, ot)) + Math.imul(N, at) | 0, a = Math.imul(N, ot), n = n + Math.imul(L, ht) | 0, r = (r = r + Math.imul(L, ut) | 0) + Math.imul(j, ht) | 0, a = a + Math.imul(j, ut) | 0, n = n + Math.imul(I, ct) | 0, r = (r = r + Math.imul(I, ft) | 0) + Math.imul(O, ct) | 0, a = a + Math.imul(O, ft) | 0; var Pt = (u + (n = n + Math.imul(T, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(T, mt) | 0) + Math.imul(C, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(C, mt) | 0) + (r >>> 13) | 0) + (Pt >>> 26) | 0, Pt &= 67108863, n = Math.imul(z, ht), r = (r = Math.imul(z, ut)) + Math.imul(N, ht) | 0, a = Math.imul(N, ut), n = n + Math.imul(L, ct) | 0, r = (r = r + Math.imul(L, ft) | 0) + Math.imul(j, ct) | 0, a = a + Math.imul(j, ft) | 0; var It = (u + (n = n + Math.imul(I, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(I, mt) | 0) + Math.imul(O, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(O, mt) | 0) + (r >>> 13) | 0) + (It >>> 26) | 0, It &= 67108863, n = Math.imul(z, ct), r = (r = Math.imul(z, ft)) + Math.imul(N, ct) | 0, a = Math.imul(N, ft); var Ot = (u + (n = n + Math.imul(L, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(L, mt) | 0) + Math.imul(j, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(j, mt) | 0) + (r >>> 13) | 0) + (Ot >>> 26) | 0, Ot &= 67108863; var Rt = (u + (n = Math.imul(z, pt)) | 0) + ((8191 & (r = (r = Math.imul(z, mt)) + Math.imul(N, pt) | 0)) << 13) | 0; return u = ((a = Math.imul(N, mt)) + (r >>> 13) | 0) + (Rt >>> 26) | 0, Rt &= 67108863, h[0] = vt, h[1] = yt, h[2] = gt, h[3] = bt, h[4] = _t, h[5] = wt, h[6] = kt, h[7] = Mt, h[8] = xt, h[9] = St, h[10] = Et, h[11] = Dt, h[12] = At, h[13] = Tt, h[14] = Ct, h[15] = Pt, h[16] = It, h[17] = Ot, h[18] = Rt, 0 !== u && (h[19] = u, i.length++), i }; function m(t, e, i) { return (new v).mulp(t, e, i) } function v(t, e) { this.x = t, this.y = e } Math.imul || (p = d), a.prototype.mulTo = function (t, e) { var i = this.length + t.length; return 10 === this.length && 10 === t.length ? p(this, t, e) : i < 63 ? d(this, t, e) : i < 1024 ? function (t, e, i) { i.negative = e.negative ^ t.negative, i.length = t.length + e.length; for (var n = 0, r = 0, a = 0; a < i.length - 1; a++) { var o = r; r = 0; for (var s = 67108863 & n, h = Math.min(a, e.length - 1), u = Math.max(0, a - t.length + 1); u <= h; u++) { var l = a - u, c = (0 | t.words[l]) * (0 | e.words[u]), f = 67108863 & c; s = 67108863 & (f = f + s | 0), r += (o = (o = o + (c / 67108864 | 0) | 0) + (f >>> 26) | 0) >>> 26, o &= 67108863 } i.words[a] = s, n = o, o = r } return 0 !== n ? i.words[a] = n : i.length--, i.strip() }(this, t, e) : m(this, t, e) }, v.prototype.makeRBT = function (t) { for (var e = new Array(t), i = a.prototype._countBits(t) - 1, n = 0; n < t; n++)e[n] = this.revBin(n, i, t); return e }, v.prototype.revBin = function (t, e, i) { if (0 === t || t === i - 1) return t; for (var n = 0, r = 0; r < e; r++)n |= (1 & t) << e - r - 1, t >>= 1; return n }, v.prototype.permute = function (t, e, i, n, r, a) { for (var o = 0; o < a; o++)n[o] = e[t[o]], r[o] = i[t[o]] }, v.prototype.transform = function (t, e, i, n, r, a) { this.permute(a, t, e, i, n, r); for (var o = 1; o < r; o <<= 1)for (var s = o << 1, h = Math.cos(2 * Math.PI / s), u = Math.sin(2 * Math.PI / s), l = 0; l < r; l += s)for (var c = h, f = u, d = 0; d < o; d++) { var p = i[l + d], m = n[l + d], v = i[l + d + o], y = n[l + d + o], g = c * v - f * y; y = c * y + f * v, v = g, i[l + d] = p + v, n[l + d] = m + y, i[l + d + o] = p - v, n[l + d + o] = m - y, d !== s && (g = h * c - u * f, f = h * f + u * c, c = g) } }, v.prototype.guessLen13b = function (t, e) { var i = 1 | Math.max(e, t), n = 1 & i, r = 0; for (i = i / 2 | 0; i; i >>>= 1)r++; return 1 << r + 1 + n }, v.prototype.conjugate = function (t, e, i) { if (!(i <= 1)) for (var n = 0; n < i / 2; n++) { var r = t[n]; t[n] = t[i - n - 1], t[i - n - 1] = r, r = e[n], e[n] = -e[i - n - 1], e[i - n - 1] = -r } }, v.prototype.normalize13b = function (t, e) { for (var i = 0, n = 0; n < e / 2; n++) { var r = 8192 * Math.round(t[2 * n + 1] / e) + Math.round(t[2 * n] / e) + i; t[n] = 67108863 & r, i = r < 67108864 ? 0 : r / 67108864 | 0 } return t }, v.prototype.convert13b = function (t, e, i, r) { for (var a = 0, o = 0; o < e; o++)a += 0 | t[o], i[2 * o] = 8191 & a, a >>>= 13, i[2 * o + 1] = 8191 & a, a >>>= 13; for (o = 2 * e; o < r; ++o)i[o] = 0; n(0 === a), n(0 == (-8192 & a)) }, v.prototype.stub = function (t) { for (var e = new Array(t), i = 0; i < t; i++)e[i] = 0; return e }, v.prototype.mulp = function (t, e, i) { var n = 2 * this.guessLen13b(t.length, e.length), r = this.makeRBT(n), a = this.stub(n), o = new Array(n), s = new Array(n), h = new Array(n), u = new Array(n), l = new Array(n), c = new Array(n), f = i.words; f.length = n, this.convert13b(t.words, t.length, o, n), this.convert13b(e.words, e.length, u, n), this.transform(o, a, s, h, n, r), this.transform(u, a, l, c, n, r); for (var d = 0; d < n; d++) { var p = s[d] * l[d] - h[d] * c[d]; h[d] = s[d] * c[d] + h[d] * l[d], s[d] = p } return this.conjugate(s, h, n), this.transform(s, h, f, a, n, r), this.conjugate(f, a, n), this.normalize13b(f, n), i.negative = t.negative ^ e.negative, i.length = t.length + e.length, i.strip() }, a.prototype.mul = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), this.mulTo(t, e) }, a.prototype.mulf = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), m(this, t, e) }, a.prototype.imul = function (t) { return this.clone().mulTo(t, this) }, a.prototype.imuln = function (t) { n("number" == typeof t), n(t < 67108864); for (var e = 0, i = 0; i < this.length; i++) { var r = (0 | this.words[i]) * t, a = (67108863 & r) + (67108863 & e); e >>= 26, e += r / 67108864 | 0, e += a >>> 26, this.words[i] = 67108863 & a } return 0 !== e && (this.words[i] = e, this.length++), this }, a.prototype.muln = function (t) { return this.clone().imuln(t) }, a.prototype.sqr = function () { return this.mul(this) }, a.prototype.isqr = function () { return this.imul(this.clone()) }, a.prototype.pow = function (t) { var e = function (t) { for (var e = new Array(t.bitLength()), i = 0; i < e.length; i++) { var n = i / 26 | 0, r = i % 26; e[i] = (t.words[n] & 1 << r) >>> r } return e }(t); if (0 === e.length) return new a(1); for (var i = this, n = 0; n < e.length && 0 === e[n]; n++, i = i.sqr()); if (++n < e.length) for (var r = i.sqr(); n < e.length; n++, r = r.sqr())0 !== e[n] && (i = i.mul(r)); return i }, a.prototype.iushln = function (t) { n("number" == typeof t && t >= 0); var e, i = t % 26, r = (t - i) / 26, a = 67108863 >>> 26 - i << 26 - i; if (0 !== i) { var o = 0; for (e = 0; e < this.length; e++) { var s = this.words[e] & a, h = (0 | this.words[e]) - s << i; this.words[e] = h | o, o = s >>> 26 - i } o && (this.words[e] = o, this.length++) } if (0 !== r) { for (e = this.length - 1; e >= 0; e--)this.words[e + r] = this.words[e]; for (e = 0; e < r; e++)this.words[e] = 0; this.length += r } return this.strip() }, a.prototype.ishln = function (t) { return n(0 === this.negative), this.iushln(t) }, a.prototype.iushrn = function (t, e, i) { var r; n("number" == typeof t && t >= 0), r = e ? (e - e % 26) / 26 : 0; var a = t % 26, o = Math.min((t - a) / 26, this.length), s = 67108863 ^ 67108863 >>> a << a, h = i; if (r -= o, r = Math.max(0, r), h) { for (var u = 0; u < o; u++)h.words[u] = this.words[u]; h.length = o } if (0 === o); else if (this.length > o) for (this.length -= o, u = 0; u < this.length; u++)this.words[u] = this.words[u + o]; else this.words[0] = 0, this.length = 1; var l = 0; for (u = this.length - 1; u >= 0 && (0 !== l || u >= r); u--) { var c = 0 | this.words[u]; this.words[u] = l << 26 - a | c >>> a, l = c & s } return h && 0 !== l && (h.words[h.length++] = l), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip() }, a.prototype.ishrn = function (t, e, i) { return n(0 === this.negative), this.iushrn(t, e, i) }, a.prototype.shln = function (t) { return this.clone().ishln(t) }, a.prototype.ushln = function (t) { return this.clone().iushln(t) }, a.prototype.shrn = function (t) { return this.clone().ishrn(t) }, a.prototype.ushrn = function (t) { return this.clone().iushrn(t) }, a.prototype.testn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26, r = 1 << e; return !(this.length <= i) && !!(this.words[i] & r) }, a.prototype.imaskn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26; if (n(0 === this.negative, "imaskn works only with positive numbers"), this.length <= i) return this; if (0 !== e && i++, this.length = Math.min(i, this.length), 0 !== e) { var r = 67108863 ^ 67108863 >>> e << e; this.words[this.length - 1] &= r } return this.strip() }, a.prototype.maskn = function (t) { return this.clone().imaskn(t) }, a.prototype.iaddn = function (t) { return n("number" == typeof t), n(t < 67108864), t < 0 ? this.isubn(-t) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < t ? (this.words[0] = t - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(t), this.negative = 1, this) : this._iaddn(t) }, a.prototype._iaddn = function (t) { this.words[0] += t; for (var e = 0; e < this.length && this.words[e] >= 67108864; e++)this.words[e] -= 67108864, e === this.length - 1 ? this.words[e + 1] = 1 : this.words[e + 1]++; return this.length = Math.max(this.length, e + 1), this }, a.prototype.isubn = function (t) { if (n("number" == typeof t), n(t < 67108864), t < 0) return this.iaddn(-t); if (0 !== this.negative) return this.negative = 0, this.iaddn(t), this.negative = 1, this; if (this.words[0] -= t, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1; else for (var e = 0; e < this.length && this.words[e] < 0; e++)this.words[e] += 67108864, this.words[e + 1] -= 1; return this.strip() }, a.prototype.addn = function (t) { return this.clone().iaddn(t) }, a.prototype.subn = function (t) { return this.clone().isubn(t) }, a.prototype.iabs = function () { return this.negative = 0, this }, a.prototype.abs = function () { return this.clone().iabs() }, a.prototype._ishlnsubmul = function (t, e, i) { var r, a, o = t.length + i; this._expand(o); var s = 0; for (r = 0; r < t.length; r++) { a = (0 | this.words[r + i]) + s; var h = (0 | t.words[r]) * e; s = ((a -= 67108863 & h) >> 26) - (h / 67108864 | 0), this.words[r + i] = 67108863 & a } for (; r < this.length - i; r++)s = (a = (0 | this.words[r + i]) + s) >> 26, this.words[r + i] = 67108863 & a; if (0 === s) return this.strip(); for (n(-1 === s), s = 0, r = 0; r < this.length; r++)s = (a = -(0 | this.words[r]) + s) >> 26, this.words[r] = 67108863 & a; return this.negative = 1, this.strip() }, a.prototype._wordDiv = function (t, e) { var i = (this.length, t.length), n = this.clone(), r = t, o = 0 | r.words[r.length - 1]; 0 !== (i = 26 - this._countBits(o)) && (r = r.ushln(i), n.iushln(i), o = 0 | r.words[r.length - 1]); var s, h = n.length - r.length; if ("mod" !== e) { (s = new a(null)).length = h + 1, s.words = new Array(s.length); for (var u = 0; u < s.length; u++)s.words[u] = 0 } var l = n.clone()._ishlnsubmul(r, 1, h); 0 === l.negative && (n = l, s && (s.words[h] = 1)); for (var c = h - 1; c >= 0; c--) { var f = 67108864 * (0 | n.words[r.length + c]) + (0 | n.words[r.length + c - 1]); for (f = Math.min(f / o | 0, 67108863), n._ishlnsubmul(r, f, c); 0 !== n.negative;)f--, n.negative = 0, n._ishlnsubmul(r, 1, c), n.isZero() || (n.negative ^= 1); s && (s.words[c] = f) } return s && s.strip(), n.strip(), "div" !== e && 0 !== i && n.iushrn(i), { div: s || null, mod: n } }, a.prototype.divmod = function (t, e, i) { return n(!t.isZero()), this.isZero() ? { div: new a(0), mod: new a(0) } : 0 !== this.negative && 0 === t.negative ? (s = this.neg().divmod(t, e), "mod" !== e && (r = s.div.neg()), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.iadd(t)), { div: r, mod: o }) : 0 === this.negative && 0 !== t.negative ? (s = this.divmod(t.neg(), e), "mod" !== e && (r = s.div.neg()), { div: r, mod: s.mod }) : 0 != (this.negative & t.negative) ? (s = this.neg().divmod(t.neg(), e), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.isub(t)), { div: s.div, mod: o }) : t.length > this.length || this.cmp(t) < 0 ? { div: new a(0), mod: this } : 1 === t.length ? "div" === e ? { div: this.divn(t.words[0]), mod: null } : "mod" === e ? { div: null, mod: new a(this.modn(t.words[0])) } : { div: this.divn(t.words[0]), mod: new a(this.modn(t.words[0])) } : this._wordDiv(t, e); var r, o, s }, a.prototype.div = function (t) { return this.divmod(t, "div", !1).div }, a.prototype.mod = function (t) { return this.divmod(t, "mod", !1).mod }, a.prototype.umod = function (t) { return this.divmod(t, "mod", !0).mod }, a.prototype.divRound = function (t) { var e = this.divmod(t); if (e.mod.isZero()) return e.div; var i = 0 !== e.div.negative ? e.mod.isub(t) : e.mod, n = t.ushrn(1), r = t.andln(1), a = i.cmp(n); return a < 0 || 1 === r && 0 === a ? e.div : 0 !== e.div.negative ? e.div.isubn(1) : e.div.iaddn(1) }, a.prototype.modn = function (t) { n(t <= 67108863); for (var e = (1 << 26) % t, i = 0, r = this.length - 1; r >= 0; r--)i = (e * i + (0 | this.words[r])) % t; return i }, a.prototype.idivn = function (t) { n(t <= 67108863); for (var e = 0, i = this.length - 1; i >= 0; i--) { var r = (0 | this.words[i]) + 67108864 * e; this.words[i] = r / t | 0, e = r % t } return this.strip() }, a.prototype.divn = function (t) { return this.clone().idivn(t) }, a.prototype.egcd = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r = new a(1), o = new a(0), s = new a(0), h = new a(1), u = 0; e.isEven() && i.isEven();)e.iushrn(1), i.iushrn(1), ++u; for (var l = i.clone(), c = e.clone(); !e.isZero();) { for (var f = 0, d = 1; 0 == (e.words[0] & d) && f < 26; ++f, d <<= 1); if (f > 0) for (e.iushrn(f); f-- > 0;)(r.isOdd() || o.isOdd()) && (r.iadd(l), o.isub(c)), r.iushrn(1), o.iushrn(1); for (var p = 0, m = 1; 0 == (i.words[0] & m) && p < 26; ++p, m <<= 1); if (p > 0) for (i.iushrn(p); p-- > 0;)(s.isOdd() || h.isOdd()) && (s.iadd(l), h.isub(c)), s.iushrn(1), h.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), r.isub(s), o.isub(h)) : (i.isub(e), s.isub(r), h.isub(o)) } return { a: s, b: h, gcd: i.iushln(u) } }, a.prototype._invmp = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r, o = new a(1), s = new a(0), h = i.clone(); e.cmpn(1) > 0 && i.cmpn(1) > 0;) { for (var u = 0, l = 1; 0 == (e.words[0] & l) && u < 26; ++u, l <<= 1); if (u > 0) for (e.iushrn(u); u-- > 0;)o.isOdd() && o.iadd(h), o.iushrn(1); for (var c = 0, f = 1; 0 == (i.words[0] & f) && c < 26; ++c, f <<= 1); if (c > 0) for (i.iushrn(c); c-- > 0;)s.isOdd() && s.iadd(h), s.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), o.isub(s)) : (i.isub(e), s.isub(o)) } return (r = 0 === e.cmpn(1) ? o : s).cmpn(0) < 0 && r.iadd(t), r }, a.prototype.gcd = function (t) { if (this.isZero()) return t.abs(); if (t.isZero()) return this.abs(); var e = this.clone(), i = t.clone(); e.negative = 0, i.negative = 0; for (var n = 0; e.isEven() && i.isEven(); n++)e.iushrn(1), i.iushrn(1); for (; ;) { for (; e.isEven();)e.iushrn(1); for (; i.isEven();)i.iushrn(1); var r = e.cmp(i); if (r < 0) { var a = e; e = i, i = a } else if (0 === r || 0 === i.cmpn(1)) break; e.isub(i) } return i.iushln(n) }, a.prototype.invm = function (t) { return this.egcd(t).a.umod(t) }, a.prototype.isEven = function () { return 0 == (1 & this.words[0]) }, a.prototype.isOdd = function () { return 1 == (1 & this.words[0]) }, a.prototype.andln = function (t) { return this.words[0] & t }, a.prototype.bincn = function (t) { n("number" == typeof t); var e = t % 26, i = (t - e) / 26, r = 1 << e; if (this.length <= i) return this._expand(i + 1), this.words[i] |= r, this; for (var a = r, o = i; 0 !== a && o < this.length; o++) { var s = 0 | this.words[o]; a = (s += a) >>> 26, s &= 67108863, this.words[o] = s } return 0 !== a && (this.words[o] = a, this.length++), this }, a.prototype.isZero = function () { return 1 === this.length && 0 === this.words[0] }, a.prototype.cmpn = function (t) { var e, i = t < 0; if (0 !== this.negative && !i) return -1; if (0 === this.negative && i) return 1; if (this.strip(), this.length > 1) e = 1; else { i && (t = -t), n(t <= 67108863, "Number is too big"); var r = 0 | this.words[0]; e = r === t ? 0 : r < t ? -1 : 1 } return 0 !== this.negative ? 0 | -e : e }, a.prototype.cmp = function (t) { if (0 !== this.negative && 0 === t.negative) return -1; if (0 === this.negative && 0 !== t.negative) return 1; var e = this.ucmp(t); return 0 !== this.negative ? 0 | -e : e }, a.prototype.ucmp = function (t) { if (this.length > t.length) return 1; if (this.length < t.length) return -1; for (var e = 0, i = this.length - 1; i >= 0; i--) { var n = 0 | this.words[i], r = 0 | t.words[i]; if (n !== r) { n < r ? e = -1 : n > r && (e = 1); break } } return e }, a.prototype.gtn = function (t) { return 1 === this.cmpn(t) }, a.prototype.gt = function (t) { return 1 === this.cmp(t) }, a.prototype.gten = function (t) { return this.cmpn(t) >= 0 }, a.prototype.gte = function (t) { return this.cmp(t) >= 0 }, a.prototype.ltn = function (t) { return -1 === this.cmpn(t) }, a.prototype.lt = function (t) { return -1 === this.cmp(t) }, a.prototype.lten = function (t) { return this.cmpn(t) <= 0 }, a.prototype.lte = function (t) { return this.cmp(t) <= 0 }, a.prototype.eqn = function (t) { return 0 === this.cmpn(t) }, a.prototype.eq = function (t) { return 0 === this.cmp(t) }, a.red = function (t) { return new M(t) }, a.prototype.toRed = function (t) { return n(!this.red, "Already a number in reduction context"), n(0 === this.negative, "red works only with positives"), t.convertTo(this)._forceRed(t) }, a.prototype.fromRed = function () { return n(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this) }, a.prototype._forceRed = function (t) { return this.red = t, this }, a.prototype.forceRed = function (t) { return n(!this.red, "Already a number in reduction context"), this._forceRed(t) }, a.prototype.redAdd = function (t) { return n(this.red, "redAdd works only with red numbers"), this.red.add(this, t) }, a.prototype.redIAdd = function (t) { return n(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, t) }, a.prototype.redSub = function (t) { return n(this.red, "redSub works only with red numbers"), this.red.sub(this, t) }, a.prototype.redISub = function (t) { return n(this.red, "redISub works only with red numbers"), this.red.isub(this, t) }, a.prototype.redShl = function (t) { return n(this.red, "redShl works only with red numbers"), this.red.shl(this, t) }, a.prototype.redMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.mul(this, t) }, a.prototype.redIMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.imul(this, t) }, a.prototype.redSqr = function () { return n(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this) }, a.prototype.redISqr = function () { return n(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this) }, a.prototype.redSqrt = function () { return n(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this) }, a.prototype.redInvm = function () { return n(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this) }, a.prototype.redNeg = function () { return n(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this) }, a.prototype.redPow = function (t) { return n(this.red && !t.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, t) }; var y = { k256: null, p224: null, p192: null, p25519: null }; function g(t, e) { this.name = t, this.p = new a(e, 16), this.n = this.p.bitLength(), this.k = new a(1).iushln(this.n).isub(this.p), this.tmp = this._tmp() } function b() { g.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f") } function _() { g.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001") } function w() { g.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff") } function k() { g.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed") } function M(t) { if ("string" == typeof t) { var e = a._prime(t); this.m = e.p, this.prime = e } else n(t.gtn(1), "modulus must be greater than 1"), this.m = t, this.prime = null } function x(t) { M.call(this, t), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new a(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv) } g.prototype._tmp = function () { var t = new a(null); return t.words = new Array(Math.ceil(this.n / 13)), t }, g.prototype.ireduce = function (t) { var e, i = t; do { this.split(i, this.tmp), e = (i = (i = this.imulK(i)).iadd(this.tmp)).bitLength() } while (e > this.n); var n = e < this.n ? -1 : i.ucmp(this.p); return 0 === n ? (i.words[0] = 0, i.length = 1) : n > 0 ? i.isub(this.p) : void 0 !== i.strip ? i.strip() : i._strip(), i }, g.prototype.split = function (t, e) { t.iushrn(this.n, 0, e) }, g.prototype.imulK = function (t) { return t.imul(this.k) }, r(b, g), b.prototype.split = function (t, e) { for (var i = Math.min(t.length, 9), n = 0; n < i; n++)e.words[n] = t.words[n]; if (e.length = i, t.length <= 9) return t.words[0] = 0, void (t.length = 1); var r = t.words[9]; for (e.words[e.length++] = 4194303 & r, n = 10; n < t.length; n++) { var a = 0 | t.words[n]; t.words[n - 10] = (4194303 & a) << 4 | r >>> 22, r = a } r >>>= 22, t.words[n - 10] = r, 0 === r && t.length > 10 ? t.length -= 10 : t.length -= 9 }, b.prototype.imulK = function (t) { t.words[t.length] = 0, t.words[t.length + 1] = 0, t.length += 2; for (var e = 0, i = 0; i < t.length; i++) { var n = 0 | t.words[i]; e += 977 * n, t.words[i] = 67108863 & e, e = 64 * n + (e / 67108864 | 0) } return 0 === t.words[t.length - 1] && (t.length--, 0 === t.words[t.length - 1] && t.length--), t }, r(_, g), r(w, g), r(k, g), k.prototype.imulK = function (t) { for (var e = 0, i = 0; i < t.length; i++) { var n = 19 * (0 | t.words[i]) + e, r = 67108863 & n; n >>>= 26, t.words[i] = r, e = n } return 0 !== e && (t.words[t.length++] = e), t }, a._prime = function (t) { if (y[t]) return y[t]; var e; if ("k256" === t) e = new b; else if ("p224" === t) e = new _; else if ("p192" === t) e = new w; else { if ("p25519" !== t) throw new Error("Unknown prime " + t); e = new k } return y[t] = e, e }, M.prototype._verify1 = function (t) { n(0 === t.negative, "red works only with positives"), n(t.red, "red works only with red numbers") }, M.prototype._verify2 = function (t, e) { n(0 == (t.negative | e.negative), "red works only with positives"), n(t.red && t.red === e.red, "red works only with red numbers") }, M.prototype.imod = function (t) { return this.prime ? this.prime.ireduce(t)._forceRed(this) : t.umod(this.m)._forceRed(this) }, M.prototype.neg = function (t) { return t.isZero() ? t.clone() : this.m.sub(t)._forceRed(this) }, M.prototype.add = function (t, e) { this._verify2(t, e); var i = t.add(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i._forceRed(this) }, M.prototype.iadd = function (t, e) { this._verify2(t, e); var i = t.iadd(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i }, M.prototype.sub = function (t, e) { this._verify2(t, e); var i = t.sub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i._forceRed(this) }, M.prototype.isub = function (t, e) { this._verify2(t, e); var i = t.isub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i }, M.prototype.shl = function (t, e) { return this._verify1(t), this.imod(t.ushln(e)) }, M.prototype.imul = function (t, e) { return this._verify2(t, e), this.imod(t.imul(e)) }, M.prototype.mul = function (t, e) { return this._verify2(t, e), this.imod(t.mul(e)) }, M.prototype.isqr = function (t) { return this.imul(t, t.clone()) }, M.prototype.sqr = function (t) { return this.mul(t, t) }, M.prototype.sqrt = function (t) { if (t.isZero()) return t.clone(); var e = this.m.andln(3); if (n(e % 2 == 1), 3 === e) { var i = this.m.add(new a(1)).iushrn(2); return this.pow(t, i) } for (var r = this.m.subn(1), o = 0; !r.isZero() && 0 === r.andln(1);)o++, r.iushrn(1); n(!r.isZero()); var s = new a(1).toRed(this), h = s.redNeg(), u = this.m.subn(1).iushrn(1), l = this.m.bitLength(); for (l = new a(2 * l * l).toRed(this); 0 !== this.pow(l, u).cmp(h);)l.redIAdd(h); for (var c = this.pow(l, r), f = this.pow(t, r.addn(1).iushrn(1)), d = this.pow(t, r), p = o; 0 !== d.cmp(s);) { for (var m = d, v = 0; 0 !== m.cmp(s); v++)m = m.redSqr(); n(v < p); var y = this.pow(c, new a(1).iushln(p - v - 1)); f = f.redMul(y), c = y.redSqr(), d = d.redMul(c), p = v } return f }, M.prototype.invm = function (t) { var e = t._invmp(this.m); return 0 !== e.negative ? (e.negative = 0, this.imod(e).redNeg()) : this.imod(e) }, M.prototype.pow = function (t, e) { if (e.isZero()) return new a(1).toRed(this); if (0 === e.cmpn(1)) return t.clone(); var i = new Array(16); i[0] = new a(1).toRed(this), i[1] = t; for (var n = 2; n < i.length; n++)i[n] = this.mul(i[n - 1], t); var r = i[0], o = 0, s = 0, h = e.bitLength() % 26; for (0 === h && (h = 26), n = e.length - 1; n >= 0; n--) { for (var u = e.words[n], l = h - 1; l >= 0; l--) { var c = u >> l & 1; r !== i[0] && (r = this.sqr(r)), 0 !== c || 0 !== o ? (o <<= 1, o |= c, (4 === ++s || 0 === n && 0 === l) && (r = this.mul(r, i[o]), s = 0, o = 0)) : s = 0 } h = 26 } return r }, M.prototype.convertTo = function (t) { var e = t.umod(this.m); return e === t ? e.clone() : e }, M.prototype.convertFrom = function (t) { var e = t.clone(); return e.red = null, e }, a.mont = function (t) { return new x(t) }, r(x, M), x.prototype.convertTo = function (t) { return this.imod(t.ushln(this.shift)) }, x.prototype.convertFrom = function (t) { var e = this.imod(t.mul(this.rinv)); return e.red = null, e }, x.prototype.imul = function (t, e) { if (t.isZero() || e.isZero()) return t.words[0] = 0, t.length = 1, t; var i = t.imul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), a = r; return r.cmp(this.m) >= 0 ? a = r.isub(this.m) : r.cmpn(0) < 0 && (a = r.iadd(this.m)), a._forceRed(this) }, x.prototype.mul = function (t, e) { if (t.isZero() || e.isZero()) return new a(0)._forceRed(this); var i = t.mul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), o = r; return r.cmp(this.m) >= 0 ? o = r.isub(this.m) : r.cmpn(0) < 0 && (o = r.iadd(this.m)), o._forceRed(this) }, x.prototype.invm = function (t) { return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this) } }(t, this) }).call(this, i("62e4")(t)) }, d105: function (t, e, i) { "use strict"; t.exports = class { constructor(t, e, i, n) { this.name = t, this.code = e, this.alphabet = n, i && n && (this.engine = i(n)) } encode(t) { return this.engine.encode(t) } decode(t) { return this.engine.decode(t) } isImplemented() { return this.engine } } }, d17b: function (t, e, i) { t.exports = i("e372").Transform }, d2b2: function (t, e) { t.exports = function () { throw new Error("Readable.from is not available in the browser") } }, d39a: function (t, e) { t.exports = function (t, e) { if (e) { e = (e = e.trim().replace(/^(\?|#|&)/, "")) ? "?" + e : e; var i = t.split(/[\?\#]/)[0]; e && /\:\/\/[^\/]*$/.test(i) && (i += "/"); var n = t.match(/(\#.*)$/); t = i + e, n && (t += n[0]) } return t } }, d485: function (t, e, i) { t.exports = r; var n = i("faa1").EventEmitter; function r() { n.call(this) } i("3fb5")(r, n), r.Readable = i("e372"), r.Writable = i("2c63"), r.Duplex = i("0960"), r.Transform = i("d17b"), r.PassThrough = i("c2ae"), r.Stream = r, r.prototype.pipe = function (t, e) { var i = this; function r(e) { t.writable && !1 === t.write(e) && i.pause && i.pause() } function a() { i.readable && i.resume && i.resume() } i.on("data", r), t.on("drain", a), t._isStdio || e && !1 === e.end || (i.on("end", s), i.on("close", h)); var o = !1; function s() { o || (o = !0, t.end()) } function h() { o || (o = !0, "function" == typeof t.destroy && t.destroy()) } function u(t) { if (l(), 0 === n.listenerCount(this, "error")) throw t } function l() { i.removeListener("data", r), t.removeListener("drain", a), i.removeListener("end", s), i.removeListener("close", h), i.removeListener("error", u), t.removeListener("error", u), i.removeListener("end", l), i.removeListener("close", l), t.removeListener("close", l) } return i.on("error", u), t.on("error", u), i.on("end", l), i.on("close", l), t.on("close", l), t.emit("pipe", i), t } }, d70e: function (t) { t.exports = JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}') }, d938: function (t, e, i) { var n = i("b639").Buffer; t.exports = function (t) { if (t instanceof Uint8Array) { if (0 === t.byteOffset && t.byteLength === t.buffer.byteLength) return t.buffer; if ("function" == typeof t.buffer.slice) return t.buffer.slice(t.byteOffset, t.byteOffset + t.byteLength) } if (n.isBuffer(t)) { for (var e = new Uint8Array(t.length), i = t.length, r = 0; r < i; r++)e[r] = t[r]; return e.buffer } throw new Error("Argument must be a Buffer") } }, da3e: function (t, e) { function i(t, e) { if (!t) throw new Error(e || "Assertion failed") } t.exports = i, i.equal = function (t, e, i) { if (t != e) throw new Error(i || "Assertion failed: " + t + " != " + e) } }, dc14: function (t, e, i) { "use strict"; (function (e, n) { var r = i("966d"); function a(t) { var e = this; this.next = null, this.entry = null, this.finish = function () { !function (t, e, i) { var n = t.entry; t.entry = null; for (; n;) { var r = n.callback; e.pendingcb--, r(i), n = n.next } e.corkedRequestsFree ? e.corkedRequestsFree.next = t : e.corkedRequestsFree = t }(e, t) } } t.exports = y; var o, s = !e.browser && ["v0.10", "v0.9."].indexOf(e.version.slice(0, 5)) > -1 ? setImmediate : r.nextTick; y.WritableState = v; var h = Object.create(i("3a7c")); h.inherits = i("3fb5"); var u = { deprecate: i("b7d1") }, l = i("429b"), c = i("8707").Buffer, f = n.Uint8Array || function () { }; var d, p = i("4681"); function m() { } function v(t, e) { o = o || i("b19a"), t = t || {}; var n = e instanceof o; this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.writableObjectMode); var h = t.highWaterMark, u = t.writableHighWaterMark, l = this.objectMode ? 16 : 16384; this.highWaterMark = h || 0 === h ? h : n && (u || 0 === u) ? u : l, this.highWaterMark = Math.floor(this.highWaterMark), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1; var c = !1 === t.decodeStrings; this.decodeStrings = !c, this.defaultEncoding = t.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (t) { !function (t, e) { var i = t._writableState, n = i.sync, a = i.writecb; if (function (t) { t.writing = !1, t.writecb = null, t.length -= t.writelen, t.writelen = 0 }(i), e) !function (t, e, i, n, a) { --e.pendingcb, i ? (r.nextTick(a, n), r.nextTick(M, t, e), t._writableState.errorEmitted = !0, t.emit("error", n)) : (a(n), t._writableState.errorEmitted = !0, t.emit("error", n), M(t, e)) }(t, i, n, e, a); else { var o = w(i); o || i.corked || i.bufferProcessing || !i.bufferedRequest || _(t, i), n ? s(b, t, i, o, a) : b(t, i, o, a) } }(e, t) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new a(this) } function y(t) { if (o = o || i("b19a"), !(d.call(y, this) || this instanceof o)) return new y(t); this._writableState = new v(t, this), this.writable = !0, t && ("function" == typeof t.write && (this._write = t.write), "function" == typeof t.writev && (this._writev = t.writev), "function" == typeof t.destroy && (this._destroy = t.destroy), "function" == typeof t.final && (this._final = t.final)), l.call(this) } function g(t, e, i, n, r, a, o) { e.writelen = n, e.writecb = o, e.writing = !0, e.sync = !0, i ? t._writev(r, e.onwrite) : t._write(r, a, e.onwrite), e.sync = !1 } function b(t, e, i, n) { i || function (t, e) { 0 === e.length && e.needDrain && (e.needDrain = !1, t.emit("drain")) }(t, e), e.pendingcb--, n(), M(t, e) } function _(t, e) { e.bufferProcessing = !0; var i = e.bufferedRequest; if (t._writev && i && i.next) { var n = e.bufferedRequestCount, r = new Array(n), o = e.corkedRequestsFree; o.entry = i; for (var s = 0, h = !0; i;)r[s] = i, i.isBuf || (h = !1), i = i.next, s += 1; r.allBuffers = h, g(t, e, !0, e.length, r, "", o.finish), e.pendingcb++, e.lastBufferedRequest = null, o.next ? (e.corkedRequestsFree = o.next, o.next = null) : e.corkedRequestsFree = new a(e), e.bufferedRequestCount = 0 } else { for (; i;) { var u = i.chunk, l = i.encoding, c = i.callback; if (g(t, e, !1, e.objectMode ? 1 : u.length, u, l, c), i = i.next, e.bufferedRequestCount--, e.writing) break } null === i && (e.lastBufferedRequest = null) } e.bufferedRequest = i, e.bufferProcessing = !1 } function w(t) { return t.ending && 0 === t.length && null === t.bufferedRequest && !t.finished && !t.writing } function k(t, e) { t._final((function (i) { e.pendingcb--, i && t.emit("error", i), e.prefinished = !0, t.emit("prefinish"), M(t, e) })) } function M(t, e) { var i = w(e); return i && (!function (t, e) { e.prefinished || e.finalCalled || ("function" == typeof t._final ? (e.pendingcb++, e.finalCalled = !0, r.nextTick(k, t, e)) : (e.prefinished = !0, t.emit("prefinish"))) }(t, e), 0 === e.pendingcb && (e.finished = !0, t.emit("finish"))), i } h.inherits(y, l), v.prototype.getBuffer = function () { for (var t = this.bufferedRequest, e = []; t;)e.push(t), t = t.next; return e }, function () { try { Object.defineProperty(v.prototype, "buffer", { get: u.deprecate((function () { return this.getBuffer() }), "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003") }) } catch (t) { } }(), "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (d = Function.prototype[Symbol.hasInstance], Object.defineProperty(y, Symbol.hasInstance, { value: function (t) { return !!d.call(this, t) || this === y && (t && t._writableState instanceof v) } })) : d = function (t) { return t instanceof this }, y.prototype.pipe = function () { this.emit("error", new Error("Cannot pipe, not readable")) }, y.prototype.write = function (t, e, i) { var n, a = this._writableState, o = !1, s = !a.objectMode && (n = t, c.isBuffer(n) || n instanceof f); return s && !c.isBuffer(t) && (t = function (t) { return c.from(t) }(t)), "function" == typeof e && (i = e, e = null), s ? e = "buffer" : e || (e = a.defaultEncoding), "function" != typeof i && (i = m), a.ended ? function (t, e) { var i = new Error("write after end"); t.emit("error", i), r.nextTick(e, i) }(this, i) : (s || function (t, e, i, n) { var a = !0, o = !1; return null === i ? o = new TypeError("May not write null values to stream") : "string" == typeof i || void 0 === i || e.objectMode || (o = new TypeError("Invalid non-string/buffer chunk")), o && (t.emit("error", o), r.nextTick(n, o), a = !1), a }(this, a, t, i)) && (a.pendingcb++, o = function (t, e, i, n, r, a) { if (!i) { var o = function (t, e, i) { t.objectMode || !1 === t.decodeStrings || "string" != typeof e || (e = c.from(e, i)); return e }(e, n, r); n !== o && (i = !0, r = "buffer", n = o) } var s = e.objectMode ? 1 : n.length; e.length += s; var h = e.length < e.highWaterMark; h || (e.needDrain = !0); if (e.writing || e.corked) { var u = e.lastBufferedRequest; e.lastBufferedRequest = { chunk: n, encoding: r, isBuf: i, callback: a, next: null }, u ? u.next = e.lastBufferedRequest : e.bufferedRequest = e.lastBufferedRequest, e.bufferedRequestCount += 1 } else g(t, e, !1, s, n, r, a); return h }(this, a, s, t, e, i)), o }, y.prototype.cork = function () { this._writableState.corked++ }, y.prototype.uncork = function () { var t = this._writableState; t.corked && (t.corked--, t.writing || t.corked || t.finished || t.bufferProcessing || !t.bufferedRequest || _(this, t)) }, y.prototype.setDefaultEncoding = function (t) { if ("string" == typeof t && (t = t.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((t + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + t); return this._writableState.defaultEncoding = t, this }, Object.defineProperty(y.prototype, "writableHighWaterMark", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), y.prototype._write = function (t, e, i) { i(new Error("_write() is not implemented")) }, y.prototype._writev = null, y.prototype.end = function (t, e, i) { var n = this._writableState; "function" == typeof t ? (i = t, t = null, e = null) : "function" == typeof e && (i = e, e = null), null != t && this.write(t, e), n.corked && (n.corked = 1, this.uncork()), n.ending || n.finished || function (t, e, i) { e.ending = !0, M(t, e), i && (e.finished ? r.nextTick(i) : t.once("finish", i)); e.ended = !0, t.writable = !1 }(this, n, i) }, Object.defineProperty(y.prototype, "destroyed", { get: function () { return void 0 !== this._writableState && this._writableState.destroyed }, set: function (t) { this._writableState && (this._writableState.destroyed = t) } }), y.prototype.destroy = p.destroy, y.prototype._undestroy = p.undestroy, y.prototype._destroy = function (t, e) { this.end(), e(t) } }).call(this, i("4362"), i("c8ba")) }, e073: function (t, e, i) { (function (e) { const { Transform: n } = i("e399"); t.exports = t => class i extends n { constructor(e, i, n, r, a) { super(a), this._rate = e, this._capacity = i, this._delimitedSuffix = n, this._hashBitLength = r, this._options = a, this._state = new t, this._state.initialize(e, i), this._finalized = !1 } _transform(t, e, i) { let n = null; try { this.update(t, e) } catch (t) { n = t } i(n) } _flush(t) { let e = null; try { this.push(this.digest()) } catch (t) { e = t } t(e) } update(t, i) { if (!e.isBuffer(t) && "string" != typeof t) throw new TypeError("Data must be a string or a buffer"); if (this._finalized) throw new Error("Digest already called"); return e.isBuffer(t) || (t = e.from(t, i)), this._state.absorb(t), this } digest(t) { if (this._finalized) throw new Error("Digest already called"); this._finalized = !0, this._delimitedSuffix && this._state.absorbLastFewBits(this._delimitedSuffix); let e = this._state.squeeze(this._hashBitLength / 8); return void 0 !== t && (e = e.toString(t)), this._resetState(), e } _resetState() { return this._state.initialize(this._rate, this._capacity), this } _clone() { const t = new i(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options); return this._state.copy(t._state), t._finalized = this._finalized, t } } }).call(this, i("b639").Buffer) }, e07b: function (t, e, i) { var n = i("5a76"), r = i("b5ca"), a = i("69f2"), o = i("8707").Buffer, s = i("7d2a"), h = i("9f9d"), u = i("8be6"), l = o.alloc(128), c = { md5: 16, sha1: 20, sha224: 28, sha256: 32, sha384: 48, sha512: 64, rmd160: 20, ripemd160: 20 }; function f(t, e, i) { var s = function (t) { function e(e) { return a(t).update(e).digest() } return "rmd160" === t || "ripemd160" === t ? function (t) { return (new r).update(t).digest() } : "md5" === t ? n : e }(t), h = "sha512" === t || "sha384" === t ? 128 : 64; e.length > h ? e = s(e) : e.length < h && (e = o.concat([e, l], h)); for (var u = o.allocUnsafe(h + c[t]), f = o.allocUnsafe(h + c[t]), d = 0; d < h; d++)u[d] = 54 ^ e[d], f[d] = 92 ^ e[d]; var p = o.allocUnsafe(h + i + 4); u.copy(p, 0, 0, h), this.ipad1 = p, this.ipad2 = u, this.opad = f, this.alg = t, this.blocksize = h, this.hash = s, this.size = c[t] } f.prototype.run = function (t, e) { return t.copy(e, this.blocksize), this.hash(e).copy(this.opad, this.blocksize), this.hash(this.opad) }, t.exports = function (t, e, i, n, r) { s(i, n); var a = new f(r = r || "sha1", t = u(t, h, "Password"), (e = u(e, h, "Salt")).length), l = o.allocUnsafe(n), d = o.allocUnsafe(e.length + 4); e.copy(d, 0, 0, e.length); for (var p = 0, m = c[r], v = Math.ceil(n / m), y = 1; y <= v; y++) { d.writeUInt32BE(y, e.length); for (var g = a.run(d, a.ipad1), b = g, _ = 1; _ < i; _++) { b = a.run(b, a.ipad2); for (var w = 0; w < m; w++)g[w] ^= b[w] } g.copy(l, p), p += m } return l } }, e099: function (t, e, i) { "use strict"; var n = function (t) { switch (typeof t) { case "string": return t; case "boolean": return t ? "true" : "false"; case "number": return isFinite(t) ? t : ""; default: return "" } }; t.exports = function (t, e, i, s) { return e = e || "&", i = i || "=", null === t && (t = void 0), "object" == typeof t ? a(o(t), (function (o) { var s = encodeURIComponent(n(o)) + i; return r(t[o]) ? a(t[o], (function (t) { return s + encodeURIComponent(n(t)) })).join(e) : s + encodeURIComponent(n(t[o])) })).join(e) : s ? encodeURIComponent(n(s)) + i + encodeURIComponent(n(t)) : "" }; var r = Array.isArray || function (t) { return "[object Array]" === Object.prototype.toString.call(t) }; function a(t, e) { if (t.map) return t.map(e); for (var i = [], n = 0; n < t.length; n++)i.push(e(t[n], n)); return i } var o = Object.keys || function (t) { var e = []; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && e.push(i); return e } }, e2aa: function (t, e) { var i = function (t) { return function () { return new Promise((function (e, i) { var n, r = function (i) { var n = {}, r = i.target.files.length, a = 0;[].map.call(i.target.files, (function (i) { var o = new FileReader; o.onload = function (o) { var s = new Uint8Array(o.target.result); if ("directory" === t) { var h = i.webkitRelativePath; n[h.slice(h.indexOf("/") + 1)] = { type: "text/plain", data: s }, ++a === r && e(n) } else if ("file" === t) { var u = i.webkitRelativePath; e({ type: mimetype.lookup(u), data: s }) } else e(s) }, o.readAsArrayBuffer(i) })) }; "directory" === t ? ((n = document.createElement("input")).addEventListener("change", r), n.type = "file", n.webkitdirectory = !0, n.mozdirectory = !0, n.msdirectory = !0, n.odirectory = !0, n.directory = !0) : ((n = document.createElement("input")).addEventListener("change", r), n.type = "file"); var a = document.createEvent("MouseEvents"); a.initEvent("click", !0, !1), n.dispatchEvent(a) })) } }; t.exports = { data: i("data"), file: i("file"), directory: i("directory") } }, e2f5: function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"); t.exports = function (t) { const e = t.indexOf("=") > -1, i = t.indexOf("-") > -1 && t.indexOf("_") > -1; return { encode(t) { let r = ""; r = "string" == typeof t ? n.from(t).toString("base64") : t.toString("base64"), i && (r = r.replace(/\+/g, "-").replace(/\//g, "_")); const a = r.indexOf("="); return a > 0 && !e && (r = r.substring(0, a)), r }, decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base64 character"); return n.from(e, "base64") } } } }, e372: function (t, e, i) { (e = t.exports = i("ad71")).Stream = e, e.Readable = e, e.Writable = i("dc14"), e.Duplex = i("b19a"), e.Transform = i("27bf"), e.PassThrough = i("780f") }, e399: function (t, e, i) { (e = t.exports = i("68a0")).Stream = e, e.Readable = e, e.Writable = i("9bdc"), e.Duplex = i("88a2"), e.Transform = i("53e2"), e.PassThrough = i("b8db"), e.finished = i("65ab"), e.pipeline = i("018a") }, e456: function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"); t.exports = function (t) { return { encode: t => "string" == typeof t ? n.from(t).toString("hex") : t.toString("hex"), decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base16 character"); return n.from(e, "hex") } } } }, e8a6: function (t, e, i) { "use strict"; const { Buffer: n } = i("b639"); t.exports = function (t) { const e = t.indexOf("=") > -1, i = t.indexOf("-") > -1 && t.indexOf("_") > -1; return { encode(t) { let r = ""; r = "string" == typeof t ? n.from(t).toString("base64") : t.toString("base64"), i && (r = r.replace(/\+/g, "-").replace(/\//g, "_")); const a = r.indexOf("="); return a > 0 && !e && (r = r.substring(0, a)), r }, decode(e) { for (const i of e) if (t.indexOf(i) < 0) throw new Error("invalid base64 character"); return n.from(e, "base64") } } } }, e943: function (t, e, i) { (function (t) { !function (t, e) { "use strict"; function n(t, e) { if (!t) throw new Error(e || "Assertion failed") } function r(t, e) { t.super_ = e; var i = function () { }; i.prototype = e.prototype, t.prototype = new i, t.prototype.constructor = t } function a(t, e, i) { if (a.isBN(t)) return t; this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== t && ("le" !== e && "be" !== e || (i = e, e = 10), this._init(t || 0, e || 10, i || "be")) } var o; "object" == typeof t ? t.exports = a : e.BN = a, a.BN = a, a.wordSize = 26; try { o = i("b639").Buffer } catch (t) { } function s(t, e, i) { for (var n = 0, r = Math.min(t.length, i), a = e; a < r; a++) { var o = t.charCodeAt(a) - 48; n <<= 4, n |= o >= 49 && o <= 54 ? o - 49 + 10 : o >= 17 && o <= 22 ? o - 17 + 10 : 15 & o } return n } function h(t, e, i, n) { for (var r = 0, a = Math.min(t.length, i), o = e; o < a; o++) { var s = t.charCodeAt(o) - 48; r *= n, r += s >= 49 ? s - 49 + 10 : s >= 17 ? s - 17 + 10 : s } return r } a.isBN = function (t) { return t instanceof a || null !== t && "object" == typeof t && t.constructor.wordSize === a.wordSize && Array.isArray(t.words) }, a.max = function (t, e) { return t.cmp(e) > 0 ? t : e }, a.min = function (t, e) { return t.cmp(e) < 0 ? t : e }, a.prototype._init = function (t, e, i) { if ("number" == typeof t) return this._initNumber(t, e, i); if ("object" == typeof t) return this._initArray(t, e, i); "hex" === e && (e = 16), n(e === (0 | e) && e >= 2 && e <= 36); var r = 0; "-" === (t = t.toString().replace(/\s+/g, ""))[0] && r++, 16 === e ? this._parseHex(t, r) : this._parseBase(t, e, r), "-" === t[0] && (this.negative = 1), this.strip(), "le" === i && this._initArray(this.toArray(), e, i) }, a.prototype._initNumber = function (t, e, i) { t < 0 && (this.negative = 1, t = -t), t < 67108864 ? (this.words = [67108863 & t], this.length = 1) : t < 4503599627370496 ? (this.words = [67108863 & t, t / 67108864 & 67108863], this.length = 2) : (n(t < 9007199254740992), this.words = [67108863 & t, t / 67108864 & 67108863, 1], this.length = 3), "le" === i && this._initArray(this.toArray(), e, i) }, a.prototype._initArray = function (t, e, i) { if (n("number" == typeof t.length), t.length <= 0) return this.words = [0], this.length = 1, this; this.length = Math.ceil(t.length / 3), this.words = new Array(this.length); for (var r = 0; r < this.length; r++)this.words[r] = 0; var a, o, s = 0; if ("be" === i) for (r = t.length - 1, a = 0; r >= 0; r -= 3)o = t[r] | t[r - 1] << 8 | t[r - 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); else if ("le" === i) for (r = 0, a = 0; r < t.length; r += 3)o = t[r] | t[r + 1] << 8 | t[r + 2] << 16, this.words[a] |= o << s & 67108863, this.words[a + 1] = o >>> 26 - s & 67108863, (s += 24) >= 26 && (s -= 26, a++); return this.strip() }, a.prototype._parseHex = function (t, e) { this.length = Math.ceil((t.length - e) / 6), this.words = new Array(this.length); for (var i = 0; i < this.length; i++)this.words[i] = 0; var n, r, a = 0; for (i = t.length - 6, n = 0; i >= e; i -= 6)r = s(t, i, i + 6), this.words[n] |= r << a & 67108863, this.words[n + 1] |= r >>> 26 - a & 4194303, (a += 24) >= 26 && (a -= 26, n++); i + 6 !== e && (r = s(t, e, i + 6), this.words[n] |= r << a & 67108863, this.words[n + 1] |= r >>> 26 - a & 4194303), this.strip() }, a.prototype._parseBase = function (t, e, i) { this.words = [0], this.length = 1; for (var n = 0, r = 1; r <= 67108863; r *= e)n++; n--, r = r / e | 0; for (var a = t.length - i, o = a % n, s = Math.min(a, a - o) + i, u = 0, l = i; l < s; l += n)u = h(t, l, l + n, e), this.imuln(r), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u); if (0 !== o) { var c = 1; for (u = h(t, l, t.length, e), l = 0; l < o; l++)c *= e; this.imuln(c), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u) } }, a.prototype.copy = function (t) { t.words = new Array(this.length); for (var e = 0; e < this.length; e++)t.words[e] = this.words[e]; t.length = this.length, t.negative = this.negative, t.red = this.red }, a.prototype.clone = function () { var t = new a(null); return this.copy(t), t }, a.prototype._expand = function (t) { for (; this.length < t;)this.words[this.length++] = 0; return this }, a.prototype.strip = function () { for (; this.length > 1 && 0 === this.words[this.length - 1];)this.length--; return this._normSign() }, a.prototype._normSign = function () { return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this }, a.prototype.inspect = function () { return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">" }; var u = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], l = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], c = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176]; function f(t, e, i) { i.negative = e.negative ^ t.negative; var n = t.length + e.length | 0; i.length = n, n = n - 1 | 0; var r = 0 | t.words[0], a = 0 | e.words[0], o = r * a, s = 67108863 & o, h = o / 67108864 | 0; i.words[0] = s; for (var u = 1; u < n; u++) { for (var l = h >>> 26, c = 67108863 & h, f = Math.min(u, e.length - 1), d = Math.max(0, u - t.length + 1); d <= f; d++) { var p = u - d | 0; l += (o = (r = 0 | t.words[p]) * (a = 0 | e.words[d]) + c) / 67108864 | 0, c = 67108863 & o } i.words[u] = 0 | c, h = 0 | l } return 0 !== h ? i.words[u] = 0 | h : i.length--, i.strip() } a.prototype.toString = function (t, e) { var i; if (e = 0 | e || 1, 16 === (t = t || 10) || "hex" === t) { i = ""; for (var r = 0, a = 0, o = 0; o < this.length; o++) { var s = this.words[o], h = (16777215 & (s << r | a)).toString(16); i = 0 !== (a = s >>> 24 - r & 16777215) || o !== this.length - 1 ? u[6 - h.length] + h + i : h + i, (r += 2) >= 26 && (r -= 26, o--) } for (0 !== a && (i = a.toString(16) + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } if (t === (0 | t) && t >= 2 && t <= 36) { var f = l[t], d = c[t]; i = ""; var p = this.clone(); for (p.negative = 0; !p.isZero();) { var m = p.modn(d).toString(t); i = (p = p.idivn(d)).isZero() ? m + i : u[f - m.length] + m + i } for (this.isZero() && (i = "0" + i); i.length % e != 0;)i = "0" + i; return 0 !== this.negative && (i = "-" + i), i } n(!1, "Base should be between 2 and 36") }, a.prototype.toNumber = function () { var t = this.words[0]; return 2 === this.length ? t += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? t += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && n(!1, "Number can only safely store up to 53 bits"), 0 !== this.negative ? -t : t }, a.prototype.toJSON = function () { return this.toString(16) }, a.prototype.toBuffer = function (t, e) { return n(void 0 !== o), this.toArrayLike(o, t, e) }, a.prototype.toArray = function (t, e) { return this.toArrayLike(Array, t, e) }, a.prototype.toArrayLike = function (t, e, i) { var r = this.byteLength(), a = i || Math.max(1, r); n(r <= a, "byte array longer than desired length"), n(a > 0, "Requested array length <= 0"), this.strip(); var o, s, h = "le" === e, u = new t(a), l = this.clone(); if (h) { for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[s] = o; for (; s < a; s++)u[s] = 0 } else { for (s = 0; s < a - r; s++)u[s] = 0; for (s = 0; !l.isZero(); s++)o = l.andln(255), l.iushrn(8), u[a - s - 1] = o } return u }, Math.clz32 ? a.prototype._countBits = function (t) { return 32 - Math.clz32(t) } : a.prototype._countBits = function (t) { var e = t, i = 0; return e >= 4096 && (i += 13, e >>>= 13), e >= 64 && (i += 7, e >>>= 7), e >= 8 && (i += 4, e >>>= 4), e >= 2 && (i += 2, e >>>= 2), i + e }, a.prototype._zeroBits = function (t) { if (0 === t) return 26; var e = t, i = 0; return 0 == (8191 & e) && (i += 13, e >>>= 13), 0 == (127 & e) && (i += 7, e >>>= 7), 0 == (15 & e) && (i += 4, e >>>= 4), 0 == (3 & e) && (i += 2, e >>>= 2), 0 == (1 & e) && i++, i }, a.prototype.bitLength = function () { var t = this.words[this.length - 1], e = this._countBits(t); return 26 * (this.length - 1) + e }, a.prototype.zeroBits = function () { if (this.isZero()) return 0; for (var t = 0, e = 0; e < this.length; e++) { var i = this._zeroBits(this.words[e]); if (t += i, 26 !== i) break } return t }, a.prototype.byteLength = function () { return Math.ceil(this.bitLength() / 8) }, a.prototype.toTwos = function (t) { return 0 !== this.negative ? this.abs().inotn(t).iaddn(1) : this.clone() }, a.prototype.fromTwos = function (t) { return this.testn(t - 1) ? this.notn(t).iaddn(1).ineg() : this.clone() }, a.prototype.isNeg = function () { return 0 !== this.negative }, a.prototype.neg = function () { return this.clone().ineg() }, a.prototype.ineg = function () { return this.isZero() || (this.negative ^= 1), this }, a.prototype.iuor = function (t) { for (; this.length < t.length;)this.words[this.length++] = 0; for (var e = 0; e < t.length; e++)this.words[e] = this.words[e] | t.words[e]; return this.strip() }, a.prototype.ior = function (t) { return n(0 == (this.negative | t.negative)), this.iuor(t) }, a.prototype.or = function (t) { return this.length > t.length ? this.clone().ior(t) : t.clone().ior(this) }, a.prototype.uor = function (t) { return this.length > t.length ? this.clone().iuor(t) : t.clone().iuor(this) }, a.prototype.iuand = function (t) { var e; e = this.length > t.length ? t : this; for (var i = 0; i < e.length; i++)this.words[i] = this.words[i] & t.words[i]; return this.length = e.length, this.strip() }, a.prototype.iand = function (t) { return n(0 == (this.negative | t.negative)), this.iuand(t) }, a.prototype.and = function (t) { return this.length > t.length ? this.clone().iand(t) : t.clone().iand(this) }, a.prototype.uand = function (t) { return this.length > t.length ? this.clone().iuand(t) : t.clone().iuand(this) }, a.prototype.iuxor = function (t) { var e, i; this.length > t.length ? (e = this, i = t) : (e = t, i = this); for (var n = 0; n < i.length; n++)this.words[n] = e.words[n] ^ i.words[n]; if (this !== e) for (; n < e.length; n++)this.words[n] = e.words[n]; return this.length = e.length, this.strip() }, a.prototype.ixor = function (t) { return n(0 == (this.negative | t.negative)), this.iuxor(t) }, a.prototype.xor = function (t) { return this.length > t.length ? this.clone().ixor(t) : t.clone().ixor(this) }, a.prototype.uxor = function (t) { return this.length > t.length ? this.clone().iuxor(t) : t.clone().iuxor(this) }, a.prototype.inotn = function (t) { n("number" == typeof t && t >= 0); var e = 0 | Math.ceil(t / 26), i = t % 26; this._expand(e), i > 0 && e--; for (var r = 0; r < e; r++)this.words[r] = 67108863 & ~this.words[r]; return i > 0 && (this.words[r] = ~this.words[r] & 67108863 >> 26 - i), this.strip() }, a.prototype.notn = function (t) { return this.clone().inotn(t) }, a.prototype.setn = function (t, e) { n("number" == typeof t && t >= 0); var i = t / 26 | 0, r = t % 26; return this._expand(i + 1), this.words[i] = e ? this.words[i] | 1 << r : this.words[i] & ~(1 << r), this.strip() }, a.prototype.iadd = function (t) { var e, i, n; if (0 !== this.negative && 0 === t.negative) return this.negative = 0, e = this.isub(t), this.negative ^= 1, this._normSign(); if (0 === this.negative && 0 !== t.negative) return t.negative = 0, e = this.isub(t), t.negative = 1, e._normSign(); this.length > t.length ? (i = this, n = t) : (i = t, n = this); for (var r = 0, a = 0; a < n.length; a++)e = (0 | i.words[a]) + (0 | n.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; for (; 0 !== r && a < i.length; a++)e = (0 | i.words[a]) + r, this.words[a] = 67108863 & e, r = e >>> 26; if (this.length = i.length, 0 !== r) this.words[this.length] = r, this.length++; else if (i !== this) for (; a < i.length; a++)this.words[a] = i.words[a]; return this }, a.prototype.add = function (t) { var e; return 0 !== t.negative && 0 === this.negative ? (t.negative = 0, e = this.sub(t), t.negative ^= 1, e) : 0 === t.negative && 0 !== this.negative ? (this.negative = 0, e = t.sub(this), this.negative = 1, e) : this.length > t.length ? this.clone().iadd(t) : t.clone().iadd(this) }, a.prototype.isub = function (t) { if (0 !== t.negative) { t.negative = 0; var e = this.iadd(t); return t.negative = 1, e._normSign() } if (0 !== this.negative) return this.negative = 0, this.iadd(t), this.negative = 1, this._normSign(); var i, n, r = this.cmp(t); if (0 === r) return this.negative = 0, this.length = 1, this.words[0] = 0, this; r > 0 ? (i = this, n = t) : (i = t, n = this); for (var a = 0, o = 0; o < n.length; o++)a = (e = (0 | i.words[o]) - (0 | n.words[o]) + a) >> 26, this.words[o] = 67108863 & e; for (; 0 !== a && o < i.length; o++)a = (e = (0 | i.words[o]) + a) >> 26, this.words[o] = 67108863 & e; if (0 === a && o < i.length && i !== this) for (; o < i.length; o++)this.words[o] = i.words[o]; return this.length = Math.max(this.length, o), i !== this && (this.negative = 1), this.strip() }, a.prototype.sub = function (t) { return this.clone().isub(t) }; var d = function (t, e, i) { var n, r, a, o = t.words, s = e.words, h = i.words, u = 0, l = 0 | o[0], c = 8191 & l, f = l >>> 13, d = 0 | o[1], p = 8191 & d, m = d >>> 13, v = 0 | o[2], y = 8191 & v, g = v >>> 13, b = 0 | o[3], _ = 8191 & b, w = b >>> 13, k = 0 | o[4], M = 8191 & k, x = k >>> 13, S = 0 | o[5], E = 8191 & S, D = S >>> 13, A = 0 | o[6], T = 8191 & A, C = A >>> 13, P = 0 | o[7], I = 8191 & P, O = P >>> 13, R = 0 | o[8], L = 8191 & R, j = R >>> 13, B = 0 | o[9], z = 8191 & B, N = B >>> 13, F = 0 | s[0], q = 8191 & F, H = F >>> 13, V = 0 | s[1], U = 8191 & V, W = V >>> 13, Y = 0 | s[2], K = 8191 & Y, Z = Y >>> 13, X = 0 | s[3], G = 8191 & X, J = X >>> 13, $ = 0 | s[4], Q = 8191 & $, tt = $ >>> 13, et = 0 | s[5], it = 8191 & et, nt = et >>> 13, rt = 0 | s[6], at = 8191 & rt, ot = rt >>> 13, st = 0 | s[7], ht = 8191 & st, ut = st >>> 13, lt = 0 | s[8], ct = 8191 & lt, ft = lt >>> 13, dt = 0 | s[9], pt = 8191 & dt, mt = dt >>> 13; i.negative = t.negative ^ e.negative, i.length = 19; var vt = (u + (n = Math.imul(c, q)) | 0) + ((8191 & (r = (r = Math.imul(c, H)) + Math.imul(f, q) | 0)) << 13) | 0; u = ((a = Math.imul(f, H)) + (r >>> 13) | 0) + (vt >>> 26) | 0, vt &= 67108863, n = Math.imul(p, q), r = (r = Math.imul(p, H)) + Math.imul(m, q) | 0, a = Math.imul(m, H); var yt = (u + (n = n + Math.imul(c, U) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, W) | 0) + Math.imul(f, U) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, W) | 0) + (r >>> 13) | 0) + (yt >>> 26) | 0, yt &= 67108863, n = Math.imul(y, q), r = (r = Math.imul(y, H)) + Math.imul(g, q) | 0, a = Math.imul(g, H), n = n + Math.imul(p, U) | 0, r = (r = r + Math.imul(p, W) | 0) + Math.imul(m, U) | 0, a = a + Math.imul(m, W) | 0; var gt = (u + (n = n + Math.imul(c, K) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, Z) | 0) + Math.imul(f, K) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, Z) | 0) + (r >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, n = Math.imul(_, q), r = (r = Math.imul(_, H)) + Math.imul(w, q) | 0, a = Math.imul(w, H), n = n + Math.imul(y, U) | 0, r = (r = r + Math.imul(y, W) | 0) + Math.imul(g, U) | 0, a = a + Math.imul(g, W) | 0, n = n + Math.imul(p, K) | 0, r = (r = r + Math.imul(p, Z) | 0) + Math.imul(m, K) | 0, a = a + Math.imul(m, Z) | 0; var bt = (u + (n = n + Math.imul(c, G) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, J) | 0) + Math.imul(f, G) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, J) | 0) + (r >>> 13) | 0) + (bt >>> 26) | 0, bt &= 67108863, n = Math.imul(M, q), r = (r = Math.imul(M, H)) + Math.imul(x, q) | 0, a = Math.imul(x, H), n = n + Math.imul(_, U) | 0, r = (r = r + Math.imul(_, W) | 0) + Math.imul(w, U) | 0, a = a + Math.imul(w, W) | 0, n = n + Math.imul(y, K) | 0, r = (r = r + Math.imul(y, Z) | 0) + Math.imul(g, K) | 0, a = a + Math.imul(g, Z) | 0, n = n + Math.imul(p, G) | 0, r = (r = r + Math.imul(p, J) | 0) + Math.imul(m, G) | 0, a = a + Math.imul(m, J) | 0; var _t = (u + (n = n + Math.imul(c, Q) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, tt) | 0) + Math.imul(f, Q) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, tt) | 0) + (r >>> 13) | 0) + (_t >>> 26) | 0, _t &= 67108863, n = Math.imul(E, q), r = (r = Math.imul(E, H)) + Math.imul(D, q) | 0, a = Math.imul(D, H), n = n + Math.imul(M, U) | 0, r = (r = r + Math.imul(M, W) | 0) + Math.imul(x, U) | 0, a = a + Math.imul(x, W) | 0, n = n + Math.imul(_, K) | 0, r = (r = r + Math.imul(_, Z) | 0) + Math.imul(w, K) | 0, a = a + Math.imul(w, Z) | 0, n = n + Math.imul(y, G) | 0, r = (r = r + Math.imul(y, J) | 0) + Math.imul(g, G) | 0, a = a + Math.imul(g, J) | 0, n = n + Math.imul(p, Q) | 0, r = (r = r + Math.imul(p, tt) | 0) + Math.imul(m, Q) | 0, a = a + Math.imul(m, tt) | 0; var wt = (u + (n = n + Math.imul(c, it) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, nt) | 0) + Math.imul(f, it) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, nt) | 0) + (r >>> 13) | 0) + (wt >>> 26) | 0, wt &= 67108863, n = Math.imul(T, q), r = (r = Math.imul(T, H)) + Math.imul(C, q) | 0, a = Math.imul(C, H), n = n + Math.imul(E, U) | 0, r = (r = r + Math.imul(E, W) | 0) + Math.imul(D, U) | 0, a = a + Math.imul(D, W) | 0, n = n + Math.imul(M, K) | 0, r = (r = r + Math.imul(M, Z) | 0) + Math.imul(x, K) | 0, a = a + Math.imul(x, Z) | 0, n = n + Math.imul(_, G) | 0, r = (r = r + Math.imul(_, J) | 0) + Math.imul(w, G) | 0, a = a + Math.imul(w, J) | 0, n = n + Math.imul(y, Q) | 0, r = (r = r + Math.imul(y, tt) | 0) + Math.imul(g, Q) | 0, a = a + Math.imul(g, tt) | 0, n = n + Math.imul(p, it) | 0, r = (r = r + Math.imul(p, nt) | 0) + Math.imul(m, it) | 0, a = a + Math.imul(m, nt) | 0; var kt = (u + (n = n + Math.imul(c, at) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ot) | 0) + Math.imul(f, at) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ot) | 0) + (r >>> 13) | 0) + (kt >>> 26) | 0, kt &= 67108863, n = Math.imul(I, q), r = (r = Math.imul(I, H)) + Math.imul(O, q) | 0, a = Math.imul(O, H), n = n + Math.imul(T, U) | 0, r = (r = r + Math.imul(T, W) | 0) + Math.imul(C, U) | 0, a = a + Math.imul(C, W) | 0, n = n + Math.imul(E, K) | 0, r = (r = r + Math.imul(E, Z) | 0) + Math.imul(D, K) | 0, a = a + Math.imul(D, Z) | 0, n = n + Math.imul(M, G) | 0, r = (r = r + Math.imul(M, J) | 0) + Math.imul(x, G) | 0, a = a + Math.imul(x, J) | 0, n = n + Math.imul(_, Q) | 0, r = (r = r + Math.imul(_, tt) | 0) + Math.imul(w, Q) | 0, a = a + Math.imul(w, tt) | 0, n = n + Math.imul(y, it) | 0, r = (r = r + Math.imul(y, nt) | 0) + Math.imul(g, it) | 0, a = a + Math.imul(g, nt) | 0, n = n + Math.imul(p, at) | 0, r = (r = r + Math.imul(p, ot) | 0) + Math.imul(m, at) | 0, a = a + Math.imul(m, ot) | 0; var Mt = (u + (n = n + Math.imul(c, ht) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ut) | 0) + Math.imul(f, ht) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ut) | 0) + (r >>> 13) | 0) + (Mt >>> 26) | 0, Mt &= 67108863, n = Math.imul(L, q), r = (r = Math.imul(L, H)) + Math.imul(j, q) | 0, a = Math.imul(j, H), n = n + Math.imul(I, U) | 0, r = (r = r + Math.imul(I, W) | 0) + Math.imul(O, U) | 0, a = a + Math.imul(O, W) | 0, n = n + Math.imul(T, K) | 0, r = (r = r + Math.imul(T, Z) | 0) + Math.imul(C, K) | 0, a = a + Math.imul(C, Z) | 0, n = n + Math.imul(E, G) | 0, r = (r = r + Math.imul(E, J) | 0) + Math.imul(D, G) | 0, a = a + Math.imul(D, J) | 0, n = n + Math.imul(M, Q) | 0, r = (r = r + Math.imul(M, tt) | 0) + Math.imul(x, Q) | 0, a = a + Math.imul(x, tt) | 0, n = n + Math.imul(_, it) | 0, r = (r = r + Math.imul(_, nt) | 0) + Math.imul(w, it) | 0, a = a + Math.imul(w, nt) | 0, n = n + Math.imul(y, at) | 0, r = (r = r + Math.imul(y, ot) | 0) + Math.imul(g, at) | 0, a = a + Math.imul(g, ot) | 0, n = n + Math.imul(p, ht) | 0, r = (r = r + Math.imul(p, ut) | 0) + Math.imul(m, ht) | 0, a = a + Math.imul(m, ut) | 0; var xt = (u + (n = n + Math.imul(c, ct) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, ft) | 0) + Math.imul(f, ct) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, ft) | 0) + (r >>> 13) | 0) + (xt >>> 26) | 0, xt &= 67108863, n = Math.imul(z, q), r = (r = Math.imul(z, H)) + Math.imul(N, q) | 0, a = Math.imul(N, H), n = n + Math.imul(L, U) | 0, r = (r = r + Math.imul(L, W) | 0) + Math.imul(j, U) | 0, a = a + Math.imul(j, W) | 0, n = n + Math.imul(I, K) | 0, r = (r = r + Math.imul(I, Z) | 0) + Math.imul(O, K) | 0, a = a + Math.imul(O, Z) | 0, n = n + Math.imul(T, G) | 0, r = (r = r + Math.imul(T, J) | 0) + Math.imul(C, G) | 0, a = a + Math.imul(C, J) | 0, n = n + Math.imul(E, Q) | 0, r = (r = r + Math.imul(E, tt) | 0) + Math.imul(D, Q) | 0, a = a + Math.imul(D, tt) | 0, n = n + Math.imul(M, it) | 0, r = (r = r + Math.imul(M, nt) | 0) + Math.imul(x, it) | 0, a = a + Math.imul(x, nt) | 0, n = n + Math.imul(_, at) | 0, r = (r = r + Math.imul(_, ot) | 0) + Math.imul(w, at) | 0, a = a + Math.imul(w, ot) | 0, n = n + Math.imul(y, ht) | 0, r = (r = r + Math.imul(y, ut) | 0) + Math.imul(g, ht) | 0, a = a + Math.imul(g, ut) | 0, n = n + Math.imul(p, ct) | 0, r = (r = r + Math.imul(p, ft) | 0) + Math.imul(m, ct) | 0, a = a + Math.imul(m, ft) | 0; var St = (u + (n = n + Math.imul(c, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(c, mt) | 0) + Math.imul(f, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(f, mt) | 0) + (r >>> 13) | 0) + (St >>> 26) | 0, St &= 67108863, n = Math.imul(z, U), r = (r = Math.imul(z, W)) + Math.imul(N, U) | 0, a = Math.imul(N, W), n = n + Math.imul(L, K) | 0, r = (r = r + Math.imul(L, Z) | 0) + Math.imul(j, K) | 0, a = a + Math.imul(j, Z) | 0, n = n + Math.imul(I, G) | 0, r = (r = r + Math.imul(I, J) | 0) + Math.imul(O, G) | 0, a = a + Math.imul(O, J) | 0, n = n + Math.imul(T, Q) | 0, r = (r = r + Math.imul(T, tt) | 0) + Math.imul(C, Q) | 0, a = a + Math.imul(C, tt) | 0, n = n + Math.imul(E, it) | 0, r = (r = r + Math.imul(E, nt) | 0) + Math.imul(D, it) | 0, a = a + Math.imul(D, nt) | 0, n = n + Math.imul(M, at) | 0, r = (r = r + Math.imul(M, ot) | 0) + Math.imul(x, at) | 0, a = a + Math.imul(x, ot) | 0, n = n + Math.imul(_, ht) | 0, r = (r = r + Math.imul(_, ut) | 0) + Math.imul(w, ht) | 0, a = a + Math.imul(w, ut) | 0, n = n + Math.imul(y, ct) | 0, r = (r = r + Math.imul(y, ft) | 0) + Math.imul(g, ct) | 0, a = a + Math.imul(g, ft) | 0; var Et = (u + (n = n + Math.imul(p, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(p, mt) | 0) + Math.imul(m, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(m, mt) | 0) + (r >>> 13) | 0) + (Et >>> 26) | 0, Et &= 67108863, n = Math.imul(z, K), r = (r = Math.imul(z, Z)) + Math.imul(N, K) | 0, a = Math.imul(N, Z), n = n + Math.imul(L, G) | 0, r = (r = r + Math.imul(L, J) | 0) + Math.imul(j, G) | 0, a = a + Math.imul(j, J) | 0, n = n + Math.imul(I, Q) | 0, r = (r = r + Math.imul(I, tt) | 0) + Math.imul(O, Q) | 0, a = a + Math.imul(O, tt) | 0, n = n + Math.imul(T, it) | 0, r = (r = r + Math.imul(T, nt) | 0) + Math.imul(C, it) | 0, a = a + Math.imul(C, nt) | 0, n = n + Math.imul(E, at) | 0, r = (r = r + Math.imul(E, ot) | 0) + Math.imul(D, at) | 0, a = a + Math.imul(D, ot) | 0, n = n + Math.imul(M, ht) | 0, r = (r = r + Math.imul(M, ut) | 0) + Math.imul(x, ht) | 0, a = a + Math.imul(x, ut) | 0, n = n + Math.imul(_, ct) | 0, r = (r = r + Math.imul(_, ft) | 0) + Math.imul(w, ct) | 0, a = a + Math.imul(w, ft) | 0; var Dt = (u + (n = n + Math.imul(y, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(y, mt) | 0) + Math.imul(g, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(g, mt) | 0) + (r >>> 13) | 0) + (Dt >>> 26) | 0, Dt &= 67108863, n = Math.imul(z, G), r = (r = Math.imul(z, J)) + Math.imul(N, G) | 0, a = Math.imul(N, J), n = n + Math.imul(L, Q) | 0, r = (r = r + Math.imul(L, tt) | 0) + Math.imul(j, Q) | 0, a = a + Math.imul(j, tt) | 0, n = n + Math.imul(I, it) | 0, r = (r = r + Math.imul(I, nt) | 0) + Math.imul(O, it) | 0, a = a + Math.imul(O, nt) | 0, n = n + Math.imul(T, at) | 0, r = (r = r + Math.imul(T, ot) | 0) + Math.imul(C, at) | 0, a = a + Math.imul(C, ot) | 0, n = n + Math.imul(E, ht) | 0, r = (r = r + Math.imul(E, ut) | 0) + Math.imul(D, ht) | 0, a = a + Math.imul(D, ut) | 0, n = n + Math.imul(M, ct) | 0, r = (r = r + Math.imul(M, ft) | 0) + Math.imul(x, ct) | 0, a = a + Math.imul(x, ft) | 0; var At = (u + (n = n + Math.imul(_, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(_, mt) | 0) + Math.imul(w, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(w, mt) | 0) + (r >>> 13) | 0) + (At >>> 26) | 0, At &= 67108863, n = Math.imul(z, Q), r = (r = Math.imul(z, tt)) + Math.imul(N, Q) | 0, a = Math.imul(N, tt), n = n + Math.imul(L, it) | 0, r = (r = r + Math.imul(L, nt) | 0) + Math.imul(j, it) | 0, a = a + Math.imul(j, nt) | 0, n = n + Math.imul(I, at) | 0, r = (r = r + Math.imul(I, ot) | 0) + Math.imul(O, at) | 0, a = a + Math.imul(O, ot) | 0, n = n + Math.imul(T, ht) | 0, r = (r = r + Math.imul(T, ut) | 0) + Math.imul(C, ht) | 0, a = a + Math.imul(C, ut) | 0, n = n + Math.imul(E, ct) | 0, r = (r = r + Math.imul(E, ft) | 0) + Math.imul(D, ct) | 0, a = a + Math.imul(D, ft) | 0; var Tt = (u + (n = n + Math.imul(M, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(M, mt) | 0) + Math.imul(x, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(x, mt) | 0) + (r >>> 13) | 0) + (Tt >>> 26) | 0, Tt &= 67108863, n = Math.imul(z, it), r = (r = Math.imul(z, nt)) + Math.imul(N, it) | 0, a = Math.imul(N, nt), n = n + Math.imul(L, at) | 0, r = (r = r + Math.imul(L, ot) | 0) + Math.imul(j, at) | 0, a = a + Math.imul(j, ot) | 0, n = n + Math.imul(I, ht) | 0, r = (r = r + Math.imul(I, ut) | 0) + Math.imul(O, ht) | 0, a = a + Math.imul(O, ut) | 0, n = n + Math.imul(T, ct) | 0, r = (r = r + Math.imul(T, ft) | 0) + Math.imul(C, ct) | 0, a = a + Math.imul(C, ft) | 0; var Ct = (u + (n = n + Math.imul(E, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(E, mt) | 0) + Math.imul(D, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(D, mt) | 0) + (r >>> 13) | 0) + (Ct >>> 26) | 0, Ct &= 67108863, n = Math.imul(z, at), r = (r = Math.imul(z, ot)) + Math.imul(N, at) | 0, a = Math.imul(N, ot), n = n + Math.imul(L, ht) | 0, r = (r = r + Math.imul(L, ut) | 0) + Math.imul(j, ht) | 0, a = a + Math.imul(j, ut) | 0, n = n + Math.imul(I, ct) | 0, r = (r = r + Math.imul(I, ft) | 0) + Math.imul(O, ct) | 0, a = a + Math.imul(O, ft) | 0; var Pt = (u + (n = n + Math.imul(T, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(T, mt) | 0) + Math.imul(C, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(C, mt) | 0) + (r >>> 13) | 0) + (Pt >>> 26) | 0, Pt &= 67108863, n = Math.imul(z, ht), r = (r = Math.imul(z, ut)) + Math.imul(N, ht) | 0, a = Math.imul(N, ut), n = n + Math.imul(L, ct) | 0, r = (r = r + Math.imul(L, ft) | 0) + Math.imul(j, ct) | 0, a = a + Math.imul(j, ft) | 0; var It = (u + (n = n + Math.imul(I, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(I, mt) | 0) + Math.imul(O, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(O, mt) | 0) + (r >>> 13) | 0) + (It >>> 26) | 0, It &= 67108863, n = Math.imul(z, ct), r = (r = Math.imul(z, ft)) + Math.imul(N, ct) | 0, a = Math.imul(N, ft); var Ot = (u + (n = n + Math.imul(L, pt) | 0) | 0) + ((8191 & (r = (r = r + Math.imul(L, mt) | 0) + Math.imul(j, pt) | 0)) << 13) | 0; u = ((a = a + Math.imul(j, mt) | 0) + (r >>> 13) | 0) + (Ot >>> 26) | 0, Ot &= 67108863; var Rt = (u + (n = Math.imul(z, pt)) | 0) + ((8191 & (r = (r = Math.imul(z, mt)) + Math.imul(N, pt) | 0)) << 13) | 0; return u = ((a = Math.imul(N, mt)) + (r >>> 13) | 0) + (Rt >>> 26) | 0, Rt &= 67108863, h[0] = vt, h[1] = yt, h[2] = gt, h[3] = bt, h[4] = _t, h[5] = wt, h[6] = kt, h[7] = Mt, h[8] = xt, h[9] = St, h[10] = Et, h[11] = Dt, h[12] = At, h[13] = Tt, h[14] = Ct, h[15] = Pt, h[16] = It, h[17] = Ot, h[18] = Rt, 0 !== u && (h[19] = u, i.length++), i }; function p(t, e, i) { return (new m).mulp(t, e, i) } function m(t, e) { this.x = t, this.y = e } Math.imul || (d = f), a.prototype.mulTo = function (t, e) { var i = this.length + t.length; return 10 === this.length && 10 === t.length ? d(this, t, e) : i < 63 ? f(this, t, e) : i < 1024 ? function (t, e, i) { i.negative = e.negative ^ t.negative, i.length = t.length + e.length; for (var n = 0, r = 0, a = 0; a < i.length - 1; a++) { var o = r; r = 0; for (var s = 67108863 & n, h = Math.min(a, e.length - 1), u = Math.max(0, a - t.length + 1); u <= h; u++) { var l = a - u, c = (0 | t.words[l]) * (0 | e.words[u]), f = 67108863 & c; s = 67108863 & (f = f + s | 0), r += (o = (o = o + (c / 67108864 | 0) | 0) + (f >>> 26) | 0) >>> 26, o &= 67108863 } i.words[a] = s, n = o, o = r } return 0 !== n ? i.words[a] = n : i.length--, i.strip() }(this, t, e) : p(this, t, e) }, m.prototype.makeRBT = function (t) { for (var e = new Array(t), i = a.prototype._countBits(t) - 1, n = 0; n < t; n++)e[n] = this.revBin(n, i, t); return e }, m.prototype.revBin = function (t, e, i) { if (0 === t || t === i - 1) return t; for (var n = 0, r = 0; r < e; r++)n |= (1 & t) << e - r - 1, t >>= 1; return n }, m.prototype.permute = function (t, e, i, n, r, a) { for (var o = 0; o < a; o++)n[o] = e[t[o]], r[o] = i[t[o]] }, m.prototype.transform = function (t, e, i, n, r, a) { this.permute(a, t, e, i, n, r); for (var o = 1; o < r; o <<= 1)for (var s = o << 1, h = Math.cos(2 * Math.PI / s), u = Math.sin(2 * Math.PI / s), l = 0; l < r; l += s)for (var c = h, f = u, d = 0; d < o; d++) { var p = i[l + d], m = n[l + d], v = i[l + d + o], y = n[l + d + o], g = c * v - f * y; y = c * y + f * v, v = g, i[l + d] = p + v, n[l + d] = m + y, i[l + d + o] = p - v, n[l + d + o] = m - y, d !== s && (g = h * c - u * f, f = h * f + u * c, c = g) } }, m.prototype.guessLen13b = function (t, e) { var i = 1 | Math.max(e, t), n = 1 & i, r = 0; for (i = i / 2 | 0; i; i >>>= 1)r++; return 1 << r + 1 + n }, m.prototype.conjugate = function (t, e, i) { if (!(i <= 1)) for (var n = 0; n < i / 2; n++) { var r = t[n]; t[n] = t[i - n - 1], t[i - n - 1] = r, r = e[n], e[n] = -e[i - n - 1], e[i - n - 1] = -r } }, m.prototype.normalize13b = function (t, e) { for (var i = 0, n = 0; n < e / 2; n++) { var r = 8192 * Math.round(t[2 * n + 1] / e) + Math.round(t[2 * n] / e) + i; t[n] = 67108863 & r, i = r < 67108864 ? 0 : r / 67108864 | 0 } return t }, m.prototype.convert13b = function (t, e, i, r) { for (var a = 0, o = 0; o < e; o++)a += 0 | t[o], i[2 * o] = 8191 & a, a >>>= 13, i[2 * o + 1] = 8191 & a, a >>>= 13; for (o = 2 * e; o < r; ++o)i[o] = 0; n(0 === a), n(0 == (-8192 & a)) }, m.prototype.stub = function (t) { for (var e = new Array(t), i = 0; i < t; i++)e[i] = 0; return e }, m.prototype.mulp = function (t, e, i) { var n = 2 * this.guessLen13b(t.length, e.length), r = this.makeRBT(n), a = this.stub(n), o = new Array(n), s = new Array(n), h = new Array(n), u = new Array(n), l = new Array(n), c = new Array(n), f = i.words; f.length = n, this.convert13b(t.words, t.length, o, n), this.convert13b(e.words, e.length, u, n), this.transform(o, a, s, h, n, r), this.transform(u, a, l, c, n, r); for (var d = 0; d < n; d++) { var p = s[d] * l[d] - h[d] * c[d]; h[d] = s[d] * c[d] + h[d] * l[d], s[d] = p } return this.conjugate(s, h, n), this.transform(s, h, f, a, n, r), this.conjugate(f, a, n), this.normalize13b(f, n), i.negative = t.negative ^ e.negative, i.length = t.length + e.length, i.strip() }, a.prototype.mul = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), this.mulTo(t, e) }, a.prototype.mulf = function (t) { var e = new a(null); return e.words = new Array(this.length + t.length), p(this, t, e) }, a.prototype.imul = function (t) { return this.clone().mulTo(t, this) }, a.prototype.imuln = function (t) { n("number" == typeof t), n(t < 67108864); for (var e = 0, i = 0; i < this.length; i++) { var r = (0 | this.words[i]) * t, a = (67108863 & r) + (67108863 & e); e >>= 26, e += r / 67108864 | 0, e += a >>> 26, this.words[i] = 67108863 & a } return 0 !== e && (this.words[i] = e, this.length++), this }, a.prototype.muln = function (t) { return this.clone().imuln(t) }, a.prototype.sqr = function () { return this.mul(this) }, a.prototype.isqr = function () { return this.imul(this.clone()) }, a.prototype.pow = function (t) { var e = function (t) { for (var e = new Array(t.bitLength()), i = 0; i < e.length; i++) { var n = i / 26 | 0, r = i % 26; e[i] = (t.words[n] & 1 << r) >>> r } return e }(t); if (0 === e.length) return new a(1); for (var i = this, n = 0; n < e.length && 0 === e[n]; n++, i = i.sqr()); if (++n < e.length) for (var r = i.sqr(); n < e.length; n++, r = r.sqr())0 !== e[n] && (i = i.mul(r)); return i }, a.prototype.iushln = function (t) { n("number" == typeof t && t >= 0); var e, i = t % 26, r = (t - i) / 26, a = 67108863 >>> 26 - i << 26 - i; if (0 !== i) { var o = 0; for (e = 0; e < this.length; e++) { var s = this.words[e] & a, h = (0 | this.words[e]) - s << i; this.words[e] = h | o, o = s >>> 26 - i } o && (this.words[e] = o, this.length++) } if (0 !== r) { for (e = this.length - 1; e >= 0; e--)this.words[e + r] = this.words[e]; for (e = 0; e < r; e++)this.words[e] = 0; this.length += r } return this.strip() }, a.prototype.ishln = function (t) { return n(0 === this.negative), this.iushln(t) }, a.prototype.iushrn = function (t, e, i) { var r; n("number" == typeof t && t >= 0), r = e ? (e - e % 26) / 26 : 0; var a = t % 26, o = Math.min((t - a) / 26, this.length), s = 67108863 ^ 67108863 >>> a << a, h = i; if (r -= o, r = Math.max(0, r), h) { for (var u = 0; u < o; u++)h.words[u] = this.words[u]; h.length = o } if (0 === o); else if (this.length > o) for (this.length -= o, u = 0; u < this.length; u++)this.words[u] = this.words[u + o]; else this.words[0] = 0, this.length = 1; var l = 0; for (u = this.length - 1; u >= 0 && (0 !== l || u >= r); u--) { var c = 0 | this.words[u]; this.words[u] = l << 26 - a | c >>> a, l = c & s } return h && 0 !== l && (h.words[h.length++] = l), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip() }, a.prototype.ishrn = function (t, e, i) { return n(0 === this.negative), this.iushrn(t, e, i) }, a.prototype.shln = function (t) { return this.clone().ishln(t) }, a.prototype.ushln = function (t) { return this.clone().iushln(t) }, a.prototype.shrn = function (t) { return this.clone().ishrn(t) }, a.prototype.ushrn = function (t) { return this.clone().iushrn(t) }, a.prototype.testn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26, r = 1 << e; return !(this.length <= i) && !!(this.words[i] & r) }, a.prototype.imaskn = function (t) { n("number" == typeof t && t >= 0); var e = t % 26, i = (t - e) / 26; if (n(0 === this.negative, "imaskn works only with positive numbers"), this.length <= i) return this; if (0 !== e && i++, this.length = Math.min(i, this.length), 0 !== e) { var r = 67108863 ^ 67108863 >>> e << e; this.words[this.length - 1] &= r } return this.strip() }, a.prototype.maskn = function (t) { return this.clone().imaskn(t) }, a.prototype.iaddn = function (t) { return n("number" == typeof t), n(t < 67108864), t < 0 ? this.isubn(-t) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < t ? (this.words[0] = t - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(t), this.negative = 1, this) : this._iaddn(t) }, a.prototype._iaddn = function (t) { this.words[0] += t; for (var e = 0; e < this.length && this.words[e] >= 67108864; e++)this.words[e] -= 67108864, e === this.length - 1 ? this.words[e + 1] = 1 : this.words[e + 1]++; return this.length = Math.max(this.length, e + 1), this }, a.prototype.isubn = function (t) { if (n("number" == typeof t), n(t < 67108864), t < 0) return this.iaddn(-t); if (0 !== this.negative) return this.negative = 0, this.iaddn(t), this.negative = 1, this; if (this.words[0] -= t, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1; else for (var e = 0; e < this.length && this.words[e] < 0; e++)this.words[e] += 67108864, this.words[e + 1] -= 1; return this.strip() }, a.prototype.addn = function (t) { return this.clone().iaddn(t) }, a.prototype.subn = function (t) { return this.clone().isubn(t) }, a.prototype.iabs = function () { return this.negative = 0, this }, a.prototype.abs = function () { return this.clone().iabs() }, a.prototype._ishlnsubmul = function (t, e, i) { var r, a, o = t.length + i; this._expand(o); var s = 0; for (r = 0; r < t.length; r++) { a = (0 | this.words[r + i]) + s; var h = (0 | t.words[r]) * e; s = ((a -= 67108863 & h) >> 26) - (h / 67108864 | 0), this.words[r + i] = 67108863 & a } for (; r < this.length - i; r++)s = (a = (0 | this.words[r + i]) + s) >> 26, this.words[r + i] = 67108863 & a; if (0 === s) return this.strip(); for (n(-1 === s), s = 0, r = 0; r < this.length; r++)s = (a = -(0 | this.words[r]) + s) >> 26, this.words[r] = 67108863 & a; return this.negative = 1, this.strip() }, a.prototype._wordDiv = function (t, e) { var i = (this.length, t.length), n = this.clone(), r = t, o = 0 | r.words[r.length - 1]; 0 !== (i = 26 - this._countBits(o)) && (r = r.ushln(i), n.iushln(i), o = 0 | r.words[r.length - 1]); var s, h = n.length - r.length; if ("mod" !== e) { (s = new a(null)).length = h + 1, s.words = new Array(s.length); for (var u = 0; u < s.length; u++)s.words[u] = 0 } var l = n.clone()._ishlnsubmul(r, 1, h); 0 === l.negative && (n = l, s && (s.words[h] = 1)); for (var c = h - 1; c >= 0; c--) { var f = 67108864 * (0 | n.words[r.length + c]) + (0 | n.words[r.length + c - 1]); for (f = Math.min(f / o | 0, 67108863), n._ishlnsubmul(r, f, c); 0 !== n.negative;)f--, n.negative = 0, n._ishlnsubmul(r, 1, c), n.isZero() || (n.negative ^= 1); s && (s.words[c] = f) } return s && s.strip(), n.strip(), "div" !== e && 0 !== i && n.iushrn(i), { div: s || null, mod: n } }, a.prototype.divmod = function (t, e, i) { return n(!t.isZero()), this.isZero() ? { div: new a(0), mod: new a(0) } : 0 !== this.negative && 0 === t.negative ? (s = this.neg().divmod(t, e), "mod" !== e && (r = s.div.neg()), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.iadd(t)), { div: r, mod: o }) : 0 === this.negative && 0 !== t.negative ? (s = this.divmod(t.neg(), e), "mod" !== e && (r = s.div.neg()), { div: r, mod: s.mod }) : 0 != (this.negative & t.negative) ? (s = this.neg().divmod(t.neg(), e), "div" !== e && (o = s.mod.neg(), i && 0 !== o.negative && o.isub(t)), { div: s.div, mod: o }) : t.length > this.length || this.cmp(t) < 0 ? { div: new a(0), mod: this } : 1 === t.length ? "div" === e ? { div: this.divn(t.words[0]), mod: null } : "mod" === e ? { div: null, mod: new a(this.modn(t.words[0])) } : { div: this.divn(t.words[0]), mod: new a(this.modn(t.words[0])) } : this._wordDiv(t, e); var r, o, s }, a.prototype.div = function (t) { return this.divmod(t, "div", !1).div }, a.prototype.mod = function (t) { return this.divmod(t, "mod", !1).mod }, a.prototype.umod = function (t) { return this.divmod(t, "mod", !0).mod }, a.prototype.divRound = function (t) { var e = this.divmod(t); if (e.mod.isZero()) return e.div; var i = 0 !== e.div.negative ? e.mod.isub(t) : e.mod, n = t.ushrn(1), r = t.andln(1), a = i.cmp(n); return a < 0 || 1 === r && 0 === a ? e.div : 0 !== e.div.negative ? e.div.isubn(1) : e.div.iaddn(1) }, a.prototype.modn = function (t) { n(t <= 67108863); for (var e = (1 << 26) % t, i = 0, r = this.length - 1; r >= 0; r--)i = (e * i + (0 | this.words[r])) % t; return i }, a.prototype.idivn = function (t) { n(t <= 67108863); for (var e = 0, i = this.length - 1; i >= 0; i--) { var r = (0 | this.words[i]) + 67108864 * e; this.words[i] = r / t | 0, e = r % t } return this.strip() }, a.prototype.divn = function (t) { return this.clone().idivn(t) }, a.prototype.egcd = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r = new a(1), o = new a(0), s = new a(0), h = new a(1), u = 0; e.isEven() && i.isEven();)e.iushrn(1), i.iushrn(1), ++u; for (var l = i.clone(), c = e.clone(); !e.isZero();) { for (var f = 0, d = 1; 0 == (e.words[0] & d) && f < 26; ++f, d <<= 1); if (f > 0) for (e.iushrn(f); f-- > 0;)(r.isOdd() || o.isOdd()) && (r.iadd(l), o.isub(c)), r.iushrn(1), o.iushrn(1); for (var p = 0, m = 1; 0 == (i.words[0] & m) && p < 26; ++p, m <<= 1); if (p > 0) for (i.iushrn(p); p-- > 0;)(s.isOdd() || h.isOdd()) && (s.iadd(l), h.isub(c)), s.iushrn(1), h.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), r.isub(s), o.isub(h)) : (i.isub(e), s.isub(r), h.isub(o)) } return { a: s, b: h, gcd: i.iushln(u) } }, a.prototype._invmp = function (t) { n(0 === t.negative), n(!t.isZero()); var e = this, i = t.clone(); e = 0 !== e.negative ? e.umod(t) : e.clone(); for (var r, o = new a(1), s = new a(0), h = i.clone(); e.cmpn(1) > 0 && i.cmpn(1) > 0;) { for (var u = 0, l = 1; 0 == (e.words[0] & l) && u < 26; ++u, l <<= 1); if (u > 0) for (e.iushrn(u); u-- > 0;)o.isOdd() && o.iadd(h), o.iushrn(1); for (var c = 0, f = 1; 0 == (i.words[0] & f) && c < 26; ++c, f <<= 1); if (c > 0) for (i.iushrn(c); c-- > 0;)s.isOdd() && s.iadd(h), s.iushrn(1); e.cmp(i) >= 0 ? (e.isub(i), o.isub(s)) : (i.isub(e), s.isub(o)) } return (r = 0 === e.cmpn(1) ? o : s).cmpn(0) < 0 && r.iadd(t), r }, a.prototype.gcd = function (t) { if (this.isZero()) return t.abs(); if (t.isZero()) return this.abs(); var e = this.clone(), i = t.clone(); e.negative = 0, i.negative = 0; for (var n = 0; e.isEven() && i.isEven(); n++)e.iushrn(1), i.iushrn(1); for (; ;) { for (; e.isEven();)e.iushrn(1); for (; i.isEven();)i.iushrn(1); var r = e.cmp(i); if (r < 0) { var a = e; e = i, i = a } else if (0 === r || 0 === i.cmpn(1)) break; e.isub(i) } return i.iushln(n) }, a.prototype.invm = function (t) { return this.egcd(t).a.umod(t) }, a.prototype.isEven = function () { return 0 == (1 & this.words[0]) }, a.prototype.isOdd = function () { return 1 == (1 & this.words[0]) }, a.prototype.andln = function (t) { return this.words[0] & t }, a.prototype.bincn = function (t) { n("number" == typeof t); var e = t % 26, i = (t - e) / 26, r = 1 << e; if (this.length <= i) return this._expand(i + 1), this.words[i] |= r, this; for (var a = r, o = i; 0 !== a && o < this.length; o++) { var s = 0 | this.words[o]; a = (s += a) >>> 26, s &= 67108863, this.words[o] = s } return 0 !== a && (this.words[o] = a, this.length++), this }, a.prototype.isZero = function () { return 1 === this.length && 0 === this.words[0] }, a.prototype.cmpn = function (t) { var e, i = t < 0; if (0 !== this.negative && !i) return -1; if (0 === this.negative && i) return 1; if (this.strip(), this.length > 1) e = 1; else { i && (t = -t), n(t <= 67108863, "Number is too big"); var r = 0 | this.words[0]; e = r === t ? 0 : r < t ? -1 : 1 } return 0 !== this.negative ? 0 | -e : e }, a.prototype.cmp = function (t) { if (0 !== this.negative && 0 === t.negative) return -1; if (0 === this.negative && 0 !== t.negative) return 1; var e = this.ucmp(t); return 0 !== this.negative ? 0 | -e : e }, a.prototype.ucmp = function (t) { if (this.length > t.length) return 1; if (this.length < t.length) return -1; for (var e = 0, i = this.length - 1; i >= 0; i--) { var n = 0 | this.words[i], r = 0 | t.words[i]; if (n !== r) { n < r ? e = -1 : n > r && (e = 1); break } } return e }, a.prototype.gtn = function (t) { return 1 === this.cmpn(t) }, a.prototype.gt = function (t) { return 1 === this.cmp(t) }, a.prototype.gten = function (t) { return this.cmpn(t) >= 0 }, a.prototype.gte = function (t) { return this.cmp(t) >= 0 }, a.prototype.ltn = function (t) { return -1 === this.cmpn(t) }, a.prototype.lt = function (t) { return -1 === this.cmp(t) }, a.prototype.lten = function (t) { return this.cmpn(t) <= 0 }, a.prototype.lte = function (t) { return this.cmp(t) <= 0 }, a.prototype.eqn = function (t) { return 0 === this.cmpn(t) }, a.prototype.eq = function (t) { return 0 === this.cmp(t) }, a.red = function (t) { return new k(t) }, a.prototype.toRed = function (t) { return n(!this.red, "Already a number in reduction context"), n(0 === this.negative, "red works only with positives"), t.convertTo(this)._forceRed(t) }, a.prototype.fromRed = function () { return n(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this) }, a.prototype._forceRed = function (t) { return this.red = t, this }, a.prototype.forceRed = function (t) { return n(!this.red, "Already a number in reduction context"), this._forceRed(t) }, a.prototype.redAdd = function (t) { return n(this.red, "redAdd works only with red numbers"), this.red.add(this, t) }, a.prototype.redIAdd = function (t) { return n(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, t) }, a.prototype.redSub = function (t) { return n(this.red, "redSub works only with red numbers"), this.red.sub(this, t) }, a.prototype.redISub = function (t) { return n(this.red, "redISub works only with red numbers"), this.red.isub(this, t) }, a.prototype.redShl = function (t) { return n(this.red, "redShl works only with red numbers"), this.red.shl(this, t) }, a.prototype.redMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.mul(this, t) }, a.prototype.redIMul = function (t) { return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, t), this.red.imul(this, t) }, a.prototype.redSqr = function () { return n(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this) }, a.prototype.redISqr = function () { return n(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this) }, a.prototype.redSqrt = function () { return n(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this) }, a.prototype.redInvm = function () { return n(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this) }, a.prototype.redNeg = function () { return n(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this) }, a.prototype.redPow = function (t) { return n(this.red && !t.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, t) }; var v = { k256: null, p224: null, p192: null, p25519: null }; function y(t, e) { this.name = t, this.p = new a(e, 16), this.n = this.p.bitLength(), this.k = new a(1).iushln(this.n).isub(this.p), this.tmp = this._tmp() } function g() { y.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f") } function b() { y.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001") } function _() { y.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff") } function w() { y.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed") } function k(t) { if ("string" == typeof t) { var e = a._prime(t); this.m = e.p, this.prime = e } else n(t.gtn(1), "modulus must be greater than 1"), this.m = t, this.prime = null } function M(t) { k.call(this, t), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new a(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv) } y.prototype._tmp = function () { var t = new a(null); return t.words = new Array(Math.ceil(this.n / 13)), t }, y.prototype.ireduce = function (t) { var e, i = t; do { this.split(i, this.tmp), e = (i = (i = this.imulK(i)).iadd(this.tmp)).bitLength() } while (e > this.n); var n = e < this.n ? -1 : i.ucmp(this.p); return 0 === n ? (i.words[0] = 0, i.length = 1) : n > 0 ? i.isub(this.p) : i.strip(), i }, y.prototype.split = function (t, e) { t.iushrn(this.n, 0, e) }, y.prototype.imulK = function (t) { return t.imul(this.k) }, r(g, y), g.prototype.split = function (t, e) { for (var i = Math.min(t.length, 9), n = 0; n < i; n++)e.words[n] = t.words[n]; if (e.length = i, t.length <= 9) return t.words[0] = 0, void (t.length = 1); var r = t.words[9]; for (e.words[e.length++] = 4194303 & r, n = 10; n < t.length; n++) { var a = 0 | t.words[n]; t.words[n - 10] = (4194303 & a) << 4 | r >>> 22, r = a } r >>>= 22, t.words[n - 10] = r, 0 === r && t.length > 10 ? t.length -= 10 : t.length -= 9 }, g.prototype.imulK = function (t) { t.words[t.length] = 0, t.words[t.length + 1] = 0, t.length += 2; for (var e = 0, i = 0; i < t.length; i++) { var n = 0 | t.words[i]; e += 977 * n, t.words[i] = 67108863 & e, e = 64 * n + (e / 67108864 | 0) } return 0 === t.words[t.length - 1] && (t.length--, 0 === t.words[t.length - 1] && t.length--), t }, r(b, y), r(_, y), r(w, y), w.prototype.imulK = function (t) { for (var e = 0, i = 0; i < t.length; i++) { var n = 19 * (0 | t.words[i]) + e, r = 67108863 & n; n >>>= 26, t.words[i] = r, e = n } return 0 !== e && (t.words[t.length++] = e), t }, a._prime = function (t) { if (v[t]) return v[t]; var e; if ("k256" === t) e = new g; else if ("p224" === t) e = new b; else if ("p192" === t) e = new _; else { if ("p25519" !== t) throw new Error("Unknown prime " + t); e = new w } return v[t] = e, e }, k.prototype._verify1 = function (t) { n(0 === t.negative, "red works only with positives"), n(t.red, "red works only with red numbers") }, k.prototype._verify2 = function (t, e) { n(0 == (t.negative | e.negative), "red works only with positives"), n(t.red && t.red === e.red, "red works only with red numbers") }, k.prototype.imod = function (t) { return this.prime ? this.prime.ireduce(t)._forceRed(this) : t.umod(this.m)._forceRed(this) }, k.prototype.neg = function (t) { return t.isZero() ? t.clone() : this.m.sub(t)._forceRed(this) }, k.prototype.add = function (t, e) { this._verify2(t, e); var i = t.add(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i._forceRed(this) }, k.prototype.iadd = function (t, e) { this._verify2(t, e); var i = t.iadd(e); return i.cmp(this.m) >= 0 && i.isub(this.m), i }, k.prototype.sub = function (t, e) { this._verify2(t, e); var i = t.sub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i._forceRed(this) }, k.prototype.isub = function (t, e) { this._verify2(t, e); var i = t.isub(e); return i.cmpn(0) < 0 && i.iadd(this.m), i }, k.prototype.shl = function (t, e) { return this._verify1(t), this.imod(t.ushln(e)) }, k.prototype.imul = function (t, e) { return this._verify2(t, e), this.imod(t.imul(e)) }, k.prototype.mul = function (t, e) { return this._verify2(t, e), this.imod(t.mul(e)) }, k.prototype.isqr = function (t) { return this.imul(t, t.clone()) }, k.prototype.sqr = function (t) { return this.mul(t, t) }, k.prototype.sqrt = function (t) { if (t.isZero()) return t.clone(); var e = this.m.andln(3); if (n(e % 2 == 1), 3 === e) { var i = this.m.add(new a(1)).iushrn(2); return this.pow(t, i) } for (var r = this.m.subn(1), o = 0; !r.isZero() && 0 === r.andln(1);)o++, r.iushrn(1); n(!r.isZero()); var s = new a(1).toRed(this), h = s.redNeg(), u = this.m.subn(1).iushrn(1), l = this.m.bitLength(); for (l = new a(2 * l * l).toRed(this); 0 !== this.pow(l, u).cmp(h);)l.redIAdd(h); for (var c = this.pow(l, r), f = this.pow(t, r.addn(1).iushrn(1)), d = this.pow(t, r), p = o; 0 !== d.cmp(s);) { for (var m = d, v = 0; 0 !== m.cmp(s); v++)m = m.redSqr(); n(v < p); var y = this.pow(c, new a(1).iushln(p - v - 1)); f = f.redMul(y), c = y.redSqr(), d = d.redMul(c), p = v } return f }, k.prototype.invm = function (t) { var e = t._invmp(this.m); return 0 !== e.negative ? (e.negative = 0, this.imod(e).redNeg()) : this.imod(e) }, k.prototype.pow = function (t, e) { if (e.isZero()) return new a(1); if (0 === e.cmpn(1)) return t.clone(); var i = new Array(16); i[0] = new a(1).toRed(this), i[1] = t; for (var n = 2; n < i.length; n++)i[n] = this.mul(i[n - 1], t); var r = i[0], o = 0, s = 0, h = e.bitLength() % 26; for (0 === h && (h = 26), n = e.length - 1; n >= 0; n--) { for (var u = e.words[n], l = h - 1; l >= 0; l--) { var c = u >> l & 1; r !== i[0] && (r = this.sqr(r)), 0 !== c || 0 !== o ? (o <<= 1, o |= c, (4 === ++s || 0 === n && 0 === l) && (r = this.mul(r, i[o]), s = 0, o = 0)) : s = 0 } h = 26 } return r }, k.prototype.convertTo = function (t) { var e = t.umod(this.m); return e === t ? e.clone() : e }, k.prototype.convertFrom = function (t) { var e = t.clone(); return e.red = null, e }, a.mont = function (t) { return new M(t) }, r(M, k), M.prototype.convertTo = function (t) { return this.imod(t.ushln(this.shift)) }, M.prototype.convertFrom = function (t) { var e = this.imod(t.mul(this.rinv)); return e.red = null, e }, M.prototype.imul = function (t, e) { if (t.isZero() || e.isZero()) return t.words[0] = 0, t.length = 1, t; var i = t.imul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), a = r; return r.cmp(this.m) >= 0 ? a = r.isub(this.m) : r.cmpn(0) < 0 && (a = r.iadd(this.m)), a._forceRed(this) }, M.prototype.mul = function (t, e) { if (t.isZero() || e.isZero()) return new a(0)._forceRed(this); var i = t.mul(e), n = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), r = i.isub(n).iushrn(this.shift), o = r; return r.cmp(this.m) >= 0 ? o = r.isub(this.m) : r.cmpn(0) < 0 && (o = r.iadd(this.m)), o._forceRed(this) }, M.prototype.invm = function (t) { return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this) } }(t, this) }).call(this, i("62e4")(t)) }, f460: function (t, e, i) { var n = i("98e6"), r = i("8707").Buffer; function a(t) { var e = r.allocUnsafe(4); return e.writeUInt32BE(t, 0), e } t.exports = function (t, e) { for (var i, o = r.alloc(0), s = 0; o.length < e;)i = a(s++), o = r.concat([o, n("sha1").update(t).update(i).digest()]); return o.slice(0, e) } }, f576: function (t, e, i) { "use strict"; var n = i("3fb5"), r = i("93e6"), a = i("8707").Buffer, o = new Array(16); function s() { r.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878 } function h(t, e) { return t << e | t >>> 32 - e } function u(t, e, i, n, r, a, o) { return h(t + (e & i | ~e & n) + r + a | 0, o) + e | 0 } function l(t, e, i, n, r, a, o) { return h(t + (e & n | i & ~n) + r + a | 0, o) + e | 0 } function c(t, e, i, n, r, a, o) { return h(t + (e ^ i ^ n) + r + a | 0, o) + e | 0 } function f(t, e, i, n, r, a, o) { return h(t + (i ^ (e | ~n)) + r + a | 0, o) + e | 0 } n(s, r), s.prototype._update = function () { for (var t = o, e = 0; e < 16; ++e)t[e] = this._block.readInt32LE(4 * e); var i = this._a, n = this._b, r = this._c, a = this._d; i = u(i, n, r, a, t[0], 3614090360, 7), a = u(a, i, n, r, t[1], 3905402710, 12), r = u(r, a, i, n, t[2], 606105819, 17), n = u(n, r, a, i, t[3], 3250441966, 22), i = u(i, n, r, a, t[4], 4118548399, 7), a = u(a, i, n, r, t[5], 1200080426, 12), r = u(r, a, i, n, t[6], 2821735955, 17), n = u(n, r, a, i, t[7], 4249261313, 22), i = u(i, n, r, a, t[8], 1770035416, 7), a = u(a, i, n, r, t[9], 2336552879, 12), r = u(r, a, i, n, t[10], 4294925233, 17), n = u(n, r, a, i, t[11], 2304563134, 22), i = u(i, n, r, a, t[12], 1804603682, 7), a = u(a, i, n, r, t[13], 4254626195, 12), r = u(r, a, i, n, t[14], 2792965006, 17), i = l(i, n = u(n, r, a, i, t[15], 1236535329, 22), r, a, t[1], 4129170786, 5), a = l(a, i, n, r, t[6], 3225465664, 9), r = l(r, a, i, n, t[11], 643717713, 14), n = l(n, r, a, i, t[0], 3921069994, 20), i = l(i, n, r, a, t[5], 3593408605, 5), a = l(a, i, n, r, t[10], 38016083, 9), r = l(r, a, i, n, t[15], 3634488961, 14), n = l(n, r, a, i, t[4], 3889429448, 20), i = l(i, n, r, a, t[9], 568446438, 5), a = l(a, i, n, r, t[14], 3275163606, 9), r = l(r, a, i, n, t[3], 4107603335, 14), n = l(n, r, a, i, t[8], 1163531501, 20), i = l(i, n, r, a, t[13], 2850285829, 5), a = l(a, i, n, r, t[2], 4243563512, 9), r = l(r, a, i, n, t[7], 1735328473, 14), i = c(i, n = l(n, r, a, i, t[12], 2368359562, 20), r, a, t[5], 4294588738, 4), a = c(a, i, n, r, t[8], 2272392833, 11), r = c(r, a, i, n, t[11], 1839030562, 16), n = c(n, r, a, i, t[14], 4259657740, 23), i = c(i, n, r, a, t[1], 2763975236, 4), a = c(a, i, n, r, t[4], 1272893353, 11), r = c(r, a, i, n, t[7], 4139469664, 16), n = c(n, r, a, i, t[10], 3200236656, 23), i = c(i, n, r, a, t[13], 681279174, 4), a = c(a, i, n, r, t[0], 3936430074, 11), r = c(r, a, i, n, t[3], 3572445317, 16), n = c(n, r, a, i, t[6], 76029189, 23), i = c(i, n, r, a, t[9], 3654602809, 4), a = c(a, i, n, r, t[12], 3873151461, 11), r = c(r, a, i, n, t[15], 530742520, 16), i = f(i, n = c(n, r, a, i, t[2], 3299628645, 23), r, a, t[0], 4096336452, 6), a = f(a, i, n, r, t[7], 1126891415, 10), r = f(r, a, i, n, t[14], 2878612391, 15), n = f(n, r, a, i, t[5], 4237533241, 21), i = f(i, n, r, a, t[12], 1700485571, 6), a = f(a, i, n, r, t[3], 2399980690, 10), r = f(r, a, i, n, t[10], 4293915773, 15), n = f(n, r, a, i, t[1], 2240044497, 21), i = f(i, n, r, a, t[8], 1873313359, 6), a = f(a, i, n, r, t[15], 4264355552, 10), r = f(r, a, i, n, t[6], 2734768916, 15), n = f(n, r, a, i, t[13], 1309151649, 21), i = f(i, n, r, a, t[4], 4149444226, 6), a = f(a, i, n, r, t[11], 3174756917, 10), r = f(r, a, i, n, t[2], 718787259, 15), n = f(n, r, a, i, t[9], 3951481745, 21), this._a = this._a + i | 0, this._b = this._b + n | 0, this._c = this._c + r | 0, this._d = this._d + a | 0 }, s.prototype._digest = function () { this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update(); var t = a.allocUnsafe(16); return t.writeInt32LE(this._a, 0), t.writeInt32LE(this._b, 4), t.writeInt32LE(this._c, 8), t.writeInt32LE(this._d, 12), t }, t.exports = s }
}]);